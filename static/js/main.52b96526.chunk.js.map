{"version":3,"sources":["assets/img/custom-checkbox.png","assets/img/trollface.png","assets/img/logo.png","common/react/form-validator/yup-configs.js","common/react/modals/modal.js","common/react/modals/modals.js","components/Navigation/NavItems/NavItem/NavItem.js","components/Navigation/NavItems/NavItems.js","components/Navigation/FunctionWrap/HeaderSearchDropdown/HeaderSearchDropdown.js","components/Navigation/FunctionWrap/GeneralFunction/GeneralFunction.js","components/KComponent.js","common/events/events.js","common/react/form-validator/form-validator.js","common/react/input-base/input-base.js","common/react/loading-inline/loading-inline.js","common/react/social-buttons/social-button.js","common/react/modals/login-social/login-social.js","common/cache/cache.js","common/states/user-info.js","common/states/state-holder.js","common/cache/authen-cache.js","common/api/api.js","common/api/common/auth-api.js","common/react/modals/login/schema.js","common/react/modals/login/login.js","common/react/modals/register/schema.js","common/api/common/user-api.js","common/react/modals/register/register.js","components/Navigation/FunctionWrap/VisitorFunction/VisitorFunction.js","common/api/common/util-api.js","common/utils/scrapper-util.js","common/react/focused-image/focused-image.js","common/react/section-picker/section-picker.js","common/cache/api-cache/api-cache.js","common/api/common/category-api.js","common/api/common/country-api.js","common/api/common/status-api.js","common/cache/api-cache/common-cache.js","common/api/common/post-api.js","common/react/modals/upload-post/select-category/select-category.js","common/react/modals/upload-post/posting-post/posting-post.js","common/react/modals/upload-post/upload-from-url/upload-from-url.js","common/utils/common-util.js","common/react/upload-btn/upload-btn.js","common/react/modals/upload-post/upload-post.js","components/Navigation/FunctionWrap/AvatarDropdown/AvatarDropdown.js","components/Navigation/FunctionWrap/UserFunction/UserFunction.js","components/Navigation/FunctionWrap/FunctionWrap.js","components/Navigation/Toolbar/Toolbar.js","components/Sidebar/PopularSidebar/MoreDropdown/MoreDropdown.js","components/Sidebar/PopularSidebar/PopularSidebar.js","components/Sidebar/CategorySection/Category/Category.js","components/Sidebar/CategorySection/CategorySection.js","components/Sidebar/Sidebar.js","components/Sidebar/ContentSidebar/Article/Article.js","components/Sidebar/ContentSidebar/ContentSidebar.js","components/AuthenCheck/AuthenCheck.js","hoc/Layout/Layout.js","components/Feed/ProfileTag/ProfileTag.js","components/VideoPlayer/VideoPlayer.js","components/Feed/Post/Post.js","components/Feed/Feed.js","pages/MainPage/MainPage.js","pages/TestPage/TestPage.js","pages/ErrorPage/ErrorPage.js","components/SettingsPage/Selector/Selector.js","components/SettingsPage/Account.js","components/SettingsPage/Profile.js","components/SettingsPage/Password.js","components/SettingsPage/Setting.js","hoc/Layout/LayoutWithoutSidebarRight.js","pages/SettingsPage/SettingsPage.js","pages/ForgotPassword/ForgotPassword.js","pages/ConfirmResetPassword/ConfirmResetPassword.js","pages/VerifyAccount/VerifyAccount.js","common/react/modals/report/report.js","components/Avatar/Avatar.js","components/CommentList/Comment/CommentInfo/CommentInfo.js","components/CommentList/Comment/Comment.js","components/ImagePreview/ImagePreview.js","components/CommentInput/CommentInput.js","components/CommentInputWithAvatar/CommentInputWithAvatar.js","components/CommentList/FullComment/FullComment.js","components/CommentList/CommentList.js","components/CommentSection/CommentSection.js","components/FullPost/FullPost.js","pages/FullPostPage/FullPostPage.js","App.js","serviceWorker.js","common/authentication/authen-loader.js","common/utils/async-utils.js","index.js"],"names":["module","exports","__webpack_require__","p","r","__webpack_exports__","yup__WEBPACK_IMPORTED_MODULE_0__","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__","lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default","n","yup","message","this","test","val","length","arguments","undefined","isEmpty","ref","name","exclusive","params","reference","path","resolve","Modal","_Component","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","overlayElement","state","document","body","style","overflowY","inherits","createClass","key","value","setTimeout","_this2","_this$props","className","onDismiss","content","react_default","a","createElement","classnames","onMouseDown","e","target","element","Component","ModalsRegistry","modalList","modals","openModal","options","modalOptions","setState","concat","dismiss","close","result","Promise","modal","remove","forceUpdate","TransitionGroup","map","i","CSSTransition","timeout","classNames","modal_Modal","isStack","navigationItem","react_router_dom","to","link","children","navigationItems","NavItem","role","aria-label","HeaderSearchDropdown","id","onSubmit","type","placeholder","React","GeneralFunction","setWrapperRef","bind","assertThisInitialized","handleClickOutside","handleToggleVisibility","visibility","clickedOutside","node","wrapperRef","event","removeEventListener","addEventListener","prevState","contains","onClick","FunctionWrap_HeaderSearchDropdown_HeaderSearchDropdown","KComponent","_getPrototypeOf2","_len","args","Array","_key","apply","onUnmounts","onMounts","mounted","forEach","onMountFnc","onUnmountFnc","f","push","keyEvents","keyCode","require","createFormWithValidator","schema","_options","assign","validateOnBlur","validateOnChange","initData","objectSpread","errors","touched","eventManagement","_events","on","listener","isNil","removeListener","indexOf","splice","events","emit","once","handler","_len2","_key2","createEventEmitter","getPathData","get","updatePathData","data","update","validateData","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","validate","abortEarly","t0","inner","error","stop","validatePath","_ref2","_callee2","_context2","validateAt","_x","onChange","relativeFields","_ref3","_callee3","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context3","Symbol","iterator","done","return","finish","validateAll","_x2","onBlur","_ref4","_callee4","_context4","_x3","setSchema","newSchema","_validateData2","_callee5","_context5","getInvalidPaths","keys","getErrorPath","getData","_updatePathData2","_callee6","_context6","_x4","_x5","resetData","_resetData","_callee7","_args7","_context7","setInitData","updateData","_updateData","_callee8","_context8","_x6","isValid","enhancedInput","enhancedComponent","componentCreatorFunc","onEnter","InputBase","_this$props$error","_this$props$success","success","_this$props$label","label","_this$props$helper","helper","icon","_this$props$inputType","inputType","other","objectWithoutProperties","input","is-invalid","is-valid","has-error","htmlFor","LoadingInline","FacebookSharingButton","marginRight","height","fontSize","width","text","PinterestSharingButton","FacebookLoginButton","GoogleLoginButton","LoginSocial","handleFacebookResponse","res","onResponse","handleGoogleResponse","facebook_login_render_props_default","appId","process","autoLoad","fields","scope","handleClickSocialBtn","callback","render","social_button_FacebookLoginButton","google_login","clientId","hello","social_button_GoogleLoginButton","onSuccess","cookiePolicy","onFailure","Cache","engine","localStorage","valStr","getItem","JSON","parse","console","log","set","removeItem","setItem","stringify","userInfo","initValue","modifyState","_state","listeners","getState","newState","oldState","all","each","createStateHolder","cookiesEngine","Cookies","authenCache","cache","clearAuthen","loadAuthen","reject","authApi","then","info","user","omit","catch","getAuthen","setAuthen","authen","axiosApi","API","url","onErrors","addHeader","getHeader","headers","config","instance","delete","post","put","axios","create","baseURL","interceptors","request","use","response","resError","hasOwnProperty","Error","toString","toLowerCase","replace","token_expired","account_not_found","require_login","postSocial","accountSchema","shape","email","required","password","min","LoginModal","_KComponent","handleLogin","_this$form$getData","form","loading","token","expire","onLoginSuccess","err","socialStrategies","google","googleId","_res$profileObj","profileObj","imageUrl","avatarURL","accessToken","social","getBirthday","Authorization","birthdays","date","_data$data$birthdays$","year","month","day","birthday","Date","toISOString","errorMsg","facebook","userID","picture","handleSocialResponse","strategy","rawData","sendData","sent","handleServerError","errMatcher","network_error","wrong_password","gg_taken","fb_taken","onUnmount","onClose","canSubmit","emailForm","input_base_InputBase","autoFocus","onKeyDown","passForm","login_social_LoginSocial","disabled","loginModal","login_LoginModal","registerSchema","username","max","userApi","userId","checkEmail","checkUsername","postForgotPassword","postUpdatePassword","getVerifyUser","putChangePassword","updateAccount","updateProfile","MODALTYPE","INITIAL","SIGNUP","RegisterModal","checkEmailExisted","checking","validated","debounceCheckEmailExisted","debounce","handleChange","isValidSync","prepareRegisterForm","modalType","handleRegister","loadingRegister","onRegisterSuccess","account_found","_this$state","isSignup","isSubmittable","initialModalBody","react","registerModalBody","others","registerModal","open","register_RegisterModal","VisitorFunction","history","utilApi","checkImageSize","checkImageFile","Content-Type","getCommentPreview","getMetaTags","status","statusCode","FocusedImage","updateWindowDimensions","window","innerWidth","innerHeight","src","hidden","alt","autoPlay","loop","muted","SectionPicker","currentSection","defaultSection","handleClick","margin","fontWeight","description","customCheckbox","createApiCache","apiFnc","cacheData","_get","abrupt","modifyCache","newCache","syncGet","categoryApi","countryApi","statusApi","categoryCache","statusCache","countryCache","postApi","getPost","postId","getPosts","page","postPost","putPost","deletePost","updateVotePost","upVote","upvote","updateVoteComment","commentId","updateVoteReply","replyId","getComment","getComments","queryType","postComment","putComment","deleteComment","getSubcomments","getSubcomment","subId","postSubcomment","putSubcomment","deleteSubcomment","SelectCategoryModal","invalid_url","invalid_picture","handleSectionClick","category","currentCategory","handleBackClicked","postingPostModal","onUploadSuccess","file","handlePost","_id","FormData","append","title","tags","attributeLink","nsfw","redirect","categoryCached","homeCountry","categoryData","filter","includes","section_picker","selectCategoryModal","select_category_SelectCategoryModal","PostingPostModal","uploadPostModal","onPostSuccess","invalid_tag","invalid_description","handleTagInput","tagInputRef","tagArrays","tag","slice","handleSpecialKey","preventDefault","focusingImage","charLeft","savedData","descriptionRef","sensitiveRef","attributeRef","attributeLinkRef","isValidated","validateBeforePost","fromUrl","dataFromPreviousModal","checked","posting-post-modal-longer","focused_image","minLength","maxLength","defaultValue","defaultChecked","last","handleNextButton","posting_post_PostingPostModal","UploadFromUrlModal","scrapper_failed","handleFileChanged","RegExp","video","image","handleLoadSuccess","handleLoadFailed","debounceCheckFileChanged","validUrl","validPic","uploadFromUrlModal","upload_from_url_UploadFromUrlModal","getBase64","reader","FileReader","readAsDataURL","onload","fileID","lastModified","timeDifference","millisec","Math","abs","now","sec","floor","mins","hrs","days","getDate","substring","UploadButton","handleUpload","files","toConsumableArray","isMultiple","_ret","currentImages","onError","_this$props$limit","limit","v","promises","base64File","find","color","namme","_this$props2","currentImage","URL","createObjectURL","handleVideoUpload","inputElement","_this$props3","renderBtn","uploadImageOnly","click","accept","multiple","UploadPostModal","bodyData","handleUploadFromUrl","backupURL","uploadError","buttonOnClick","upload-post-modal-longer","upload_btn","href","rel","trollface","upload_post_UploadPostModal","AvatarDropdown","handleLogOut","UserFunction","FunctionWrap_AvatarDropdown_AvatarDropdown","FunctionWrap","isLogin","FunctionWrap_GeneralFunction_GeneralFunction","FunctionWrap_VisitorFunction_VisitorFunction","FunctionWrap_UserFunction_UserFunction","toolbar","NavItems","Navigation_FunctionWrap_FunctionWrap","MoreDropdown","PopularSidebar","PopularSidebar_MoreDropdown_MoreDropdown","Category","iconType","CategorySection","cachedCategory","categories","CategorySection_Category_Category","Sidebar","Sidebar_PopularSidebar_PopularSidebar","Sidebar_CategorySection_CategorySection","Article","img","ContentSidebar","ContentSidebar_Article_Article","AuthenCheck","withRouter","Layout","components_AuthenCheck_AuthenCheck","Toolbar","components_Sidebar_Sidebar","Sidebar_ContentSidebar_ContentSidebar","profileTag","currentTag","selected","visibilityChange","msHidden","webkitHidden","VideoPlayer","handleVisibilityChange","videoElement","pause","showLength","firstTime","playing","handlePlay","play","lengthTimeOut","handlePause","togglePlay","hasAudio","toggleSound","sound","image460sv","clearTimeout","videoStyle","containerStyle","_video$image460sv","second","convertSecToMinSec","duration","es","onLeave","topOffset","bottomOffset","preload","poster","image460","vp9Url","image460svwm","h265Url","off","hide","presenting","Post","handleVote","currentVote","upVoteCount","downVoteCount","upVoteC","downVote","_downVote","_upVoteC","_upVoteC2","_downVote2","_result$data","_upVoteCount","_downVoteCount","currentVoteState","upIndex","upVotes","findIndex","downIndex","downVotes","showMore","pictureStyle","videoContainerStyle","index","images","minHeight","realWidth","maxWidth","paddingLeft","firstPost","createdAt","_this$state2","time","media","webpUrl","srcSet","components_VideoPlayer_VideoPlayer","no-pd-t","comments","FacebookShareButton","social_button_FacebookSharingButton","PinterestShareButton","image700","social_button_PinterestSharingButton","Feed","posts","nextLink","hasMoreItems","newPosts","_this3","items","_this4","hasProfile","Feed_Post_Post","ProfileTag","react_infinite_scroller_default","pageStart","loadMore","loadItems","hasMore","loader","display","justifyContent","MainPage","hoc_Layout_Layout","components_Feed_Feed","App","ErrorPage","xmlns","viewBox","version","stroke","strokeWidth","fill","fillRule","d","Selector","selectVal","optionValue","handleSelector","Account","handleUpdateAccount","newUsername","newEmail","newShowNSFW","optionShowNSFW","newMaskNSFW","optionMaskNSFW","handleChangeUsername","checkingUsername","debounceCheckUsernameExisted","loadingUsername","checkUsernameExisted","handleChangeEmail","checkingEmail","loadingEmail","handleSelectorMaskNSFW","handleSelectorShowNSFW","errorMatcher","email_account_found","user_account_found","maskNSFW","showNSFW","Selector_Selector","Profile","handleUpdateProfile","avatarUrl","birthdayYear","birthdayDay","birthdayMonth","blogText","optionStatus","country","optionCountry","gender","optionGender","handleSelectorStatus","handleSelectorCountry","handleSelectorGender","statusId","cachedStatus","cachedCountry","countries","profileSchema","integer","bd","getFullYear","getMonth","_ref5","Password","handleChangePassword","currentPassword","newPassword","user_validation_faied","incorrect_password","passwordSchema","comfirmNewPassword","equalTo","isChangePassword","Setting","match","settingId","SettingsPage_Account","SettingsPage_Password","SettingsPage_Profile","LayoutWithoutSidebarRight","handleLoginSuccess","SettingsPage","Layout_LayoutWithoutSidebarRight","react_router","component","ForgotPassword","handleForgotPassword","sentPassword","forgotPasswordSchema","handleResetPassword","search","URLSearchParams","location","confirmPassword","logo","VerifyAccount","ReportModal","section","currentReason","handleCancelClicked","proceed","handleNext","reportData","reasons","reportContent","listContent","list","shorter","reportModal","report_ReportModal","avatar","commentInfo","points","statusObject","showStatus","draggable","isPro","postCreatedBy","Comment","requestVoteApi","isUpvote","isSubComment","comment","parentComment","handleVoteClicked","_this$props$comment","upVoteFind","downVoteFind","avatarStyle","overflow","createdBy","Avatar","CommentInfo","handleReplyClicked","active","imagePreview","CommentInput","handlePostComment","newComment","random","subcommentsLength","handlePostReply","apiFunction","isPostMemeful","imagePreviewSrc","loadingPreview","handleFileChange","defaultOnChange","notRequired","matches","taggedUser","invalidForms","isFormInvalid","isDisable","ImagePreview","CommentInputWithAvatar","isReply","components_CommentInput_CommentInput","FullComment","handleLoadReply","subcomments","reply","newSub","unshift","showReplyInput","CommentList_Comment_Comment","subcomment","marginLeft","marginTop","marginBottom","components_CommentInputWithAvatar_CommentInputWithAvatar","CommentList","focusedReply","CommentList_FullComment_FullComment","CommentSection","newArray","components_CommentList_CommentList","FullPost","categoryId","flexGrow","components_CommentSection_CommentSection","FullPostPage","scrollTo","components_FullPost_FullPost","modals_ModalsRegistry","ConfirmResetPassword","exact","TestPage","Boolean","hostname","asyncArr","invokeResolve","fnc","authenLoader","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.52b96526.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAA0ElEQVR4Ae3NoSKEQRwA8T8AAAAAgEi+CqIkicALEL9GB6oEiKCSaVAAAAAAGGkXotsD9vcAM/IzWJZlWbThiKfgTQ+Ahxb40Y9ifkEQY6C1iFlEMIXyTJOYRRyzKI/UiFmksYhyR5WYRT7rKFeUiVkUs49yiks+DwdHPsDFKcoBJe7lgfcLKrlG2aLI/fy7BdXcoyyTJWJkoBbU8YQyT7IoZhY0gzZDrCjGFmjTRIhmfjFJsGjmFyP4i2Z+0YuPmKcXHXiJp+DQKt/IsizLegFpzjZcUhqNnAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/trollface.eb3785ee.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAABFWlDQ1BpY20AAHheY2Bg4slJzi1mEmBgyM0rKQpyd1KIiIxSYL/DwMggycDMoMlgmZhcXOAYEODDgBN8uwZUDQSXdUFmocsSAFwpqcXJQPoPEMclFxSVMDAwxgDZ3OUlBSB2BpAtkpQNZteA2EVABwLZE0DsdAh7CVgNhL0DrCYkyBnIPgNkO6QjsZOQ2FB7QYA52QjKoiIoSa0AupmBwc2JgQEUphBRRFghxJjFgNgYGBdLEGL5ixgYLL4CxScgxJJmMjBsb2VgkLiFEFNZwMDA38LAsO18cmlRGUSMQQqITzOeZE5mncSRzf1NwF40UNpE8aPmBCMJ60lurIHlsW+zC6pYOzfOqlmTub/28uGXBv//AwDeQVN9kuwu9QAAEp9JREFUeF7t3T16I0XXBmDMm0yGdoBCMkxEiMjI0BI0O1BIhmcHWoJYAQoJvQSxA7MDT0b2fcUrLl7jY3taXa1W/dx3wDVI/qmubndL52md+gwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgdqv/io8D0Kzlcnk4HP7vv9I/0v/GrwGgKYvF4u7u7nTqfyo9mJ6KXw9ACzabzePjYzz7n6Sn0hfE7wKgYqvV6ng8xpN+lL5MMADQgqfl/uEEAwAVe63cP5xgAKA+b5f7hxMMAFRjtVrd39/HU3mO9AMFAwDlWi6X+/0+nr6nkn64YACgLKdy/yQ1n7elXyEYACjFZrN5eHiIJ+vLSb9OMABwTZco9w8nGAC4gsVicdFy/3BpGCpCADOZp9w/3CkYiOMEYDLr9Xrmcv9waWBpeHHMAGS5vb29Yrl/uDTINNQ4fgDOVk65fzjBAECu0sr9wwkGAEZarVbFlvuHS5vgVlGAoZbLZRXl/uHS5ughAfCWxWKx2+3iCbQNadMEAwAv2G63lZb7h0sbmDYzbjtAp9oo9w8nGABosNw/nGAA6FT+eo1t0Fwa6MtU6zW2waqTQBdWq9XxeIwnQdK0CAaANi2Xy8PhEE98PJWmSDAAtEO5/1yCAaAFyv3jCAaAil13vcY2WHUSqMxyuayugXPJ0mQKBoDSncr9aj6TOzWXFgwAhdpsNl11dJhfml7BAFAW5f45CQaAItS4XmMbrDoJXJNy/3VZdRK4gvV6rdxfiLQj0u6I+whgYre3t8r9BUo7Je2auL8AJqDcXz7BADA95f5aCAaAyfS2XmMbrDoJZOl5vcY2WHUSONtisdjtdvGEQo3SrhQMAINst1vl/sakHZp2a9zXAH9T7m+bYAB4gXJ/PwQDwN+U+/skGIDeWa+xZ1adhE6tVqvj8RhPCvQmHQaCAejFcrk8HA7xREDP0iEhGOjQf+JDtGqxWPz000+//vrrV199FZ+lZ+mQ2G63Nzc36Q3Bn3/+Gb8AqJhyP0MIBqApyv2cSzAA1Vsulxo4M1o6eAQDbZMBtOlU7k9/wN9++218Foa4vb19//79u3fvBANQjc1mo6MDE0qHk2AASrdarXR04ELSoSUYgBIp9zMPwQCUxXqNzMmqk1CE9Xqt3M9VpAMvHX7xmAQu7vb2Vrk/xynYFJhnSgdhOhTj8QlcxGKxUO7PdHd3908z5PQPNbRM6YDUXBouzqkq02tdz/TIyyQYgAtS7s80pL2BthmZBAMwMes1Zjq3wZnGeZmsOgkTsF5jvqfl/uFOwUD8aQxn1UkYb7vdeh2aI/91qGAgUzqA02EcJxZ41Wq1Uu7PkWZvwqYFgoFM0+4OaJZyf6bLveQUDGQSDMCrlPvzXbroLBjIJxiA57y6zDTnq0vBQCarTsLf1JczXevGczlNJqtO0jUvJDOV8NFTd2pleu2D2dAspeR85TSfEd7kG/dZDaiPcn+mMttPun0rk2CAxin3Zyp/ZVrBQCbBAG3SwDnHqdxfS5VAMJAp/bHEWYWKxaOcgWpchFYwkClOKVQsHuJ80v39fdUFAcHAaHEyoWLxEOcNLUWCgoER4jRCxeIhzmuavCnQUm5niRMIFYuHOFHbHwtKVzX3AgwUZw8qFg9xnurn/r/b21vBwCfFeYOKxUOckz4/AWSF57fFGYOKxUOcpPPmwIKB18S5gorFQ7xzlgc5EQy8KE4UVCwe4t2yQGAkGHgmThFULB7iHbJE+NsEA/+IkwMVi4d4b6wFOMSpVbhgIM4MVCwe4v0os4FzyZbLZefBQJwTqFg8xHtwrfUa27BarboNBuJsQMXiId62EtZrbMNms+kwGIjzwCV8Hh+CfIfDYbfbxcc5136/T5MZHweqEV/jNM89P/m67SQapwIqFg/xTljkb5zO1xKIEwIVi4d4V9pu8zktq4klcVqgYvEQ71CTjf6nZT3hkzgzULF4iPepz96fQ1g47Kk4P1CxeIj3TDDwlKWDozhLULF4iLPf7zsPBpT7XxPnCioWD3GS0+fF+gwGlPvfEKcLKhYPcf7x8PDQVTCg3P9JcdKgYvEQ55n7+/vmg4Hlcnk4HOK280ycOqhYPMR50X6/b7IidOrzHLeXF8UJhIrFQ5zXtNdIbrPZKPefJc4hVCwe4rytjVbSq9XqeDzGreNtcSahYvEQZ4h6F5NR7s8R5xMqFg9xhqsrGFDuzxdnFSpmoddMtTSXVu6fRJxYqJuFXvM9PDwUe6uocv+E4vRCC3pe6HUqaQKL6iGh3D+5OMnQjj4Xep3Wbre7ejBwKver+UwuTjU0xbkj33WDAVfxy4mzDQ0SDOSbv7m0Ot6lxTmHZjmh5Jtn1UkX7HnEmYfGuYMw3+WaSyvZzSnOP7TPZ4jyXWLVSeX+mcVdAL1wW2G+qYIB1bmriDsC+uKDRflyVp1U7r+iuDugR4KBTONWnVTuv664R6BTgoF8w1edXK/Xyv1XF/cLdE0wkO/t5tLpKeX+QsS9AwgGJhCbS6f/Ve4vytO9A/yLYCDT01UnlfsL9O/jnUu5iQ9RhfSidbvd/vzzz/EpBvrjjz/Sf7/88svwDFd2c+PUNAezXLflcrnb7X788cf4FNTLBWAeZrkFq9UqXQa+/vrr+BTUyAVgHma5HZvNJl0Gvvjii/gU1MUFYB6fx4eo1OlTrx8+fIhPAUQusw0SDFA77wDmYZabJRigXi4A8zDLjRMMUCMXgHnIABonGABe4zLbC8EAFfEOYB5muS+CAargAjAPs9wjwQCFcwGYhwygR4IBIHGZ7ZpggDJ5BzAP7wC69vDwsF6vv//++99//z0+S5NOPVAhcQHgs9M6We/fv//48WN8lmak/fvhw4fRq+QDLbP4cMOeroMWny3Nvw9MYC4WH25Meoe3Wq2e7uL4NaV5OlpgbhYfbsDDw8Nms4k7N35laeKYgblZfLhed3d3z9a+/0f84tLEMQNXkE4iu90u/olSrMPh8HbSG7+lNHHMwNWkE8r9/X38Q6Uox+PxWbn/RfEbSxPHDFxZOrk8PDzEP1eu7vHxcbvdxl32ovjtpYljBoqQTjSCgaLsdrvXyv0vij+hNHHMQCkEA4W4v78f8cGu+HNKE8cMlEUwcEWnNh5xpwwRf1pp4piBEgkGZvb4+Hh3dxd3xHDxZ5Ymjhkol2BgHk87OowWf2xp4piBogkGLurUsy9O+wjxh5cmjhmogGBgcq91dBgt/orSxDED1RAMTOJU7s+v+TwTf1Fp4piByggGcnyyo8No8XeVJo4ZqI9gYISBHR1Gi7+xNHHMQK0EAwOlN0zTlvtfFH9vaeKYgboJBt52bkeH0eKvLk0cM9ACwUA0rqPDaHEApYljBhohGPhHekt00XL/i+IwShPHDDSl82Agv6PDaHEwpYljBhrUZzAwSUeH0eJ4ShPHDDSrn2Bgwo4Oo8VRlSaOGWhZ88HA5B0dRotjK00cM9C+JoOBC3V0GC2OsDRxzEAvWgoG9vv9nLd4DhEHWZo4ZqAvtQcDl+7oMFocamnimIHuVBoMzNPRYbQ44NLEMQOdqisYKKrc/6I45tLEMQNdKz8YmLmjw2hx5KWJYwYoNBi4SkeH0eL4SxPHDPCXooKBdDVK16Q4yJLFrShNHDPA/9ze3l49GLhuR4fR4oaUJo4Z4Ln1en2VYKCEjg6jxc0pTRwzwMvu7u5mCwbS9SZddeIYKhI3qjRxzACvWiwW+/0+nkomVFpHh9HippUmjhngEy4XDBTY0WG0uHWliWMGGGTaYKDYjg6jxW0sTRwzwBnyg4HCOzqMFre0NHHMAOfJCQbaKPe/KG5saeKYAcY4Nxg4HA7NlPtfFDe5NHHMAOMNCQbq6ugwWtzw0sQxA+R6LRiosaPDaHHzSxPHDDCBGAzsdrtWy/0verrtZYpjBpjMKRiouqPDaPGEW5o4Zi7hJj4EtK38M+zNjVPTHD6PDwHQAxcAgE65AAB0ygUAoFMuAACdcgEA6JQLAECnXAAAOuUCANApFwCATrkAAHTKBQCgUy4AAJ1yAQDolAsAQKdcAPhsu90+Pj72uTRKb1arVdrR8XGgO+l08Gyd9N4WR+zHcrl8thBmyeL4gcmk00F6JRj/8JKulkfvQbqiv7YUfrHiVgATSKeD9DI//sk9k94ZpPcH8dupy3q9fvYmrwpxQ4Bc574STO8S0nuF+HMo32nV+7hPqxA3Bxgv55WgYKAuaWdVVO5/UdwoYIxJXgmm9w2bzSb+cEpTXbn/RXG7gPNM/krweDwKBooV7+mqV9w64AyXeyV4OBwEA0V5456uSsVtBAaZ58aPdIERDFzdwHu6qhO3FPiE0+c845/ThQgGruv0Ee64XxoQNxZ41RU/55kuOYKBmaUJPx6PcV80I24y8IJCPueZLj+CgRmkST4cDnH+GxM3HHhus9mUc+NHuggJBi7ndKWP096kuPnA/8xc7h8uXZAEA5NLU9pquf9FcQaAv1TR1lFz6ak0X+5/UZwH6F11bR3ThUpFaLS6GjhPK84GdK2ocv9wp2Agbg5vqLGB87TinECnGigCpEvXer2Om0ZU6ZV+WnFaoDuN3fOnufTbqm7gPK04OdCRhu/501w6aqCB87TiFEEvmr/nz6qTT3Ve7n9RnCVoX1f3/Fl1stL1GmcQ5wpa1slH/KM+g4H2GjhPK84YtKnVjr5n6aeHhN09RJw3aFDDHX3P1UNzabt7oDh10JSWFvCbUKurTtrdZ4kTCI1Q//2kllad7DbdyRGnEaqn/nuW2oOBrho4TytOJtRN/XeEeptL99bAeVpxPqFiHXb0nVBdq0722cB5WnFWoWI9t/adSvmrTir359M3kGYVu4xXLYpddVID53w6h9MF/X4zlfYi0Q7NZ+0gOuIFY74SVp30li6f1UPplGAg37VeOWrgnE+5H9w0kmv+2rF3b5mU++Ff3DaeaZ6Xkxo451Puhxf44Gi+yzWXtl5jPuV++AT3kuebdtVJDTzyKffDGQQDmaZadVIDj0zK/TCSYCBTzqqTGjjnU+6HLIKBfOcGA/p151Puh8kIBvIN6SHhcptPuR8uQjCQ6e1VJxXcMin3w8WJJTPFVSddWfMp98NM3JiY77TqpNpaPuX+et3Eh6jFqZXQd999F5+CGfzxxx/p/Wi6gsanqIILQPVWq1W6DHz55ZfxKbiQjx8/pvegKv5QBMEAs1Huh+IIBrg05X4omg8xcQnu7odqaGPAVNzd37D/xIdoQDr773a7m5ubb7755t27d/ELYIhffvnlhx9++O233+JTQOmsXMg4yv3QCIuZMJxyPzTIcoa87VTud4snNMuC5rxov99faDVNoCCCAZ66v78fvWwOUCXBAA8PD2/0xwYaJxjok3I/8DfBQFeU+4F/OTWXjicLWqLcD7wqnR0EA01S7gcGSWcKwUAzlPuB86TzhWCgAcr9wEiCgXop9wMTEAzURbkfmJhgoHzK/cClnIKBeN6hBMr9wMWls8zhcIgnIK5FuR+YVTrjHI/HeDJiTsr9wNWks49bRa9CuR+4PsHA/JT7gYIIBuah3A8USjBwOcr9QAUEA9NS7gdqks5Wu90unss4l3I/UKV05tJDYjTlfqB66Symh8RZlPuBpmy3W8HAJyn3A20SDLxNuR9onGAgUu4HOiIYOFHuBzrVeTCg3A90rc9g4HA4KPcD/OX29raTYOB4PCr3Azy3Xq8bDgYeHx+V+wHecnd3114woNwPMEg6V+73+3garZFyP8DZag8GlPsBstQYDCj3A0ymomBAuR9gYuUHA8r9ABe0Wq0KDAaU+wFmstlsCgkGlPsB5rZYLK4eDCj3A1zNcrm8SjCg3A9QhDmDAeV+gOJcOhhQ7gco1+WCAeV+gAosl8vD4RBP4uMo9wNUZrVaHY/HeEIfTrkfoGKbzWZERUi5H6AFp2AgnuVfo9wP0JQhwYByP0CzXgsGlPsBuvA0GFDup1s38SHowWKx2G636R+73S5dA8LzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQss8++39nAL3oCZC7YQAAAABJRU5ErkJggg==\"","import * as yup from \"yup\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\n\r\nyup.addMethod(yup.string, \"isTax\", function(message) {\r\n  return this.test(\"isTax\", message, function(val) {\r\n    return val ? val.length === 14 || val.length === 10 : true;\r\n  });\r\n});\r\n\r\nyup.addMethod(yup.object, \"notEmpty\", function(message = \"Array is not Empty\") {\r\n  return this.test(\"notEmpty\", message, function(val) {\r\n    return !isEmpty(val);\r\n  });\r\n});\r\nyup.addMethod(yup.string, \"isPhone\", function(\r\n  message = \"This is not a phone number\"\r\n) {\r\n  return this.test(\"isPhone\", message, function(val) {\r\n    return /\\D/gi.test(val) === false;\r\n  });\r\n});\r\nyup.addMethod(yup.string, \"onlyWord\", function(\r\n  message = \"There are other things than words\"\r\n) {\r\n  return this.test(\"onlyWord\", message, function(val) {\r\n    return /\\W/gi.test(val) === false;\r\n  });\r\n});\r\n\r\nyup.addMethod(yup.string, \"haveChar\", function(\r\n  message = \"Must have alphabet characters\"\r\n) {\r\n  return this.test(\"haveChar\", message, function(val) {\r\n    return /[a-z]/gi.test(val) === true;\r\n  });\r\n});\r\n\r\nyup.addMethod(yup.string, \"haveNumber\", function(\r\n  message = \"Must have numbers\"\r\n) {\r\n  return this.test(\"haveNumber\", message, function(val) {\r\n    return /\\d/gi.test(val) === true;\r\n  });\r\n});\r\n\r\n//passwordConfirm: yup.string().equalTo(yup.ref('password'), 'Passwords must match').required('Required'),\r\n\r\nyup.addMethod(yup.string, \"equalTo\", function(ref, message) {\r\n  return this.test({\r\n    name: \"equalTo\",\r\n    exclusive: false,\r\n    message,\r\n    params: {\r\n      reference: ref.path\r\n    },\r\n    test: function(val) {\r\n      return val === this.resolve(ref);\r\n    }\r\n  });\r\n});\r\n\r\nyup.addMethod(yup.string, \"notEqualTo\", function(ref, message) {\r\n  return this.test({\r\n    name: \"notEqualTo\",\r\n    exclusive: false,\r\n    message,\r\n    params: {\r\n      reference: ref.path\r\n    },\r\n    test: function(val) {\r\n      return val !== this.resolve(ref);\r\n    }\r\n  });\r\n});\r\n","import React, { Component } from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nexport class Modal extends Component {\r\n  overlayElement = null;\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n\r\n    document.body.style.overflowY = \"hidden\";\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    setTimeout(() => {\r\n      document.body.style.overflowY = null;\r\n    }, 300);\r\n  }\r\n\r\n  render() {\r\n    const { className, onDismiss, content } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={classnames(\"modal k-modal\", className)}\r\n        onMouseDown={e => e.target === this.overlayElement && onDismiss()}\r\n        ref={element => (this.overlayElement = element)}\r\n      >\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content\">{content}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport remove from \"lodash/remove\";\r\n\r\nimport { Modal } from \"./modal\";\r\n\r\nexport const appModal = {\r\n  alert({ text, title, btnText = \"OK\" }) {\r\n    const modal = modals.openModal({\r\n      content: (\r\n        <div className=\"alert-modal\">\r\n          <div className=\"modal-header\">\r\n            <div className=\"modal-title\">{title}</div>\r\n            <i\r\n              className=\"fas fa-times close-modal\"\r\n              onClick={() => modal.close()}\r\n            />\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <p>{text}</p>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={() => modal.close()}\r\n            >\r\n              {btnText}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n    return modal.result;\r\n  },\r\n  confirm({ text, title, btnText = \"Confirm\", cancelText = \"Cancel\" }) {\r\n    const modal = modals.openModal({\r\n      content: (\r\n        <div className=\"confirm-modal\">\r\n          <div className=\"modal-header\">\r\n            <div className=\"modal-title\">{title}</div>\r\n            <i\r\n              className=\"fas fa-times close-modal\"\r\n              onClick={() => modal.close(false)}\r\n            />\r\n          </div>\r\n          <div className=\"modal-body\">{text}</div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              className=\"btn modal-btn btn-danger cancel-btn ml-3\"\r\n              onClick={() => modal.close(false)}\r\n            >\r\n              {cancelText}\r\n            </button>\r\n            <button\r\n              className=\"btn modal-btn btn-primary confirm-btn ml-3\"\r\n              onClick={() => modal.close(true)}\r\n            >\r\n              {btnText}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n    return modal.result;\r\n  }\r\n};\r\n\r\nexport class ModalsRegistry extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { modalList: [] };\r\n\r\n    modals.openModal = options => {\r\n      let modalOptions = {\r\n        options,\r\n        resolve: null\r\n      };\r\n\r\n      let { modalList } = this.state;\r\n      this.setState({ modalList: modalList.concat([modalOptions]) });\r\n      let result = new Promise(resolve => {\r\n        modalOptions.resolve = resolve;\r\n      });\r\n      return {\r\n        dismiss: () => {\r\n          this.dismiss(modalOptions);\r\n        },\r\n        close: result => {\r\n          this.close(modalOptions, result);\r\n        },\r\n        result: result\r\n      };\r\n    };\r\n  }\r\n\r\n  dismiss(modal) {\r\n    remove(this.state.modalList, modal);\r\n    modal.resolve();\r\n    this.forceUpdate();\r\n  }\r\n\r\n  close(modal, result) {\r\n    remove(this.state.modalList, modal);\r\n    modal.resolve(result);\r\n    this.forceUpdate();\r\n  }\r\n\r\n  render() {\r\n    const { modalList } = this.state;\r\n    return (\r\n      <TransitionGroup className=\"modals\">\r\n        {modalList.map((modal, i) => (\r\n          <CSSTransition key={i} timeout={300} classNames={\"slideIn\"}>\r\n            <Modal\r\n              key={i}\r\n              isStack={modalList.length > 1}\r\n              className={modal.options.className}\r\n              content={modal.options.content}\r\n              onDismiss={() => this.dismiss(modal)}\r\n            />\r\n          </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n    );\r\n  }\r\n}\r\n\r\nexport const modals = {};\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst navigationItem = props => (\r\n  <li >\r\n    <NavLink className=\"my-nav-link\"\r\n      to={props.link}\r\n    >\r\n      {props.children}\r\n    </NavLink>\r\n  </li>\r\n);\r\n\r\nexport default navigationItem;\r\n","import React from \"react\";\r\nimport NavItem from \"../NavItems/NavItem/NavItem.js\";\r\n\r\nconst navigationItems = () => (\r\n  <ul className=\"secondary\">\r\n    <NavItem link=\"/\">Free App</NavItem>\r\n    <NavItem link=\"/\">\r\n      9GAG Tee{\" \"}\r\n      <span role=\"img\" aria-label=\"T-Shirt\">\r\n        \r\n      </span>\r\n    </NavItem>\r\n    <NavItem link=\"/\">Rate My Outfit</NavItem>\r\n    <NavItem link=\"/\">Crappy Design</NavItem>\r\n    <NavItem link=\"/\">\r\n      Near You{\" \"}\r\n      <span role=\"img\" aria-label=\"Near you\">\r\n        \r\n      </span>\r\n    </NavItem>\r\n    <NavItem link=\"/\">K-Pop</NavItem>\r\n  </ul>\r\n);\r\n\r\nexport default navigationItems;\r\n","import React from \"react\";\r\n\r\nclass HeaderSearchDropdown extends React.Component {\r\n  render() {\r\n    return (\r\n      <div id=\"header-search-dropdown\" className=\"popup-menu search\">\r\n        <form id=\"headbar-search\" onSubmit={null}>\r\n          <div className=\"headbar-search\">\r\n            <input type=\"text\" id=\"search-input\" className=\"search-input\" placeholder=\"Type to search...\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HeaderSearchDropdown;","import React, { Component } from \"react\";\r\nimport HeaderSearchDropdown from \"../HeaderSearchDropdown/HeaderSearchDropdown\";\r\n\r\nclass GeneralFunction extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.setWrapperRef = this.setWrapperRef.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.handleToggleVisibility = this.handleToggleVisibility.bind(this);\r\n    this.state = {\r\n      visibility: false,\r\n      clickedOutside: false\r\n    };\r\n  }\r\n\r\n  setWrapperRef(node) {\r\n    this.wrapperRef = node;\r\n  }\r\n\r\n  handleToggleVisibility(event) {\r\n    if (!this.state.visibility) {\r\n      document.addEventListener(\"click\", this.handleClickOutside, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleClickOutside, false);\r\n    }\r\n    this.setState(prevState => ({ visibility: !prevState.visibility }));\r\n  }\r\n\r\n  handleClickOutside(event) {\r\n    if (this.wrapperRef && this.wrapperRef.contains(event.target)) {\r\n      return;\r\n    }\r\n    this.handleToggleVisibility();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <span>\r\n        <div className=\"general-function\">\r\n          <button id=\"header-darkmode-btn\" className=\"darkmode-toggle\" >\r\n            Dark mode\r\n          </button>\r\n          <button\r\n            id=\"header-search-btn\"\r\n            className=\"search\"\r\n            onClick={this.handleToggleVisibility}\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n        <span ref={this.setWrapperRef}>\r\n          {this.state.visibility && (\r\n            <HeaderSearchDropdown />\r\n          )}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GeneralFunction;\r\n","import { Component } from \"react\";\r\n\r\nexport class KComponent extends Component {\r\n  onUnmounts = [];\r\n  onMounts = [];\r\n\r\n  componentDidMount() {\r\n    this.mounted = true;\r\n    this.onMounts.forEach(onMountFnc => onMountFnc());\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false;\r\n    this.onUnmounts.forEach(onUnmountFnc => onUnmountFnc());\r\n  }\r\n\r\n  onMount(f) {\r\n    this.onMounts.push(f);\r\n  }\r\n\r\n  onUnmount(f) {\r\n    this.onUnmounts.push(f);\r\n  }\r\n}\r\n","/* eslint-disable eqeqeq */\r\nimport isNil from \"lodash/isNil\";\r\nimport forEach from \"lodash/forEach\";\r\n\r\nexport const keyEvents = {\r\n  isPeriod(e) {\r\n    return e.keyCode == 190;\r\n  },\r\n  isSpacebar(e) {\r\n    return e.keyCode == 32;\r\n  },\r\n  isNumber(e) {\r\n    const keyCode = e.keyCode || e.charCode;\r\n    return (\r\n      (keyCode >= 48 && keyCode <= 57) || (keyCode >= 96 && keyCode <= 105)\r\n    );\r\n  },\r\n  isEnter(e) {\r\n    return e.keyCode == 13;\r\n  },\r\n  isEsc(e) {\r\n    return e.keyCode == 27;\r\n  }\r\n};\r\n\r\nexport function createEventEmitter() {\r\n  const _events = {};\r\n  const on = (event, listener) => {\r\n    if (isNil(_events[event])) {\r\n      _events[event] = [];\r\n    }\r\n    _events[event].push(listener);\r\n\r\n    return () => {\r\n      removeListener(event, listener);\r\n    };\r\n  };\r\n  const removeListener = (event, listener) => {\r\n    if (isNil(_events[event])) {\r\n      return;\r\n    }\r\n    let i = _events[event].indexOf(listener);\r\n    _events[event].splice(i, 1);\r\n  };\r\n  return {\r\n    on,\r\n    events: () => _events,\r\n    emit: (event, ...args) => {\r\n      if (isNil(_events[event])) {\r\n        return;\r\n      }\r\n      forEach(_events[event], listener => {\r\n        listener(...args);\r\n      });\r\n    },\r\n    removeListener,\r\n    once: (event, listener) => {\r\n      on(event, function handler(...args) {\r\n        removeListener(event, handler);\r\n        listener(args);\r\n      });\r\n    }\r\n  };\r\n}\r\n","import get from \"lodash/get\";\r\nimport update from \"lodash/update\";\r\n\r\nimport { createEventEmitter, keyEvents } from \"../../events/events\";\r\n\r\nrequire(\"./yup-configs\");\r\n\r\nexport const createFormWithValidator = (schema, _options) => {\r\n  const defaultOptions = {\r\n    validateOnBlur: true,\r\n    validateOnChange: false,\r\n    initData: {}\r\n  };\r\n\r\n  let options = Object.assign({}, defaultOptions, _options);\r\n\r\n  let state = { ...options.initData };\r\n  let errors = {};\r\n  let touched = {};\r\n  let eventManagement = createEventEmitter();\r\n\r\n  const getPathData = path => {\r\n    return get(state, path);\r\n  };\r\n\r\n  const updatePathData = (path, data) => {\r\n    update(state, path, () => data);\r\n  };\r\n\r\n  const validateData = async () => {\r\n    try {\r\n      await schema.validate({ ...state }, { abortEarly: false });\r\n      errors = {};\r\n    } catch (e) {\r\n      errors = {};\r\n      /*\r\n       ********* VALIDATION ERROR SCHEMA **********\r\n       ***ValidationError:\r\n       *errors: (2) [\"Email khng c  trng\", \"Mt khu bt buc t 6 k t tr ln\"]\r\n       *inner: (2) [ValidationError, ValidationError]\r\n      -----0: ValidationError {name: \"ValidationError\", value: \"\", path: \"email\", type: \"required\", errors: Array(1), }\r\n      -----1: ValidationError {name: \"ValidationError\", value: \"\", path: \"password\", type: \"min\", errors: Array(1), }\r\n       *message: \"2 errors occurred\"\r\n       *name: \"ValidationError\"\r\n       *path: undefined\r\n       *type: undefined\r\n       *value: {email: \"\", password: \"\"}\r\n       *stack: \"ValidationError: 2 errors occurred    at eval (webpack-internal:///./node_modules/yup/lib/util/runValidations.js:98:30)\"\r\n       *__proto__: Error\r\n       */\r\n\r\n      if (e.inner && e.inner.length > 0) {\r\n        e.inner.forEach(error => {\r\n          errors[error.path] = error;\r\n        });\r\n      } else {\r\n        // One error only\r\n        errors[e.path] = e;\r\n      }\r\n    }\r\n  };\r\n\r\n  const validatePath = async path => {\r\n    try {\r\n      await schema.validateAt(path, state);\r\n      delete errors[path];\r\n    } catch (e) {\r\n      errors[path] = e;\r\n    }\r\n  };\r\n\r\n  // Pass on the OnKeyDown\r\n  const onEnter = path => e => {\r\n    if (keyEvents.isEnter(e)) {\r\n      eventManagement.emit(\"enter\");\r\n    }\r\n  };\r\n\r\n  const onChange = (path, validateOnChange, relativeFields) => async e => {\r\n    // eslint-disable-next-line eqeqeq\r\n    const value = e.target && e.type == \"change\" ? e.target.value : e;\r\n\r\n    updatePathData(path, value);\r\n\r\n    eventManagement.emit(\"change\", state);\r\n\r\n    if (validateOnChange || options.validateOnChange) {\r\n      if (!touched[path]) {\r\n        touched[path] = true;\r\n      }\r\n      if (relativeFields && relativeFields.length) {\r\n        for (let p of relativeFields) await validatePath(p);\r\n      }\r\n      if (options && options.validateAll) {\r\n        await validateData();\r\n      } else {\r\n        await validatePath(path);\r\n      }\r\n\r\n      eventManagement.emit(\"change\", state);\r\n    }\r\n  };\r\n\r\n  // Pass on onBlur\r\n  const onBlur = path => async e => {\r\n    if (!touched[path]) {\r\n      touched[path] = true;\r\n    }\r\n    try {\r\n      await schema.validateAt(path, state);\r\n      delete errors[path];\r\n    } catch (e) {\r\n      errors[path] = e;\r\n    }\r\n    eventManagement.emit(\"change\", state);\r\n  };\r\n\r\n  return {\r\n    setSchema: (newSchema = {}) => {\r\n      schema = newSchema;\r\n    },\r\n    on: eventManagement.on,\r\n    validateData: async () => {\r\n      await validateData();\r\n      eventManagement.emit(\"change\", state);\r\n    },\r\n    getInvalidPaths: () => Object.keys(errors),\r\n    getErrorPath: path => (touched[path] ? { ...errors[path] } : null),\r\n    getData: () => ({ ...state }),\r\n    updatePathData: async (path, data) => {\r\n      updatePathData(path, data);\r\n      await validatePath(path);\r\n      eventManagement.emit(\"change\", state);\r\n    },\r\n    resetData: async (data = {}) => {\r\n      state = Object.assign({}, data, options.initData);\r\n\r\n      await validateData();\r\n      touched = {};\r\n      eventManagement.emit(\"change\", state);\r\n    },\r\n    setInitData: (data = {}) => {\r\n      options = Object.assign({}, options, { initData: data });\r\n    },\r\n    updateData: async data => {\r\n      state = Object.assign({}, state, data);\r\n      await validateData();\r\n\r\n      eventManagement.emit(\"change\", state);\r\n    },\r\n    isValid: () => Object.keys(errors).length === 0,\r\n    getPathData,\r\n    enhancedInput: (path, validateOnChange = false) => {\r\n      return {\r\n        value: getPathData(path),\r\n        onChange: onChange(path, validateOnChange),\r\n        onBlur: onBlur(path)\r\n      };\r\n    },\r\n    /** FLOW\r\n     *  this.form.enhancedComponent(\"password\", ({error, onChange, onEnter, ...others}) => <Component/>)\r\n        1. The function below will be call first\r\n        2. This function will:\r\n          2.1. CALL the componentCreatorFunc, which is the ({error, onChange,...} => <Component />), with the following params\r\n          2.2. Return that component, with the props assigned, with the value from the params ({error, onchange ,...})\r\n     cac\r\n          */\r\n    enhancedComponent: (\r\n      path,\r\n      componentCreatorFunc,\r\n      validateOnChange = false,\r\n      relativeFields = []\r\n    ) => {\r\n      return componentCreatorFunc({\r\n        value: getPathData(path),\r\n        onChange: onChange(path, validateOnChange, relativeFields),\r\n        onBlur: onBlur(path),\r\n        error: touched[path] ? errors[path] : null,\r\n        onEnter: onEnter(path)\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\n/** EXAMPLE\r\n {this.form.enhanceComponent(\"email\", ({error, onChange, onEnter, ...others}) => (\r\n  <InputBase\r\n    className=\"registration-input pt-0\"\r\n    error={error}\r\n    placeholder={\"abc@xyz.com\"}\r\n    id={\"email\"}\r\n    onKeyDown={onEnter}\r\n    disabled={confirmRegisterData}\r\n    type={\"text\"}\r\n    label={\"Email\"}\r\n    onChange={e => {\r\n\r\n      this.setState({error: \"\"});\r\n      onChange(e);\r\n    }}\r\n    {...others}\r\n  />\r\n), true)}\r\n */\r\n","import React, { Component } from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nexport class InputBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      error = false,\r\n      success = false,\r\n      label = null,\r\n      helper = null,\r\n      id,\r\n      icon, // Icon Styl currently work with: <i className=\"fas fa-spinner spin\" />\r\n      inputType = \"input\",\r\n      ...other\r\n    } = this.props;\r\n    let input = null;\r\n    switch (inputType) {\r\n      case \"input\":\r\n        input = icon ? (\r\n          <input\r\n            type=\"text\"\r\n            className={classnames(\"form-control\", {\r\n              \"is-invalid\": error,\r\n              \"is-valid\": success\r\n            })}\r\n            id={id}\r\n            {...other}\r\n          />\r\n        ) : (\r\n          <input\r\n            type=\"text\"\r\n            className={classnames(\"form-control\", {\r\n              \"is-invalid\": error,\r\n              \"is-valid\": success\r\n            })}\r\n            id={id}\r\n            {...other}\r\n          />\r\n        );\r\n        break;\r\n      case \"text-area\":\r\n        input = (\r\n          <textarea\r\n            type=\"text\"\r\n            className={classnames(\"form-control\", {\r\n              \"is-invalid\": error,\r\n              \"is-valid\": success\r\n            })}\r\n            id={id}\r\n            {...other}\r\n          />\r\n        );\r\n        break;\r\n      default:\r\n        input = (\r\n          <input\r\n            type=\"text\"\r\n            className={classnames(\"form-control\", {\r\n              \"is-invalid\": error,\r\n              \"is-valid\": success\r\n            })}\r\n            id={id}\r\n            {...other}\r\n          />\r\n        );\r\n        break;\r\n    }\r\n\r\n    if (icon) {\r\n      input = (\r\n        <div className=\"input-with-icon\">\r\n          {input}\r\n          <span className=\"input-icon\">\r\n            <span>{icon}</span>\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={classnames(\"form-group\", className, {\r\n          // \"has-success\": success,\r\n          \"has-error\": error\r\n        })}\r\n      >\r\n        {label && (\r\n          <label className=\"input-base-label\" htmlFor={id}>\r\n            {label}\r\n          </label>\r\n        )}\r\n        {input}\r\n        {error && (\r\n          <div className=\"input-base-feedback\" id={id} {...other}>\r\n            {error.message}\r\n          </div>\r\n        )}\r\n        {helper && (\r\n          <div className=\"input-base-help \" id={id} {...other}>\r\n            {helper}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nexport function LoadingInline({className}) {\r\n  return (\r\n    <div className=\"loading-inline\">\r\n      <div className=\"overlay row justify-content-center align-items-center\">\r\n        <i className={classnames(\"fa fa-circle-notch spin-icon spin\", className)}/>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const FacebookSharingButton = props => {\r\n  return (\r\n    <button\r\n      className=\"btn btn-facebook-share btn-social-packed\"\r\n      style={{\r\n        marginRight: props.marginRight ? `${props.marginRight}px` : \"\",\r\n        height: props.height ? `${props.height}px` : \"\"\r\n      }}\r\n      onClick={props.onClick}\r\n    >\r\n      <span className=\"fb-icon social-icon\">\r\n        <i className=\"fab fa-facebook-f\" />\r\n      </span>\r\n      <span\r\n        className=\"btn-text\"\r\n        style={{\r\n          fontSize: props.marginRight ? `${props.fontSize}px` : \"\",\r\n          width: `calc(100% - 50px)`\r\n        }}\r\n      >\r\n        {props.text}\r\n      </span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const PinterestSharingButton = props => {\r\n  return (\r\n    <button\r\n      className=\"btn btn-pinterest-share btn-social-packed\"\r\n      onClick={props.onClick}\r\n      style={{\r\n        marginRight: props.marginRight ? `${props.marginRight}px` : \"\",\r\n        height: props.height ? `${props.height}px` : \"\"\r\n      }}\r\n    >\r\n      <span className=\"fb-icon social-icon\">\r\n        <i className=\"fab fa-pinterest\" />\r\n      </span>\r\n      <span\r\n        className=\"btn-text\"\r\n        style={{\r\n          fontSize: props.marginRight ? `${props.fontSize}px` : \"\",\r\n          width: `calc(100% - 50px)`\r\n        }}\r\n      >\r\n        {props.text}\r\n      </span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const FacebookLoginButton = props => {\r\n  return (\r\n    <button\r\n      className=\"btn btn-facebook-login btn-social\"\r\n      onClick={props.onClick}\r\n    >\r\n      <span className=\"fb-icon social-icon\">\r\n        <i className=\"fab fa-facebook-square\" />\r\n      </span>\r\n      <span className=\"line\" />\r\n      <span className=\"btn-text\">{props.text}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const GoogleLoginButton = props => {\r\n  return (\r\n    <button className=\"btn btn-google-login btn-social\" onClick={props.onClick}>\r\n      <span className=\"google-icon social-icon\">\r\n        <i className=\"fab fa-google-plus-square\" />\r\n      </span>\r\n      <span className=\"line\" />\r\n      <span className=\"btn-text\">{props.text}</span>\r\n    </button>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\n\r\nimport {\r\n  FacebookLoginButton,\r\n  GoogleLoginButton\r\n} from \"../../social-buttons/social-button\";\r\n\r\nexport class LoginSocial extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  handleFacebookResponse = res => {\r\n    this.props.onResponse(res, \"facebook\");\r\n  };\r\n\r\n  handleGoogleResponse = res => {\r\n    this.props.onResponse(res, \"google\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={classnames(\"login-social-container\", this.props.className)}\r\n      >\r\n        <FacebookLogin\r\n          appId={process.env.REACT_APP_FB_APPID}\r\n          autoLoad={false}\r\n          fields=\"name,email,picture\"\r\n          scope=\"public_profile, email\"\r\n          onClick={() => this.props.handleClickSocialBtn()}\r\n          callback={this.handleFacebookResponse}\r\n          render={props => {\r\n            return (\r\n              <FacebookLoginButton onClick={props.onClick} text={\"Facebook\"} />\r\n            );\r\n          }}\r\n        />\r\n        <GoogleLogin\r\n          clientId={process.env.REACT_APP_GG_CLIENTID}\r\n          scope=\"https://www.googleapis.com/auth/user.birthday.read\"\r\n          hello=\"test\"\r\n          render={props => (\r\n            <GoogleLoginButton\r\n              onClick={() => {\r\n                props.onClick();\r\n              }}\r\n              text={\"Google\"}\r\n            />\r\n          )}\r\n          onSuccess={this.handleGoogleResponse}\r\n          cookiePolicy={\"single_host_origin\"}\r\n          onFailure={this.handleGoogleResponse}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export class Cache {\r\n  engine = null;\r\n\r\n  constructor(engine = localStorage) {\r\n    this.engine = engine;\r\n  }\r\n\r\n  get = key => {\r\n    let valStr = this.engine.getItem(key);\r\n    if (valStr == null) {\r\n      return null;\r\n    }\r\n    let res;\r\n    try {\r\n      res = JSON.parse(valStr);\r\n    } catch (error) {\r\n      console.log(\"[CACHE] Error:\", error);\r\n      res = null;\r\n    }\r\n    return res;\r\n  };\r\n\r\n  set = (value, key, options = {}) => {\r\n    if (value == null) {\r\n      this.engine.removeItem(key);\r\n    } else {\r\n      try {\r\n        // console.log(JSON.stringify(value));\r\n        this.engine.setItem(key, JSON.stringify(value), options);\r\n      } catch (error) {\r\n        // May throw exception if not enough memory allocated or in Safari's private mode!!\r\n      }\r\n    }\r\n  };\r\n}\r\n","import { createStateHolder } from \"./state-holder\";\r\n\r\nexport const userInfo = createStateHolder();\r\n","export function createStateHolder(\r\n  initValue = null,\r\n  modifyState = state => state\r\n) {\r\n  let _state = initValue;\r\n  let listeners = [];\r\n  return {\r\n    getState() {\r\n      return _state;\r\n    },\r\n    setState(newState) {\r\n      let oldState = _state;\r\n      _state = modifyState(newState);\r\n      return Promise.all(listeners.map(each => each(_state, oldState)));\r\n    },\r\n    // Add a listener to subscribe boxes\r\n    // Return a function that automatically removes this listener after the \"listener\" function is activated\r\n    onChange(listener) {\r\n      listeners.push(listener);\r\n\r\n      return () => {\r\n        let i = listeners.indexOf(listener);\r\n        listeners.splice(i, 1);\r\n      };\r\n    }\r\n  };\r\n}\r\n","import { Cache } from \"./cache\";\r\nimport Cookies from \"js-cookie\";\r\nimport omit from \"lodash/omit\";\r\n\r\nimport { authApi } from \"../api/common/auth-api\";\r\nimport { userInfo } from \"../states/user-info\";\r\n\r\nconst cookiesEngine = {\r\n  getItem: Cookies.get,\r\n  setItem: Cookies.set,\r\n  removeItem: Cookies.remove\r\n};\r\n\r\nexport const authenCache = (() => {\r\n  const cache = new Cache(cookiesEngine);\r\n  return {\r\n    clearAuthen() {\r\n      cache.set(null, \"authen-token\");\r\n    },\r\n    loadAuthen() {\r\n      return new Promise((resolve, reject) => {\r\n        let authen = cache.get(\"authen-token\");\r\n        if (!authen) {\r\n          reject();\r\n        } else {\r\n          authApi\r\n            .get()\r\n            .then(info => {\r\n              if (!info.data) {\r\n                reject();\r\n              } else {\r\n                const user = omit(info.data, [\r\n                  \"password\",\r\n                  \"createdAt\",\r\n                  \"updatedAt\",\r\n                  \"active\"\r\n                ]);\r\n                userInfo.setState(user);\r\n                resolve(userInfo.getState());\r\n              }\r\n            })\r\n            .catch(error => reject());\r\n        }\r\n      });\r\n    },\r\n    getAuthen() {\r\n      return cache.get(\"authen-token\");\r\n    },\r\n    setAuthen(authen, options) {\r\n      cache.set(authen, \"authen-token\", options);\r\n    }\r\n  };\r\n})();\r\n","import axios from \"axios\";\r\nimport { authenCache } from \"../cache/authen-cache\";\r\n\r\nclass API {\r\n  constructor({ url, onErrors }) {\r\n    this.instance = axios.create({\r\n      baseURL: url\r\n    });\r\n    this.headers = {};\r\n    this.instance.interceptors.request.use(request => {\r\n      Object.keys(this.headers).map(key => {\r\n        let val =\r\n          typeof this.headers[key] === \"function\"\r\n            ? this.headers[key]()\r\n            : this.headers[key];\r\n        if (val) {\r\n          request.headers[key] = val;\r\n        }\r\n        return key;\r\n      });\r\n      return request;\r\n    });\r\n    this.instance.interceptors.response.use(\r\n      response => {\r\n        // console.log(response);\r\n        // console.log(response.message);\r\n        return response;\r\n      },\r\n      error => {\r\n        let resError = null;\r\n        console.log(error);\r\n        console.log(error.message);\r\n        if (error.response) {\r\n          if (onErrors.hasOwnProperty(error.response.data.message))\r\n            onErrors[error.response.data.message]();\r\n          resError = new Error(error.response.data.message);\r\n        } else {\r\n          resError = new Error(\r\n            error.message\r\n              .toString()\r\n              .toLowerCase()\r\n              .replace(\" \", \"_\")\r\n          );\r\n        }\r\n        return Promise.reject(resError);\r\n      }\r\n    );\r\n  }\r\n\r\n  addHeader = (key, getHeader) => {\r\n    this.headers[key] = getHeader;\r\n  };\r\n\r\n  get = (url, config = null) => {\r\n    return this.instance.get(url, config);\r\n  };\r\n\r\n  delete = (url, config = null) => {\r\n    return this.instance.delete(url, config);\r\n  };\r\n\r\n  post = (url, data, config) => {\r\n    return this.instance.post(url, data, config);\r\n  };\r\n\r\n  put = (url, data, config) => {\r\n    return this.instance.put(url, data, config);\r\n  };\r\n}\r\n\r\nexport const axiosApi = new API({\r\n  url: process.env.REACT_APP_API_URL,\r\n  onErrors: {\r\n    token_expired: () => {\r\n      console.log(\"token_expired\");\r\n      authenCache.clearAuthen();\r\n    },\r\n    account_not_found: () => {\r\n      console.log(\"account_not_found\");\r\n      authenCache.clearAuthen();\r\n    },\r\n    require_login: () => {\r\n      console.log(\"require_login\");\r\n      authenCache.clearAuthen();\r\n    }\r\n  }\r\n});\r\n","import { axiosApi } from \"../api\";\r\n\r\nexport const authApi = {\r\n  post(data) {\r\n    return axiosApi.post(\"/auth\", data);\r\n  },\r\n  get() {\r\n    return axiosApi.get(\"/auth\");\r\n  },\r\n  postSocial(data) {\r\n    return axiosApi.post(\"/auth/social\", data);\r\n  }\r\n};\r\n","import * as yup from \"yup\";\r\n\r\nexport const accountSchema = yup.object().shape({\r\n  email: yup\r\n    .string()\r\n    .email(\"Please input a valid email.\")\r\n    .required(\"Email must not be empty\"),\r\n  password: yup\r\n    .string()\r\n    .min(6, \"Password must be at least 6-char long.\")\r\n    .required(\"Password must not be empty\")\r\n});\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport omit from \"lodash/omit\";\r\nimport axios from \"axios\";\r\n\r\nimport { KComponent } from \"../../../../components/KComponent\";\r\nimport { modals } from \"../modals\";\r\nimport { createFormWithValidator } from \"../../form-validator/form-validator\";\r\nimport { InputBase } from \"../../input-base/input-base\";\r\nimport { LoadingInline } from \"../../loading-inline/loading-inline\";\r\nimport { LoginSocial } from \"../login-social/login-social\";\r\n\r\nimport { authApi } from \"../../../api/common/auth-api\";\r\nimport { authenCache } from \"../../../cache/authen-cache\";\r\nimport { userInfo } from \"../../../states/user-info\";\r\nimport { accountSchema } from \"./schema\";\r\n\r\nexport class LoginModal extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      error: null\r\n    };\r\n\r\n    this.form = createFormWithValidator(accountSchema, {\r\n      initData: {\r\n        email: \"\",\r\n        password: \"\"\r\n      }\r\n    });\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n    this.onUnmount(this.form.on(\"enter\", () => this.handleLogin()));\r\n    this.form.validateData();\r\n  }\r\n\r\n  handleLogin = () => {\r\n    const { email, password } = this.form.getData();\r\n    this.setState({ loading: true });\r\n    authApi\r\n      .post({\r\n        email: email,\r\n        password: password\r\n      })\r\n      .then(data => {\r\n        authenCache.setAuthen(data.data.token, { expire: 1 });\r\n        userInfo.setState(data.data.user).then(() => {\r\n          console.log(\"[USER_STATE]\", userInfo);\r\n          this.props.onLoginSuccess();\r\n        });\r\n      })\r\n      .catch(err =>\r\n        this.setState({\r\n          loading: false,\r\n          error: err\r\n        })\r\n      );\r\n  };\r\n\r\n  socialStrategies = {\r\n    google: {\r\n      isValid: res => res.hasOwnProperty(\"googleId\") && res.googleId,\r\n      getData: res => {\r\n        let { email, name, imageUrl, googleId } = res.profileObj;\r\n        let { accessToken } = res;\r\n        return {\r\n          email,\r\n          name: name,\r\n          avatarURL: imageUrl,\r\n          accessToken,\r\n          social: { id: googleId, type: \"GOOGLE\" }\r\n        };\r\n      },\r\n      getBirthday: (accessToken, googleId) => {\r\n        return axios\r\n          .get(\r\n            `https://people.googleapis.com/v1/people/${googleId}?personFields=birthdays`,\r\n            {\r\n              headers: {\r\n                Authorization: \"Bearer \" + accessToken\r\n              }\r\n            }\r\n          )\r\n          .then(data => {\r\n            if (data && data.data) {\r\n              console.log(data.data.birthdays[0].date);\r\n              let { year, month, day } = data.data.birthdays[0].date;\r\n              return {\r\n                birthday:\r\n                  year && month && day\r\n                    ? new Date(year, month - 1, day).toISOString()\r\n                    : null\r\n              };\r\n            }\r\n          });\r\n      },\r\n      errorMsg: \"gg_login_failed\"\r\n    },\r\n    facebook: {\r\n      isValid: res => res.hasOwnProperty(\"userID\") && res.userID,\r\n      getData: res => {\r\n        console.log(res);\r\n        let { email, name, picture, userID, birthday } = res;\r\n        let imageUrl = picture.data.url;\r\n        return {\r\n          email,\r\n          name: name,\r\n          avatarURL: imageUrl,\r\n          birthday: birthday ? new Date(birthday).toISOString() : null,\r\n          social: { id: userID, type: \"FACEBOOK\" }\r\n        };\r\n      },\r\n      errorMsg: \"fb_login_failed\"\r\n    }\r\n  };\r\n\r\n  handleSocialResponse = async (res, type) => {\r\n    let strategy = this.socialStrategies[type];\r\n    let { isValid, getData, errorMsg } = strategy;\r\n    if (!isValid(res)) {\r\n      console.log(type, res);\r\n      this.setState({ error: errorMsg, loading: false });\r\n    } else {\r\n      let rawData = getData(res);\r\n      let sendData = rawData;\r\n      let birthday = null;\r\n      if (type === \"google\") {\r\n        try {\r\n          birthday = await strategy.getBirthday(\r\n            rawData.accessToken,\r\n            rawData.social.id\r\n          );\r\n        } catch (error) {\r\n          this.setState({ error: error, loading: false });\r\n        }\r\n        sendData = omit(rawData, \"accessToken\");\r\n        sendData.birthday = birthday.birthday;\r\n      }\r\n      console.log(sendData);\r\n      authApi\r\n        .postSocial(sendData)\r\n        .then(data => {\r\n          console.log(data);\r\n          authenCache.setAuthen(data.data.token, { expire: 1 });\r\n          userInfo.setState(data.data.user).then(() => {\r\n            console.log(\"[USER_STATE]\", userInfo);\r\n            this.props.onLoginSuccess();\r\n          });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.setState({ error: err, loading: false });\r\n        });\r\n    }\r\n  };\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const { email } = this.form.getData();\r\n    const message = error.message;\r\n    let errMatcher = {\r\n      account_not_found: \"User is not registered yet.\",\r\n      network_error: \"Database is ded\",\r\n      wrong_password: \"Password is invalid.\",\r\n      gg_taken: `Email: ${email} has been linked to Google`,\r\n      fb_taken: `Email: ${email} has been linked to Facebook`\r\n    };\r\n    return errMatcher.hasOwnProperty(message)\r\n      ? errMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  render() {\r\n    let { onClose } = this.props;\r\n    let canSubmit = this.form.isValid() && !this.state.loading;\r\n    const emailForm = this.form.enhancedComponent(\r\n      \"email\",\r\n      ({ error, onChange, onEnter, ...other }) => (\r\n        <InputBase\r\n          autoFocus\r\n          className=\"login-modal-input\"\r\n          error={error}\r\n          id={\"email\"}\r\n          onChange={e => {\r\n            onChange(e);\r\n          }}\r\n          label=\"Email\"\r\n          type={\"email\"}\r\n          placeholder={\"abc@xyz.com\"}\r\n          onKeyDown={onEnter}\r\n          {...other}\r\n        />\r\n      ),\r\n      true\r\n    );\r\n    const passForm = this.form.enhancedComponent(\r\n      \"password\",\r\n      ({ error, onChange, onEnter, ...other }) => (\r\n        <InputBase\r\n          className=\"login-modal-input\"\r\n          error={error}\r\n          id={\"password\"}\r\n          onChange={e => {\r\n            onChange(e);\r\n          }}\r\n          label=\"Password\"\r\n          type={\"password\"}\r\n          onKeyDown={onEnter}\r\n          {...other}\r\n        />\r\n      ),\r\n      true\r\n    );\r\n    return (\r\n      <div className=\"login-modal\">\r\n        <div className=\"modal-header\">\r\n          <div className=\"modal-title login-modal-header\">\r\n            <h2 className=\"login-modal-title\">Login</h2>\r\n            <p className=\"login-modal-subtitle\">\r\n              Connect with a social network\r\n            </p>\r\n            <LoginSocial\r\n              handleClickSocialBtn={() => this.setState({ loading: true })}\r\n              onResponse={this.handleSocialResponse}\r\n            />\r\n          </div>\r\n          <i\r\n            className=\"fas fa-times close-modal login-close-button\"\r\n            onClick={() => onClose()}\r\n          />\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          <p className=\"login-modal-subtitle\">Log in with your email address</p>\r\n          {this.state.error && (\r\n            <div className=\"server-error\">{this.handleServerError()}</div>\r\n          )}\r\n          {emailForm}\r\n          {passForm}\r\n          {this.state.loading ? <LoadingInline /> : null}\r\n        </div>\r\n\r\n        <div className=\"modal-footer justify-content-between login-modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            onClick={() => {\r\n              this.handleLogin();\r\n            }}\r\n            disabled={!canSubmit}\r\n          >\r\n            Log in\r\n          </button>\r\n          <Link\r\n            className=\"login-modal-footer-link\"\r\n            to=\"/forgot-password\"\r\n            onClick={() => onClose()}\r\n          >\r\n            Forgot password\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const loginModal = {\r\n  open(onLoginSuccess = null) {\r\n    const modal = modals.openModal({\r\n      content: (\r\n        <LoginModal\r\n          onClose={() => modal.close()}\r\n          onLoginSuccess={() => {\r\n            modal.close();\r\n            onLoginSuccess && onLoginSuccess();\r\n            console.log(userInfo.getState());\r\n          }}\r\n        />\r\n      )\r\n    });\r\n    return modal.result;\r\n  }\r\n};\r\n","import * as yup from \"yup\";\r\n\r\nexport const registerSchema = yup.object().shape({\r\n  username: yup\r\n    .string()\r\n    .min(3, \"Username must be at least 3-char long.\")\r\n    .max(50, \"Username should not have more than 50 characters\")\r\n    .required(\"Username must not be empty\"),\r\n  email: yup\r\n    .string()\r\n    .email(\"Please input a valid email.\")\r\n    .required(\"Email must not be empty\"),\r\n  password: yup\r\n    .string()\r\n    .min(6, \"Password must be at least 6-char long.\")\r\n    .required(\"Password must not be empty\")\r\n});\r\n","import { axiosApi } from \"../api\";\r\n\r\nexport const userApi = {\r\n  get(userId) {\r\n    return axiosApi.get(\"/users/\" + userId);\r\n  },\r\n  post(data) {\r\n    return axiosApi.post(\"/users\", data);\r\n  },\r\n  put(userId, data) {\r\n    return axiosApi.put(\"/users/\" + userId, data);\r\n  },\r\n  delete(userId) {\r\n    return axiosApi.delete(\"/users/\" + userId);\r\n  },\r\n  checkEmail(data) {\r\n    return axiosApi.post(\"/users/check-email\", data);\r\n  },\r\n  checkUsername(data) {\r\n    return axiosApi.post(\"users/check-username\", data);\r\n  },\r\n  postForgotPassword(data) {\r\n    return axiosApi.post(\"/users/forgot-password\", data);\r\n  },\r\n  postUpdatePassword(data) {\r\n    return axiosApi.post(\"/users/update-password\", data);\r\n  },\r\n  getVerifyUser(token) {\r\n    return axiosApi.get(\"/users/verify/\" + token);\r\n  },\r\n  putChangePassword(data) {\r\n    return axiosApi.put(\"/users/change-password\", data);\r\n  },\r\n  updateAccount(data) {\r\n    return axiosApi.put(\"users/update-account\", data);\r\n  },\r\n  updateProfile(data) {\r\n    return axiosApi.put(\"users/update-profile\", data);\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport omit from \"lodash/omit\";\r\nimport debounce from \"lodash/debounce\";\r\nimport axios from \"axios\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { KComponent } from \"../../../../components/KComponent\";\r\nimport { modals } from \"../modals\";\r\nimport { registerSchema } from \"./schema\";\r\nimport { createFormWithValidator } from \"../../form-validator/form-validator\";\r\nimport { InputBase } from \"../../input-base/input-base\";\r\nimport { LoadingInline } from \"../../loading-inline/loading-inline\";\r\nimport { loginModal } from \"../login/login\";\r\nimport { LoginSocial } from \"../login-social/login-social\";\r\n\r\nimport { userApi } from \"../../../api/common/user-api\";\r\nimport { authApi } from \"../../../api/common/auth-api\";\r\nimport { authenCache } from \"../../../cache/authen-cache\";\r\nimport { userInfo } from \"../../../states/user-info\";\r\n\r\nconst MODALTYPE = {\r\n  INITIAL: \"initial\",\r\n  SIGNUP: \"signup\"\r\n};\r\n\r\nexport class RegisterModal extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalType: MODALTYPE.INITIAL,\r\n      checking: false,\r\n      validated: false,\r\n      loading: false,\r\n      loadingRegister: false,\r\n      error: null\r\n    };\r\n\r\n    this.form = null;\r\n  }\r\n\r\n  checkEmailExisted = email => {\r\n    this.setState({ loading: true });\r\n    userApi\r\n      .checkEmail({ email })\r\n      .then(res => {\r\n        console.log(res);\r\n        if (res.data.message === \"account_not_found\") {\r\n          this.setState({\r\n            error: \"\",\r\n            checking: false,\r\n            loading: false,\r\n            validated: true\r\n          });\r\n        } else if (res.data.message === \"account_found\") {\r\n          this.setState({\r\n            error: { message: \"account_found\" },\r\n            checking: false,\r\n            loading: false,\r\n            validated: false\r\n          });\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            checking: false,\r\n            loading: false,\r\n            validated: false\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          checking: false,\r\n          loading: false,\r\n          validated: false\r\n        });\r\n      });\r\n  };\r\n\r\n  debounceCheckEmailExisted = debounce(this.checkEmailExisted, 1500);\r\n\r\n  handleChange = email => {\r\n    if (!this.state.checking) {\r\n      this.setState({ checking: true });\r\n    }\r\n    this.setState({ error: \"\", email });\r\n    if (\r\n      registerSchema.isValidSync({\r\n        username: \"testonly\",\r\n        email: email,\r\n        password: \"testonly\"\r\n      })\r\n    ) {\r\n      this.debounceCheckEmailExisted(email);\r\n      console.log(\"Start querying\");\r\n    } else {\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n\r\n  prepareRegisterForm = () => {\r\n    this.setState({ modalType: MODALTYPE.SIGNUP });\r\n    this.form = createFormWithValidator(registerSchema, {\r\n      initData: {\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\"\r\n      }\r\n    });\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n    this.onUnmount(this.form.on(\"enter\", () => this.handleLogin()));\r\n    this.form.validateData();\r\n  };\r\n\r\n  handleRegister = () => {\r\n    const { username, email, password } = this.form.getData();\r\n    this.setState({ loadingRegister: true });\r\n    userApi\r\n      .post({\r\n        name: username,\r\n        email: email,\r\n        password: password\r\n      })\r\n      .then(data => {\r\n        authenCache.setAuthen(data.data.token, { expire: 1 });\r\n        userInfo.setState(data.data.user).then(() => {\r\n          this.props.onRegisterSuccess();\r\n        });\r\n      })\r\n      .catch(err =>\r\n        this.setState({\r\n          loadingRegister: false,\r\n          error: err\r\n        })\r\n      );\r\n  };\r\n\r\n  socialStrategies = {\r\n    google: {\r\n      isValid: res => res.hasOwnProperty(\"googleId\") && res.googleId,\r\n      getData: res => {\r\n        let { email, name, imageUrl, googleId } = res.profileObj;\r\n        let { accessToken } = res;\r\n        return {\r\n          email,\r\n          name: name,\r\n          avatarURL: imageUrl,\r\n          accessToken,\r\n          social: { id: googleId, type: \"GOOGLE\" }\r\n        };\r\n      },\r\n      getBirthday: (accessToken, googleId) => {\r\n        return axios\r\n          .get(\r\n            `https://people.googleapis.com/v1/people/${googleId}?personFields=birthdays`,\r\n            {\r\n              headers: {\r\n                Authorization: \"Bearer \" + accessToken\r\n              }\r\n            }\r\n          )\r\n          .then(data => {\r\n            if (data && data.data) {\r\n              console.log(data.data.birthdays[0].date);\r\n              let { year, month, day } = data.data.birthdays[0].date;\r\n              return {\r\n                birthday:\r\n                  year && month && day\r\n                    ? new Date(year, month - 1, day).toISOString()\r\n                    : null\r\n              };\r\n            }\r\n          });\r\n      },\r\n      errorMsg: \"gg_login_failed\"\r\n    },\r\n    facebook: {\r\n      isValid: res => res.hasOwnProperty(\"userID\") && res.userID,\r\n      getData: res => {\r\n        let { email, name, picture, userID, birthday } = res;\r\n        let imageUrl = picture.data.url;\r\n        return {\r\n          email,\r\n          name: name,\r\n          avatarURL: imageUrl,\r\n          birthday: birthday ? new Date(birthday).toISOString() : null,\r\n          social: { id: userID, type: \"FACEBOOK\" }\r\n        };\r\n      },\r\n      errorMsg: \"fb_login_failed\"\r\n    }\r\n  };\r\n\r\n  handleSocialResponse = async (res, type) => {\r\n    console.log(type, res);\r\n    let strategy = this.socialStrategies[type];\r\n    let { isValid, getData, errorMsg } = strategy;\r\n    if (!isValid(res)) {\r\n      this.setState({ error: errorMsg, loading: false });\r\n    } else {\r\n      let rawData = getData(res);\r\n      let sendData = rawData;\r\n      let birthday = null;\r\n      if (type === \"google\") {\r\n        try {\r\n          birthday = await strategy.getBirthday(\r\n            rawData.accessToken,\r\n            rawData.social.id\r\n          );\r\n        } catch (error) {\r\n          this.setState({ error: error, loading: false });\r\n        }\r\n        sendData = omit(rawData, \"accessToken\");\r\n        sendData.birthday = birthday.birthday;\r\n      }\r\n      console.log(\"[SEND_DATA_REGISTER]\", sendData);\r\n      authApi\r\n        .postSocial(sendData)\r\n        .then(data => {\r\n          console.log(data);\r\n          authenCache.setAuthen(data.data.token, { expire: 1 });\r\n          userInfo.setState(data.data.user).then(() => {\r\n            this.props.onRegisterSuccess();\r\n          });\r\n        })\r\n        .catch(err => this.setState({ error: err, loading: false }));\r\n    }\r\n  };\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errMatcher = {\r\n      account_found: \"This email has been used for another user.\",\r\n      network_error: \"Database is ded.\"\r\n    };\r\n    return errMatcher.hasOwnProperty(message)\r\n      ? errMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  render() {\r\n    let { onClose } = this.props;\r\n    let { modalType, loading, loadingRegister, validated } = this.state;\r\n    const isSignup = modalType === MODALTYPE.SIGNUP;\r\n    let isSubmittable = false;\r\n    if (isSignup) {\r\n      isSubmittable =\r\n        validated && !loading && this.form.getInvalidPaths().length === 0;\r\n    }\r\n    const initialModalBody = (\r\n      <Fragment>\r\n        <div className=\"modal-header\">\r\n          <div className=\"modal-title register-modal-header\">\r\n            <h2 className=\"register-modal-title\">Hey there!</h2>\r\n            <p className=\"register-modal-subtitle\">\r\n              9GAG is your best source for fun. Share anything you find\r\n              interesting, get real responses from people all over the world,\r\n              and discover what makes you laugh.\r\n            </p>\r\n            <LoginSocial\r\n              className=\"mb-2\"\r\n              handleClickSocialBtn={() => this.setState({ loading: true })}\r\n              onResponse={this.handleSocialResponse}\r\n            />\r\n          </div>\r\n          <i\r\n            className=\"fas fa-times close-modal register-close-button\"\r\n            onClick={() => onClose()}\r\n          />\r\n        </div>\r\n        <div className=\"modal-footer register-modal-footer\">\r\n          <p className=\"register-modal-subtitle\">\r\n            Sign up with your{\" \"}\r\n            <span\r\n              className=\"register-text-link\"\r\n              onClick={() => {\r\n                this.prepareRegisterForm();\r\n              }}\r\n            >\r\n              Email Address\r\n            </span>\r\n          </p>\r\n          <p className=\"register-modal-subtitle\">\r\n            Have an account?{\" \"}\r\n            <span\r\n              className=\"register-text-link\"\r\n              onClick={() => {\r\n                onClose();\r\n                loginModal.open(this.props.handleLogin);\r\n              }}\r\n            >\r\n              Login\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n    const registerModalBody = isSignup ? (\r\n      <Fragment>\r\n        <div className=\"modal-header\">\r\n          <div className=\"modal-title register-modal-header\">\r\n            <h2 className=\"register-modal-title\">Become a member</h2>\r\n          </div>\r\n          <i\r\n            className=\"fas fa-times close-modal register-close-button\"\r\n            onClick={() => onClose()}\r\n          />\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          {this.form.enhancedComponent(\r\n            \"username\",\r\n            ({ error, onChange, onEnter, ...other }) => (\r\n              <InputBase\r\n                className=\"login-modal-input\"\r\n                error={error}\r\n                id={\"username\"}\r\n                onChange={e => {\r\n                  onChange(e);\r\n                }}\r\n                label=\"Username\"\r\n                type={\"text\"}\r\n                {...other}\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n          {this.form.enhancedComponent(\r\n            \"email\",\r\n            ({ error, onChange, onEnter, ...others }) => (\r\n              <InputBase\r\n                className=\"forgot-password-input\"\r\n                error={error}\r\n                success={this.state.validated}\r\n                id={\"email\"}\r\n                onChange={e => {\r\n                  const email = e.target.value;\r\n                  onChange(e);\r\n                  this.handleChange(email);\r\n                }}\r\n                type=\"email\"\r\n                label={\"Your email address\"}\r\n                placeholder={\"name@email.com\"}\r\n                icon={\r\n                  this.state.loading ? (\r\n                    <i className=\"fas fa-spinner spin\" />\r\n                  ) : null\r\n                }\r\n                {...others}\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n          {this.form.enhancedComponent(\r\n            \"password\",\r\n            ({ error, onChange, onEnter, ...other }) => (\r\n              <InputBase\r\n                className=\"login-modal-input\"\r\n                error={error}\r\n                id={\"password\"}\r\n                onChange={e => {\r\n                  onChange(e);\r\n                }}\r\n                label=\"Password\"\r\n                type={\"password\"}\r\n                onKeyDown={onEnter}\r\n                {...other}\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n          {this.state.error && (\r\n            <div className=\"server-error\">{this.handleServerError()}</div>\r\n          )}\r\n          {loadingRegister ? <LoadingInline /> : null}\r\n        </div>\r\n\r\n        <div className=\"modal-footer justify-content-between register-modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            disabled={!isSubmittable}\r\n            onClick={() => {\r\n              this.handleRegister();\r\n            }}\r\n          >\r\n            Register\r\n          </button>\r\n        </div>\r\n      </Fragment>\r\n    ) : null;\r\n\r\n    return (\r\n      <div className={classnames(\"register-modal\")}>\r\n        {isSignup ? registerModalBody : initialModalBody}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const registerModal = {\r\n  open(handleRegister, handleLogin = null) {\r\n    const modal = modals.openModal({\r\n      content: (\r\n        <RegisterModal\r\n          onClose={() => modal.close()}\r\n          handleLogin={handleLogin}\r\n          onRegisterSuccess={() => {\r\n            modal.close();\r\n            handleRegister();\r\n            console.log(userInfo.getState());\r\n          }}\r\n        />\r\n      )\r\n    });\r\n    return modal.result;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { loginModal } from \"../../../../common/react/modals/login/login\";\r\nimport { registerModal } from \"../../../../common/react/modals/register/register\";\r\n\r\nconst VisitorFunction = props => (\r\n  <div className=\"visitor-function\">\r\n    <button\r\n      id=\"login-btn\"\r\n      className=\"my-btn-mute\"\r\n      onClick={() => {\r\n        loginModal.open();\r\n      }}\r\n    >\r\n      Login\r\n    </button>\r\n    <button\r\n      id=\"signup-btn\"\r\n      className=\"my-btn-primary\"\r\n      onClick={() => {\r\n        console.log(props);\r\n        registerModal.open(() => props.history.push(\"/\"));\r\n      }}\r\n    >\r\n      Sign up\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default VisitorFunction;\r\n","import { axiosApi } from \"../api\";\r\n\r\nexport const utilApi = {\r\n  checkImageSize(url) {\r\n    return axiosApi.post(\"/util/image-size\", { url: url });\r\n  },\r\n  checkImageFile(data) {\r\n    return axiosApi.post(\"/util/image-size\", data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n  },\r\n  getCommentPreview(data) {\r\n    return axiosApi.post(\"/util/comment-preview\", data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n  },\r\n  getMetaTags(url) {\r\n    return axiosApi.post(\"/util/get-url\", { url: url });\r\n  }\r\n};\r\n","import { utilApi } from \"../api/common/util-api\";\n\nconst getMetaTags = url => {\n  return utilApi\n    .getMetaTags(url)\n    .then(data => {\n      if (data.status === 200) {\n        return data.data;\n      } else {\n        const error = new Error(\"scrapper_failed\");\n        error.statusCode = 400;\n        throw error;\n      }\n    })\n    .catch(err => {\n      throw err;\n    });\n};\n\nexport { getMetaTags };\n","import React, { Component } from \"react\";\r\n\r\nimport classnames from \"classnames\";\r\n\r\nclass FocusedImage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      height: props.height,\r\n      width: props.width\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateWindowDimensions();\r\n    window.addEventListener(\"resize\", this.updateWindowDimensions);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateWindowDimensions);\r\n  }\r\n\r\n  updateWindowDimensions = () => {\r\n    this.setState({ width: window.innerWidth, height: window.innerHeight });\r\n  };\r\n\r\n  render() {\r\n    const { onDismiss, type, src } = this.props;\r\n    return (\r\n      <div\r\n        className={classnames(\r\n          \"focused-image\",\r\n          this.props.hidden ? \"focused-image-hidden\" : \"\"\r\n        )}\r\n        onClick={onDismiss}\r\n      >\r\n        <div className=\"image-overlay\" onClick={onDismiss}>\r\n          <div className=\"close-button\">\r\n            <i className=\"fas fa-times close-modal\" onClick={onDismiss} />\r\n          </div>\r\n\r\n          <div className=\"image-content\" onClick={onDismiss}>\r\n            {type === \"Photo\" ? (\r\n              <img\r\n                className={classnames(\r\n                  this.state.width < 780 ? \"img-hidden\" : null\r\n                )}\r\n                src={src ? src : \"https://i.imgur.com/Piw0UWw.jpg?fb\"}\r\n                alt=\"Focused One\"\r\n                onClick={onDismiss}\r\n              />\r\n            ) : (\r\n              <video\r\n                className={classnames(\r\n                  this.state.width < 780 ? \"img-hidden\" : null\r\n                )}\r\n                src={src ? src : \"https://i.imgur.com/miLScZY.mp4\"}\r\n                alt=\"Focused One\"\r\n                autoPlay\r\n                loop\r\n                muted\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FocusedImage;\r\n","import React, { Component } from \"react\";\r\nimport classnames from \"classnames\";\r\nimport customCheckbox from \"../../../assets/img/custom-checkbox.png\";\r\n\r\nclass SectionPicker extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: this.props.data,\r\n      currentSection: this.props.defaultSection\r\n        ? this.props.defaultSection\r\n        : null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, handleClick } = this.props;\r\n    const { data, currentSection } = this.state;\r\n    return (\r\n      <div className={classnames(\"section-picker\", className)}>\r\n        <ul className=\"section-list\">\r\n          {data.map(each => {\r\n            return (\r\n              <li key={each.name} className=\"section\">\r\n                <div\r\n                  className=\"section-container\"\r\n                  style={{\r\n                    height: each.imageUrl ? \"\" : \"20px\"\r\n                  }}\r\n                  onClick={() => {\r\n                    handleClick(each);\r\n                    this.setState({ currentSection: each });\r\n                  }}\r\n                >\r\n                  {each.imageUrl ? (\r\n                    <img\r\n                      className=\"section-icon\"\r\n                      src={each.imageUrl}\r\n                      alt=\"icon\"\r\n                    />\r\n                  ) : null}\r\n                  <div\r\n                    className=\"section-text\"\r\n                    style={{\r\n                      margin: each.imageUrl ? \"\" : \"0px\"\r\n                    }}\r\n                  >\r\n                    <h3\r\n                      className=\"section-title\"\r\n                      style={{\r\n                        fontWeight: each.imageUrl ? \"\" : \"bold\"\r\n                      }}\r\n                    >\r\n                      {each.name}\r\n                    </h3>\r\n                    {each.description ? (\r\n                      <p className=\"section-subtitle\">{each.description}</p>\r\n                    ) : null}\r\n                  </div>\r\n                  {currentSection !== each ? (\r\n                    <div className=\"section-selector\" />\r\n                  ) : (\r\n                    <img\r\n                      className=\"section-selector selected\"\r\n                      src={customCheckbox}\r\n                      alt=\"Checkbox\"\r\n                    />\r\n                  )}\r\n                </div>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SectionPicker;\r\n","export const createApiCache = apiFnc => {\r\n  let cacheData = null;\r\n  return {\r\n    get: async () => {\r\n      if (!cacheData) {\r\n        cacheData = await apiFnc();\r\n        return cacheData;\r\n      } else {\r\n        return cacheData;\r\n      }\r\n    },\r\n    modifyCache(newCache = null) {\r\n      cacheData = newCache;\r\n    },\r\n    syncGet: () => {\r\n      return cacheData;\r\n    }\r\n  };\r\n};\r\n","import { axiosApi } from \"../api\";\r\n\r\nexport const categoryApi = {\r\n  getAll() {\r\n    return axiosApi.get(\"/categories\");\r\n  },\r\n  get(catId) {\r\n    return axiosApi.get(\"/categories/\" + catId);\r\n  }\r\n};\r\n","import { axiosApi } from \"../api\";\r\n\r\nexport const countryApi = {\r\n  getAll() {\r\n    return axiosApi.get(\"/countries\");\r\n  },\r\n  get(countryId) {\r\n    return axiosApi.get(\"/countries/\" + countryId);\r\n  }\r\n};\r\n","import { axiosApi } from \"../api\";\r\n\r\nexport const statusApi = {\r\n  getAll() {\r\n    return axiosApi.get(\"/status\");\r\n  },\r\n  get(staId) {\r\n    return axiosApi.get(\"/status/\" + staId);\r\n  }\r\n};\r\n","import { createApiCache } from \"./api-cache\";\r\nimport { categoryApi } from \"../../api/common/category-api\";\r\nimport { countryApi } from \"../../api/common/country-api\";\r\nimport { statusApi } from \"../../api/common/status-api\";\r\n\r\nexport const categoryCache = createApiCache(() =>\r\n  categoryApi.getAll().then(response => {\r\n    if (response.status === 200) {\r\n      return response.data ? response.data.data : response.data;\r\n    } else {\r\n      return [];\r\n    }\r\n  })\r\n);\r\n\r\nexport const statusCache = createApiCache(() =>\r\n  statusApi.getAll().then(response => {\r\n    if (response.status === 200) {\r\n      return response.data ? response.data.data : response.data;\r\n    } else {\r\n      return [];\r\n    }\r\n  })\r\n);\r\n\r\nexport const countryCache = createApiCache(() =>\r\n  countryApi.getAll().then(response => {\r\n    if (response.status === 200) {\r\n      return response.data ? response.data.data : response.data;\r\n    } else {\r\n      return [];\r\n    }\r\n  })\r\n);\r\n\r\nexport const initClientCache = () => {\r\n  return Promise.all([\r\n    categoryCache.get(),\r\n    countryCache.get(),\r\n    statusCache.get()\r\n  ]);\r\n};\r\n","import { axiosApi } from \"../api\";\r\n\r\nexport const postApi = {\r\n  getPost(postId) {\r\n    return axiosApi.get(\"/posts/\" + postId);\r\n  },\r\n  getPosts(page = null) {\r\n    return axiosApi\r\n      .get(\"/posts\" + (page != null ? \"/?page=\" + page : \"\"))\r\n      .then(data => data.data)\r\n      .catch(err => err);\r\n  },\r\n  postPost(data) {\r\n    return axiosApi.post(\"/posts\", data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n  },\r\n  putPost(postId, data) {\r\n    return axiosApi.put(\"/posts/\" + postId, data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n  },\r\n  deletePost(postId) {\r\n    return axiosApi.delete(\"/posts/\" + postId);\r\n  },\r\n  //Vote API\r\n  updateVotePost(postId, upVote) {\r\n    return axiosApi.put(\"/posts/\" + postId + \"/votes\", {\r\n      upvote: upVote\r\n    });\r\n  },\r\n  updateVoteComment(postId, commentId, upVote) {\r\n    return axiosApi.put(\r\n      \"/posts/\" + postId + \"/comments/\" + commentId + \"/votes\",\r\n      {\r\n        upvote: upVote\r\n      }\r\n    );\r\n  },\r\n  updateVoteReply(postId, commentId, replyId, upVote) {\r\n    return axiosApi.put(\r\n      \"/posts/\" +\r\n        postId +\r\n        \"/comments/\" +\r\n        commentId +\r\n        \"/subcomments/\" +\r\n        replyId +\r\n        \"/votes\",\r\n      {\r\n        upvote: upVote\r\n      }\r\n    );\r\n  },\r\n  /// Comment API\r\n  getComment(postId, commentId) {\r\n    return axiosApi.get(\"/posts/\" + postId + \"/comments/\" + commentId);\r\n  },\r\n  getComments(postId, queryType = \"hot\") {\r\n    return axiosApi.get(\"/posts/\" + postId + `/comments?query=${queryType}`);\r\n  },\r\n  postComment(postId, data) {\r\n    return axiosApi.post(\"/posts/\" + postId + \"/comments\", data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n  },\r\n  putComment(postId, commentId, data) {\r\n    return axiosApi.put(\"/posts/\" + postId + \"/comments/\" + commentId, data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n  },\r\n  deleteComment(postId, commentId) {\r\n    return axiosApi.delete(\"/posts/\" + postId + \"/comments/\" + commentId);\r\n  },\r\n  /// Subcomment API\r\n  getSubcomments(postId, commentId) {\r\n    return axiosApi.get(\r\n      \"/posts/\" + postId + \"/comments/\" + commentId + \"/subcomments\"\r\n    );\r\n  },\r\n  getSubcomment(postId, commentId, subId) {\r\n    return axiosApi.get(\r\n      \"/posts/\" + postId + \"/comments/\" + commentId + \"/subcomments/\" + subId\r\n    );\r\n  },\r\n  postSubcomment(postId, commentId, data) {\r\n    return axiosApi.post(\r\n      \"/posts/\" + postId + \"/comments/\" + commentId + \"/subcomments\",\r\n      data,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\"\r\n        }\r\n      }\r\n    );\r\n  },\r\n  putSubcomment(postId, commentId, subId, data) {\r\n    return axiosApi.post(\r\n      \"/posts/\" + postId + \"/comments/\" + commentId + \"/subcomments/\" + subId,\r\n      data,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\"\r\n        }\r\n      }\r\n    );\r\n  },\r\n  deleteSubcomment(postId, commentId, subId) {\r\n    return axiosApi.delete(\r\n      \"/posts/\" + postId + \"/comments/\" + commentId + \"/subcomments/\" + subId\r\n    );\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { KComponent } from \"../../../../../components/KComponent\";\r\nimport SectionPicker from \"../../../../react/section-picker/section-picker\";\r\nimport { modals } from \"../../modals\";\r\nimport { categoryCache } from \"../../../../cache/api-cache/common-cache\";\r\nimport { userInfo } from \"../../../../states/user-info\";\r\nimport { postingPostModal } from \"../posting-post/posting-post\";\r\nimport { postApi } from \"../../../../api/common/post-api\";\r\n\r\nimport { LoadingInline } from \"../../../loading-inline/loading-inline\";\r\n\r\nexport class SelectCategoryModal extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      error: null,\r\n      currentCategory: this.props.data ? this.props.data.category : null\r\n    };\r\n    let categoryCached = categoryCache.syncGet();\r\n    let info = userInfo.getState();\r\n    let { homeCountry } = info;\r\n    this.categoryData = categoryCached.filter(each => {\r\n      if (each.description.includes(\"Everything about\")) {\r\n        if (each.name.includes(homeCountry.name)) {\r\n          return true;\r\n        }\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errMatcher = {\r\n      invalid_url: \"Invalid URL.\",\r\n      invalid_picture: \"Unsupported image\",\r\n      network_error: \"Database is ded.\"\r\n    };\r\n    return errMatcher.hasOwnProperty(message)\r\n      ? errMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  handleSectionClick = category => {\r\n    this.setState({ currentCategory: category });\r\n  };\r\n\r\n  handleBackClicked = () => {\r\n    this.props.onClose();\r\n    const data = { ...this.props.data };\r\n    data.category = this.state.currentCategory;\r\n    postingPostModal.open(\r\n      this.props.onUploadSuccess,\r\n      { type: this.props.data.type, src: this.props.data.url },\r\n      this.props.data.file,\r\n      true,\r\n      data\r\n    );\r\n  };\r\n\r\n  handlePost = () => {\r\n    let data = { ...this.props.data };\r\n    data.category = this.state.currentCategory._id;\r\n    console.log(\"[SEND_DATA]:\", data);\r\n    let sendData = new FormData();\r\n    sendData.append(\"title\", data.title);\r\n    sendData.append(\"category\", data.category);\r\n    sendData.append(\"tags\", JSON.stringify(data.tags));\r\n    sendData.append(\"url\", data.file ? \"\" : data.url);\r\n    sendData.append(\"type\", data.type);\r\n    sendData.append(\"file\", data.file ? data.file.file : null);\r\n    sendData.append(\"attributeLink\", data.attributeLink);\r\n    sendData.append(\"nsfw\", data.nsfw);\r\n    this.setState({ loading: true });\r\n    // console.log(sendData.get(\"url\"));\r\n    postApi\r\n      .postPost(sendData)\r\n      .then(data => {\r\n        console.log(data);\r\n        this.props.onClose();\r\n        if (data.data && data.data.data.redirect) {\r\n          this.setState({ loading: false });\r\n          this.props.onUploadSuccess(data.data.data.redirect);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({ loading: false, error: err });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    let { onClose } = this.props;\r\n    let { loading, currentCategory } = this.state;\r\n\r\n    return (\r\n      <div className={classnames(\"selecting-category-modal\")}>\r\n        <Fragment>\r\n          <div className=\"modal-header selecting-category-modal-header no-border\">\r\n            <div className=\"modal-title \">\r\n              <h4 className=\"modal-title-text\">Pick a section</h4>\r\n              <p className=\"modal-subtitle-text\">\r\n                Submitting to the right section to make sure your post gets the\r\n                right exposure it deserves!\r\n              </p>\r\n            </div>\r\n            <i className=\"fas fa-times close-modal\" onClick={() => onClose()} />\r\n          </div>\r\n          <div className=\"modal-body selecting-category-modal-body\">\r\n            {loading ? <LoadingInline /> : null}\r\n            <SectionPicker\r\n              data={this.categoryData}\r\n              handleClick={this.handleSectionClick}\r\n              defaultSection={currentCategory}\r\n            />\r\n            {this.state.error && (\r\n              <div className=\"server-error\">{this.handleServerError()}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"modal-footer selecting-category-modal-footer no-border\">\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={this.handleBackClicked}\r\n            >\r\n              Back\r\n            </button>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              disabled={currentCategory === null || this.state.loading}\r\n              onClick={() => this.handlePost()}\r\n            >\r\n              {loading ? \"Loading\" : \"Next\"}\r\n            </button>\r\n          </div>\r\n        </Fragment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const selectCategoryModal = {\r\n  open(handlePost, data) {\r\n    const modal = modals.openModal({\r\n      content: (\r\n        <SelectCategoryModal\r\n          onClose={() => modal.close()}\r\n          onUploadSuccess={redirect => {\r\n            modal.close();\r\n            handlePost(redirect);\r\n          }}\r\n          data={data}\r\n        />\r\n      )\r\n    });\r\n    return modal.result;\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { KComponent } from \"../../../../../components/KComponent\";\r\n\r\nimport { modals } from \"../../modals\";\r\nimport { uploadPostModal } from \"../upload-post\";\r\nimport FocusedImage from \"../../../../react/focused-image/focused-image\";\r\nimport { selectCategoryModal } from \"../select-category/select-category\";\r\n\r\nexport class PostingPostModal extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      focusingImage: false,\r\n      error: null\r\n    };\r\n\r\n    this.charLeft = 280;\r\n    this.tagArrays = this.props.savedData ? this.props.savedData.tags : [];\r\n    this.descriptionRef = null;\r\n    this.tagInputRef = null;\r\n    this.sensitiveRef = null;\r\n    this.attributeRef = null;\r\n    this.attributeLinkRef = null;\r\n    this.savedData = { ...this.props.savedData };\r\n  }\r\n\r\n  handleBackClicked = () => {\r\n    this.props.onClose();\r\n    uploadPostModal.open(this.props.onPostSuccess);\r\n  };\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errMatcher = {\r\n      network_error: \"Database is ded.\",\r\n      invalid_tag:\r\n        \"Oops! Tags can contain alphanumerics, numbers and spaces only!\",\r\n      invalid_description:\r\n        \"Boost your post with a funny, creative and descriptive title!\"\r\n    };\r\n    return errMatcher.hasOwnProperty(message)\r\n      ? errMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  handleTagInput = () => {\r\n    // console.log(e.key);\r\n    const text = this.tagInputRef.value;\r\n    if (this.tagArrays.length <= 2) {\r\n      const tag = text.slice(0, text.length);\r\n      if (tag.length >= 1) {\r\n        if (/^[a-zA-Z0-9 ]+$/.test(tag)) {\r\n          this.tagArrays.push(tag);\r\n          this.tagInputRef.value = \"\";\r\n          this.forceUpdate();\r\n        } else {\r\n          this.setState({ error: { message: \"invalid_tag\" } });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleSpecialKey = e => {\r\n    if (e.key === \"Enter\" || e.key === \",\") {\r\n      e.preventDefault();\r\n      this.handleTagInput();\r\n    }\r\n  };\r\n\r\n  validateBeforePost() {\r\n    if (!this.descriptionRef) {\r\n      return false;\r\n    }\r\n    const description = this.descriptionRef.value;\r\n    if (description.length <= 3) {\r\n      this.setState({ error: { message: \"invalid_description\" } });\r\n      return false;\r\n    }\r\n    if (this.tagInputRef.value.length >= 1) {\r\n      this.handleTagInput();\r\n      return false;\r\n    }\r\n    if (!this.state.error) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  handleNextButton() {\r\n    const length = this.tagArrays ? this.tagArrays.length : 0;\r\n    const isValidated = this.validateBeforePost();\r\n    if (isValidated || (!isValidated && this.tagArrays.length > length)) {\r\n      const data = {\r\n        title: this.descriptionRef.value,\r\n        url: this.props.fromUrl\r\n          ? this.props.dataFromPreviousModal.src\r\n          : this.props.file.src,\r\n        type: this.props.dataFromPreviousModal.type,\r\n        file: this.props.file,\r\n        tags: this.tagArrays,\r\n        nsfw: this.sensitiveRef.checked,\r\n        attributeLink: this.attributeRef.checked\r\n          ? this.attributeLinkRef.value\r\n          : \"\",\r\n        category: this.props.savedData ? this.props.savedData.category : null\r\n      };\r\n      console.log(data);\r\n      this.props.onClose();\r\n      selectCategoryModal.open(this.props.onPostSuccess, data);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { onClose, dataFromPreviousModal } = this.props;\r\n    let { focusingImage } = this.state;\r\n    return (\r\n      <div\r\n        className={classnames(\"posting-post-modal\", {\r\n          \"posting-post-modal-longer\":\r\n            !!this.state.error ||\r\n            (this.attributeRef && this.attributeRef.checked) ||\r\n            (!this.attributeRef &&\r\n              this.savedData &&\r\n              this.savedData.attributeLink)\r\n        })}\r\n      >\r\n        <FocusedImage\r\n          hidden={!focusingImage}\r\n          onDismiss={() => this.setState({ focusingImage: false })}\r\n          type={dataFromPreviousModal.type}\r\n          src={dataFromPreviousModal.src}\r\n        />\r\n        <Fragment>\r\n          <div className=\"modal-header posting-post-modal-header no-border\">\r\n            <div className=\"modal-title \">\r\n              <h4 className=\"modal-title-text\">Give your post a title</h4>\r\n              <p className=\"modal-subtitle-text\">\r\n                An accurate, descriptive title can help people discover your\r\n                post.\r\n              </p>\r\n            </div>\r\n            <i\r\n              className=\"fas fa-times close-modal register-close-button\"\r\n              onClick={() => onClose()}\r\n            />\r\n          </div>\r\n          <div className=\"modal-body posting-post-modal-body\">\r\n            {this.state.error && (\r\n              <div className=\"server-error pb-2\">\r\n                {this.handleServerError()}\r\n              </div>\r\n            )}\r\n            <div className=\"spacer\">\r\n              <div className=\"field post-info\">\r\n                <div\r\n                  className=\"preview\"\r\n                  onClick={() => this.setState({ focusingImage: true })}\r\n                >\r\n                  {dataFromPreviousModal.type === \"Photo\" ? (\r\n                    <img src={dataFromPreviousModal.src} alt=\"Preview\" />\r\n                  ) : (\r\n                    <video src={dataFromPreviousModal.src} muted />\r\n                  )}\r\n                </div>\r\n                <textarea\r\n                  type=\"text\"\r\n                  className=\"description\"\r\n                  placeholder=\"Describe your post...\"\r\n                  minLength=\"5\"\r\n                  maxLength=\"280\"\r\n                  onChange={e => {\r\n                    this.charLeft = 280 - +e.target.value.length;\r\n                    this.setState({ error: null });\r\n                  }}\r\n                  ref={element => (this.descriptionRef = element)}\r\n                  defaultValue={this.savedData ? this.savedData.title : \"\"}\r\n                />\r\n                <p className=\"count\">{this.charLeft}</p>\r\n              </div>\r\n              <div className=\"field tag\">\r\n                <label>Tag</label>\r\n                <div className=\"scroll-container\">\r\n                  <div className=\"tag-list\">\r\n                    {this.tagArrays.map((each, i) => (\r\n                      <span\r\n                        key={each.toString() + i.toString()}\r\n                        className=\"tag-item\"\r\n                      >\r\n                        {each}\r\n                        <i\r\n                          className=\"fas fa-times close-modal\"\r\n                          onClick={() => {\r\n                            this.tagArrays.splice(i, 1);\r\n                            this.forceUpdate();\r\n                          }}\r\n                        />\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder={\r\n                      this.tagArrays.length <= 0 ? \"tag1, tag2, tag3\" : null\r\n                    }\r\n                    onChange={() => {\r\n                      this.setState({ error: null });\r\n                    }}\r\n                    onKeyDown={this.handleSpecialKey}\r\n                    disabled={this.tagArrays.length >= 3}\r\n                    ref={element => (this.tagInputRef = element)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"field checkbox\">\r\n                <label>\r\n                  <p>This is sensitive</p>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    ref={element => (this.sensitiveRef = element)}\r\n                    defaultChecked={\r\n                      this.savedData ? this.savedData.nsfw : false\r\n                    }\r\n                  />\r\n                </label>\r\n              </div>\r\n              <div\r\n                className={classnames(\"field checkbox\", {\r\n                  last: !(\r\n                    (this.attributeRef === null &&\r\n                      this.savedData &&\r\n                      this.savedData.attributeLink) ||\r\n                    (this.attributeRef && this.attributeRef.checked)\r\n                  )\r\n                })}\r\n              >\r\n                <label>\r\n                  <p>Attribute original poster</p>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    onChange={() => {\r\n                      this.forceUpdate();\r\n                    }}\r\n                    ref={element => (this.attributeRef = element)}\r\n                    defaultChecked={\r\n                      this.savedData ? !!this.savedData.attributeLink : false\r\n                    }\r\n                  />\r\n                </label>\r\n              </div>\r\n              {(this.attributeRef === null &&\r\n                this.savedData &&\r\n                this.savedData.attributeLink) ||\r\n              (this.attributeRef && this.attributeRef.checked) ? (\r\n                <div className=\"field textbox last\">\r\n                  <input\r\n                    type=\"url\"\r\n                    placeholder=\"http://\"\r\n                    ref={element => (this.attributeLinkRef = element)}\r\n                    defaultValue={\r\n                      this.savedData ? this.savedData.attributeLink : \"\"\r\n                    }\r\n                  />\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer posting-post-modal-footer no-border\">\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={() => this.handleBackClicked()}\r\n            >\r\n              Back\r\n            </button>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => this.handleNextButton()}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </Fragment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const postingPostModal = {\r\n  open(\r\n    handlePost,\r\n    dataFromPreviousModal,\r\n    file = null,\r\n    fromUrl = false,\r\n    savedData = null\r\n  ) {\r\n    const modal = modals.openModal({\r\n      content: (\r\n        <PostingPostModal\r\n          onClose={() => modal.close()}\r\n          onPostSuccess={redirect => {\r\n            modal.close();\r\n            handlePost(redirect);\r\n          }}\r\n          file={file}\r\n          fromUrl={fromUrl}\r\n          dataFromPreviousModal={dataFromPreviousModal}\r\n          savedData={savedData}\r\n        />\r\n      )\r\n    });\r\n    return modal.result;\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport classnames from \"classnames\";\r\nimport * as yup from \"yup\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nimport { KComponent } from \"../../../../../components/KComponent\";\r\nimport { modals } from \"../../modals\";\r\nimport { createFormWithValidator } from \"../../../form-validator/form-validator\";\r\nimport { InputBase } from \"../../../input-base/input-base\";\r\nimport { uploadPostModal } from \"../upload-post\";\r\nimport { getMetaTags } from \"../../../../utils/scrapper-util\";\r\n// import { getMetaTags } from \"../../../../utils/common-util\";\r\n// import { utilApi } from \"../../../../api/common/util-api\";\r\nimport { postingPostModal } from \"../posting-post/posting-post\";\r\n\r\nimport { LoadingInline } from \"../../../loading-inline/loading-inline\";\r\n\r\nexport class UploadFromUrlModal extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      validUrl: false,\r\n      validPic: false,\r\n      error: null\r\n    };\r\n\r\n    const schema = yup.object().shape({\r\n      url: yup.string().url(\"This must be a valid links\")\r\n    });\r\n\r\n    this.form = createFormWithValidator(schema, {\r\n      initData: {\r\n        url: this.props.url ? this.props.url : \"\"\r\n      }\r\n    });\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n    this.onUnmount(this.form.on(\"enter\", () => this.handlePost()));\r\n    this.form.validateData();\r\n  }\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errMatcher = {\r\n      invalid_url: \"Invalid URL.\",\r\n      scrapper_failed: \"Cannot extract image from this url.\",\r\n      invalid_picture: \"Unsupported image\",\r\n      network_error: \"Database is ded.\"\r\n    };\r\n    return errMatcher.hasOwnProperty(message)\r\n      ? errMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  // Go to older commit like (23d0384021277a62add16122f1fd1e979b8d5f99) to see LinkPreview Logic\r\n  handleFileChanged = () => {\r\n    if (this.form.isValid()) {\r\n      const url = this.form.getData(\"url\");\r\n      console.log(url);\r\n      var pattern = new RegExp(\r\n        \"^(https?:\\\\/\\\\/)?\" +\r\n          \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" +\r\n          \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" +\r\n          \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" +\r\n          \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" +\r\n          \"(\\\\#[-a-z\\\\d_]*)?$\",\r\n        \"i\"\r\n      );\r\n      if (pattern.test(url.url)) {\r\n        this.setState({\r\n          loading: true\r\n        });\r\n        getMetaTags(url.url)\r\n          .then(data => {\r\n            console.log(data);\r\n            if (data.error) {\r\n              const error = new Error(\"invalid_url\");\r\n              throw error;\r\n            }\r\n            const { video, image, message } = data;\r\n            let sendData = {\r\n              type: \"\",\r\n              src: \"\"\r\n            };\r\n            if (message === \"valid_picture\") {\r\n              sendData = { type: \"Photo\", src: image.url };\r\n              this.handleLoadSuccess(sendData);\r\n            } else if (message === \"valid_video\") {\r\n              sendData = {\r\n                type: \"Animated\",\r\n                src: video.url\r\n              };\r\n              this.handleLoadSuccess(sendData);\r\n            } else {\r\n              const error = new Error(\"bad_error\");\r\n              this.handleLoadFailed(error);\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.handleLoadFailed(err);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  debounceCheckFileChanged = debounce(this.handleFileChanged, 1000);\r\n\r\n  handleLoadSuccess = data => {\r\n    this.setState({\r\n      loading: false,\r\n      error: null,\r\n      validUrl: true,\r\n      validPic: true\r\n    });\r\n    this.props.onClose();\r\n    postingPostModal.open(this.props.onUploadSuccess, data, null, true);\r\n  };\r\n\r\n  handleLoadFailed = e => {\r\n    // console.log(e);\r\n    this.setState({\r\n      loading: false,\r\n      error: { message: \"invalid_url\" },\r\n      validUrl: false,\r\n      validPic: false\r\n    });\r\n  };\r\n\r\n  handleBackClicked = () => {\r\n    this.props.onClose();\r\n    uploadPostModal.open(\r\n      this.props.onUploadSuccess,\r\n      this.state.validUrl ? this.form.getPathData(\"url\") : \"\"\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let { onClose } = this.props;\r\n    let { loading, validUrl, error } = this.state;\r\n    const isSubmittable = !loading && validUrl && error === null;\r\n    return (\r\n      <div className={classnames(\"uploadurl-modal\")}>\r\n        <Fragment>\r\n          <div className=\"modal-header uploadurl-modal-header no-border\">\r\n            <div className=\"modal-title \">\r\n              <h4 className=\"modal-title-text\">Upload from URL</h4>\r\n              <p className=\"modal-subtitle-text\">Type or paste Image URL</p>\r\n            </div>\r\n            <i\r\n              className=\"fas fa-times close-modal register-close-button\"\r\n              onClick={() => onClose()}\r\n            />\r\n          </div>\r\n          <div className=\"modal-body uploadurl-modal-body\">\r\n            {loading ? <LoadingInline /> : null}\r\n            {this.form.enhancedComponent(\r\n              \"url\",\r\n              ({ error, onChange, onEnter, ...other }) => (\r\n                <InputBase\r\n                  className=\"uploadurl-modal-input\"\r\n                  error={error}\r\n                  id={\"url\"}\r\n                  placeholder=\"http://\"\r\n                  onChange={e => {\r\n                    onChange(e);\r\n                    this.setState({ error: null });\r\n                    this.debounceCheckFileChanged();\r\n                  }}\r\n                  type={\"url\"}\r\n                  {...other}\r\n                />\r\n              ),\r\n              true\r\n            )}{\" \"}\r\n            {this.state.error && (\r\n              <div className=\"server-error\">{this.handleServerError()}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"modal-footer uploadurl-modal-footer no-border\">\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={this.handleBackClicked}\r\n            >\r\n              Back\r\n            </button>\r\n            <button className=\"btn btn-primary\" disabled={!isSubmittable}>\r\n              {loading ? \"Loading\" : \"Next\"}\r\n            </button>\r\n          </div>\r\n        </Fragment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const uploadFromUrlModal = {\r\n  open(handlePost, url) {\r\n    const modal = modals.openModal({\r\n      content: (\r\n        <UploadFromUrlModal\r\n          onClose={() => modal.close()}\r\n          onUploadSuccess={redirect => {\r\n            modal.close();\r\n            handlePost(redirect);\r\n          }}\r\n          url={url}\r\n        />\r\n      )\r\n    });\r\n    return modal.result;\r\n  }\r\n};\r\n","const wait = (fn, amount = 2000) =>\n  new Promise((res, rej) => {\n    setTimeout(() => {\n      fn();\n      res();\n    }, amount);\n  });\n\nconst getBase64 = file =>\n  new Promise(resolve => {\n    let reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      resolve({ file, src: reader.result, fileID: file.lastModified });\n    };\n  });\n\nlet buildParams = obj => {\n  let params = Object.keys(obj);\n  let val = Object.values(obj);\n  let result = val.reduce((total, cur, i) => {\n    if (cur !== undefined && cur !== null) {\n      return total + `${params[i]}=${cur}&`;\n    }\n    return total;\n  }, \"?\");\n  if (result === \"?\") {\n    return \"\";\n  }\n  return result.slice(0, result.length - 1);\n};\n\n// DEPRECATED, should use scrapper-util if possible\nconst getMetaTags = url => {\n  const data = {\n    key: \"5d23fe49576914abd325e59c9705044764303dc5845b0\",\n    q: url\n  };\n\n  return fetch(\"https://api.linkpreview.net\", {\n    method: \"POST\",\n    mode: \"cors\",\n    body: JSON.stringify(data)\n  })\n    .then(res => res.json())\n    .then(response => response)\n    .catch(err => {\n      throw err;\n    });\n};\n\nconst getMonthName = (month, length) => {\n  let months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ];\n  return months[month].substring(0, length);\n};\n\nconst timeDifference = date => {\n  let millisec = Math.abs(date - Date.now());\n  let sec = Math.floor(millisec / 1000);\n  let mins = Math.floor(millisec / 60000);\n  let hrs = Math.floor(mins / 60);\n  let days = Math.floor(hrs / 24);\n  if (days <= 0) {\n    if (hrs <= 0) {\n      if (mins <= 0) {\n        return `${sec}s`;\n      }\n      return `${mins}m`;\n    }\n    return `${hrs}h`;\n  } else if (days <= 30) {\n    return `${days}d`;\n  } else {\n    return `${date.getDate()} ${getMonthName(0, 3)}`;  /// Please check date function, this is just quick fix\n  }\n};\n\nconst convertSecToMinSec = sec => {\n  let second = Math.floor(sec);\n\n  let min = Math.floor(second / 60);\n  second = second - min * 60;\n  second = second.toString();\n  if (second.length === 1) {\n    second = `0${second}`;\n  }\n  return `${min}:${second}`;\n};\n\nexport {\n  wait,\n  getBase64,\n  buildParams,\n  getMetaTags,\n  timeDifference,\n  convertSecToMinSec\n};\n","import React, { Component, Fragment } from \"react\";\r\nimport { getBase64 } from \"../../utils/common-util\";\r\n\r\nclass UploadButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // isMultiple = 0: upload single file\r\n    // isMultiple = 1: upload multiple file\r\n    this.isMultiple = this.props.isMultiple;\r\n    this.state = {};\r\n    this.inputElement = null;\r\n  }\r\n\r\n  handleUpload = e => {\r\n    e.preventDefault();\r\n    const files = [...e.target.files];\r\n    e.target.value = \"\";\r\n    if (this.isMultiple) {\r\n      let { value: currentImages, onChange, onError, limit = 2 } = this.props;\r\n      if (files.length + currentImages.length >= limit) {\r\n        onError(\"Reach maximum amount of images (\" + limit + \" files)!\");\r\n        return;\r\n      }\r\n      let promises = [];\r\n      for (let i = 0; i < files.length; i++) {\r\n        let file = files[i];\r\n        if (file && file.type.indexOf(\"image\") > -1) {\r\n          promises.push(\r\n            getBase64(file).then(base64File => {\r\n              if (\r\n                !currentImages.find(\r\n                  each => each.file.name === base64File.file.name\r\n                )\r\n              ) {\r\n                return base64File;\r\n              } else {\r\n                onError(\r\n                  <span>\r\n                    Skip file{\" \"}\r\n                    <span style={{ color: \"#189eff\" }}>\r\n                      {base64File.file.namme}\r\n                    </span>{\" \"}\r\n                    because it has been uploaded.\r\n                  </span>\r\n                );\r\n                return null;\r\n              }\r\n            })\r\n          );\r\n        }\r\n      }\r\n      Promise.all(promises).then(data => {\r\n        onChange(currentImages.concat(data.filter(each => each !== null)));\r\n      });\r\n    } else {\r\n      const file = files[0];\r\n      console.log(file);\r\n      if (file && file.type.indexOf(\"image\") > -1) {\r\n        let { value: currentImage, onChange, onError } = this.props;\r\n        getBase64(file)\r\n          .then(base64File => {\r\n            if (\r\n              !currentImage ||\r\n              (currentImage && currentImage.file.name !== base64File.file.name)\r\n            ) {\r\n              return base64File;\r\n            } else {\r\n              onError(\r\n                <span>\r\n                  File{\" \"}\r\n                  <span style={{ color: \"#189eff\" }}>\r\n                    {base64File.file.namme}\r\n                  </span>{\" \"}\r\n                  is the same as the one you uploaded.\r\n                </span>\r\n              );\r\n              return null;\r\n            }\r\n          })\r\n          .then(data => {\r\n            if (data) {\r\n              onChange(data);\r\n            }\r\n          });\r\n      } else if (file && file.type.indexOf(\"video\") > -1) {\r\n        let { onChange } = this.props;\r\n        const objectURL = URL.createObjectURL(file);\r\n\r\n        onChange({ file, src: objectURL });\r\n      }\r\n    }\r\n  };\r\n\r\n  handleVideoUpload = e => { };\r\n\r\n  render() {\r\n    let { renderBtn, onError, uploadImageOnly } = this.props;\r\n    return (\r\n      <Fragment>\r\n        {renderBtn({\r\n          onClick: e => {\r\n            this.inputElement.click();\r\n            onError(null);\r\n          }\r\n        })}\r\n        <input\r\n          className=\"upload-input\"\r\n          type=\"file\"\r\n          onChange={this.handleUpload}\r\n          accept={!uploadImageOnly ? \"image/*,video/*\" : \"image/*\"}\r\n          style={{ width: 0, height: 0 }}\r\n          ref={element => (this.inputElement = element)}\r\n          multiple={this.isMultiple}\r\n          name={\"uploadBtn\"}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UploadButton;\r\n","import React, { Fragment } from \"react\";\r\nimport classnames from \"classnames\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { KComponent } from \"../../../../components/KComponent\";\r\nimport { modals } from \"../modals\";\r\nimport { createFormWithValidator } from \"../../form-validator/form-validator\";\r\nimport { uploadFromUrlModal } from \"./upload-from-url/upload-from-url\";\r\nimport { postingPostModal } from \"./posting-post/posting-post\";\r\nimport { utilApi } from \"../../../api/common/util-api\";\r\n\r\nimport UploadButton from \"../../upload-btn/upload-btn\";\r\n\r\nimport trollface from \"../../../../assets/img/trollface.png\";\r\n\r\nexport class UploadPostModal extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      uploadError: null,\r\n      error: null\r\n    };\r\n\r\n    const schema = yup.object().shape({\r\n      picture: yup.mixed()\r\n    });\r\n\r\n    this.form = createFormWithValidator(schema, {\r\n      initData: {}\r\n    });\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n    this.onUnmount(this.form.on(\"enter\", () => this.handlePost()));\r\n    this.form.validateData();\r\n    this.buttonOnClick = null;\r\n  }\r\n\r\n  handlePost = file => {\r\n    this.setState({ error: null });\r\n    console.log(file);\r\n    if (file.file && file.file.type.indexOf(\"image\") > -1) {\r\n      const bodyData = new FormData();\r\n      bodyData.append(\"file\", file.file);\r\n      utilApi\r\n        .checkImageFile(bodyData)\r\n        .then(data => {\r\n          console.log(\"[handle_post]\", data);\r\n          this.props.onClose();\r\n          postingPostModal.open(\r\n            this.props.onUploadSuccess,\r\n            { type: \"Photo\", src: data.data.data },\r\n            file\r\n          );\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.setState({ error: err });\r\n        });\r\n    } else {\r\n      this.props.onClose();\r\n\r\n      postingPostModal.open(\r\n        this.props.onUploadSuccess,\r\n        { type: \"Animated\", src: file.src },\r\n        file\r\n      );\r\n    }\r\n  };\r\n\r\n  handleUploadFromUrl = () => {\r\n    this.props.onClose();\r\n    uploadFromUrlModal.open(\r\n      this.props.onUploadSuccess,\r\n      this.props.backupURL ? this.props.backupURL : \"\"\r\n    );\r\n  };\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errMatcher = {\r\n      invalid_picture: \"Unsupported dimension\",\r\n      network_error: \"Database is ded.\"\r\n    };\r\n    return errMatcher.hasOwnProperty(message)\r\n      ? errMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  render() {\r\n    let { onClose } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={classnames(\"upload-post-modal\", {\r\n          \"upload-post-modal-longer\": this.state.error !== null\r\n        })}\r\n      >\r\n        <Fragment>\r\n          <div className=\"modal-header upload-header\">\r\n            <div className=\"modal-title upload-modal-header\">\r\n              <h4 className=\"modal-title-text\">Upload a Post</h4>\r\n              <p className=\"modal-subtitle-text\">\r\n                Choose how you want to upload the post\r\n              </p>\r\n            </div>\r\n            <i\r\n              className=\"fas fa-times close-modal register-close-button\"\r\n              onClick={() => onClose()}\r\n            />\r\n          </div>\r\n          <div className=\"modal-body upload-modal-body\">\r\n            {this.state.error && (\r\n              <div className=\"server-error\">{this.handleServerError()}</div>\r\n            )}\r\n            <div className=\"spacer\">\r\n              <div\r\n                className=\"upload-image\"\r\n                onClick={e => {\r\n                  this.buttonOnClick();\r\n                }}\r\n              >\r\n                <i className=\"fas fa-file-upload upload-icon\" />\r\n                <p className=\"upload-image-text\">Drop image to upload or</p>\r\n                {this.form.enhancedComponent(\r\n                  \"picture\",\r\n                  ({ error, onChange, value, ...other }) => (\r\n                    <UploadButton\r\n                      renderBtn={({ onClick }) => {\r\n                        this.buttonOnClick = onClick;\r\n                        return (\r\n                          <button\r\n                            className=\"btn btn-primary btn-bold-text\"\r\n                            // onClick={onClick}\r\n                          >\r\n                            Choose file...\r\n                          </button>\r\n                        );\r\n                      }}\r\n                      onError={error => {\r\n                        this.setState({\r\n                          uploadError: error\r\n                        });\r\n                      }}\r\n                      onChange={files => {\r\n                        onChange(files);\r\n                        this.handlePost(files);\r\n                      }}\r\n                      value={value}\r\n                    />\r\n                  )\r\n                )}\r\n              </div>\r\n              <div className=\"other-source justify-content-center\">\r\n                <div\r\n                  className=\"upload-image-url\"\r\n                  onClick={this.handleUploadFromUrl}\r\n                >\r\n                  <i className=\"fas fa-image\" />\r\n                  <p>Paste image URL</p>\r\n                </div>\r\n                <div className=\"upload-image-url\">\r\n                  <i className=\"fas fa-play-circle\" />\r\n                  <p>Paste Video URL</p>\r\n                </div>\r\n                <a\r\n                  href=\"https://memeful.com/generator?ref=9gag\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"upload-image-url\"\r\n                >\r\n                  <img src={trollface} alt=\"Trollface\" />\r\n                  <p>Make meme</p>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const uploadPostModal = {\r\n  open(handleUpload, backupURL) {\r\n    const modal = modals.openModal({\r\n      content: (\r\n        <UploadPostModal\r\n          onClose={() => modal.close()}\r\n          onUploadSuccess={redirect => {\r\n            modal.close();\r\n            handleUpload(redirect);\r\n          }}\r\n          backupURL={backupURL}\r\n        />\r\n      )\r\n    });\r\n    return modal.result;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\"\r\n\r\nclass AvatarDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"header-avatar-dropdown\" className=\"popup-menu user\">\r\n        <ul>\r\n          <li>\r\n            <Link to=\"#\" onClick={() => console.log(\"hihdsifd\")}>My Profile</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/settings\">Settings</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"#\" onClick={this.props.handleLogOut}>Logout</Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AvatarDropdown;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { userInfo } from \"../../../../common/states/user-info\";\r\nimport { uploadPostModal } from \"../../../../common/react/modals/upload-post/upload-post\";\r\nimport AvatarDropdown from \"../AvatarDropdown/AvatarDropdown\";\r\nclass UserFunction extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.setWrapperRef = this.setWrapperRef.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.handleToggleVisibility = this.handleToggleVisibility.bind(this);\r\n    this.state = {\r\n      visibility: false\r\n    };\r\n  }\r\n\r\n  setWrapperRef(node) {\r\n    this.wrapperRef = node;\r\n  }\r\n\r\n  handleToggleVisibility(event) {\r\n    if (!this.state.visibility) {\r\n      document.addEventListener(\"click\", this.handleClickOutside, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleClickOutside, false);\r\n    }\r\n    this.setState(prevState => ({ visibility: !prevState.visibility }));\r\n  }\r\n\r\n  handleClickOutside(event) {\r\n    if (this.wrapperRef && this.wrapperRef.contains(event.target)) {\r\n      return;\r\n    }\r\n    this.handleToggleVisibility();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"click\", this.handleClickOutside, false);\r\n  }\r\n\r\n  render() {\r\n    const { avatarURL } = userInfo.getState();\r\n\r\n    return (\r\n      <div className=\"user-function\">\r\n        <div className=\"notification\">\r\n          <button className=\"bell\" to=\"/\" />\r\n        </div>\r\n        <div className=\"avatar\">\r\n          <Link\r\n            className=\"avatar-container\"\r\n            onClick={this.handleToggleVisibility}\r\n            to=\"#\"\r\n          >\r\n            <img\r\n              id=\"avatar\"\r\n              src={\r\n                avatarURL\r\n                  ? avatarURL\r\n                  : \"https://scontent.fhan2-1.fna.fbcdn.net/v/t1.0-9/65779034_2581715215269851_5487272615624048640_n.jpg?_nc_cat=103&_nc_oc=AQnHo4OFV2vph0EFQGpXEwFBgdxVAIRMQeDc9cqPCxokqfvcGFD6xW-PsK8IDU47JZA&_nc_ht=scontent.fhan2-1.fna&oh=dc220778d9eb228dc150dc2b3b701803&oe=5DB46B7B\"\r\n              }\r\n              alt=\"avatar\"\r\n            />\r\n          </Link>\r\n        </div>\r\n        <div className=\"upload\">\r\n          <button\r\n            id=\"upload-btn\"\r\n            className=\"my-btn-primary\"\r\n            onClick={() => {\r\n              uploadPostModal.open(redirect => {\r\n                this.props.history.push(redirect);\r\n              });\r\n            }}\r\n          >\r\n            Upload\r\n          </button>\r\n        </div>\r\n        {this.state.visibility && (\r\n          <AvatarDropdown handleLogOut={this.props.handleLogOut} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserFunction;\r\n","import React from \"react\";\r\nimport GeneralFuntion from \"./GeneralFunction/GeneralFunction\";\r\nimport VisitorFunction from \"./VisitorFunction/VisitorFunction\";\r\nimport UserFunction from \"./UserFunction/UserFunction\";\r\nimport { userInfo } from \"../../../../src/common/states/user-info\";\r\n\r\nconst FunctionWrap = props => {\r\n  const isLogin = userInfo.getState();\r\n  return (\r\n    <div className=\"function-wrap\">\r\n      <GeneralFuntion />\r\n      {!isLogin && <VisitorFunction history={props.history} />}\r\n      {isLogin && (\r\n        <UserFunction\r\n          history={props.history}\r\n          handleLogOut={props.handleLogOut}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FunctionWrap;\r\n","import React from \"react\";\r\nimport NavItems from \"../NavItems/NavItems\";\r\nimport FunctionWrap from \"../FunctionWrap/FunctionWrap\";\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst toolbar = props => {\r\n  return (\r\n    <header className=\"top-nav\">\r\n      <div className=\"nav-wrap\">\r\n        <Link className=\"my-logo\" to=\"/\">\r\n          9GAG\r\n        </Link>\r\n        <nav className=\"nav-menu\">{<NavItems />}</nav>\r\n        <FunctionWrap\r\n          history={props.history}\r\n          handleLogOut={props.handleLogOut}\r\n        />\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default toolbar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst MoreDropdown = props => {\r\n  return (\r\n    <div className=\"more-dropdown\">\r\n      <ul>\r\n        <li>\r\n          <Link to=\"#\">Top Posts</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"#\">Most Recents</Link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MoreDropdown;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MoreDropdown from \"./MoreDropdown/MoreDropdown\"\r\n\r\nclass PopularSidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.setWrapperRef = this.setWrapperRef.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.handleToggleVisibility = this.handleToggleVisibility.bind(this);\r\n    this.state = {\r\n      name: '',\r\n      visibility: false\r\n    }\r\n  }\r\n\r\n\r\n  setWrapperRef(node) {\r\n    this.wrapperRef = node;\r\n  }\r\n\r\n  handleToggleVisibility(event) {\r\n    if (!this.state.visibility) {\r\n      document.addEventListener('click', this.handleClickOutside, false);\r\n    } else {\r\n      document.removeEventListener('click', this.handleClickOutside, false);\r\n    }\r\n    this.setState((prevState) => ({ visibility: !prevState.visibility }));\r\n  }\r\n\r\n  handleClickOutside(event) {\r\n    if (this.wrapperRef && this.wrapperRef.contains(event.target)) {\r\n      return;\r\n    }\r\n    this.handleToggleVisibility();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"popular\">\r\n        <header>\r\n          <h3>Popular</h3>\r\n        </header>\r\n        <ul className=\"nav\">\r\n          <li className={this.state.name === 'hot' ? 'selected' : ''}>\r\n            <div className=\"div-button\" onClick={() => { this.setState({ name: 'hot' }) }}>\r\n              <Link to=\"#\" className=\"label\" >\r\n                <i className=\"icon hot\"></i>\r\n                Hot\r\n              </Link>\r\n              <button className=\"my-button\" onClick={this.handleToggleVisibility}>\r\n                <i className=\"icon icon-right more\"></i>\r\n              </button>\r\n            </div>\r\n            {this.state.visibility && (\r\n              <MoreDropdown />\r\n            )}\r\n          </li>\r\n          <li className={this.state.name === 'trending' ? 'selected' : ''} >\r\n            <div className=\"div-button\" onClick={() => { this.setState({ name: 'trending' }) }}>\r\n              <Link to=\"#\" className=\"label\" >\r\n                <i className=\"icon trending\"></i>\r\n                Trending\r\n              </Link>\r\n            </div>\r\n          </li>\r\n          <li className={this.state.name === 'fresh' ? 'selected' : ''} >\r\n            <div className=\"div-button\" onClick={() => { this.setState({ name: 'fresh' }) }}>\r\n              <Link to=\"#\" className=\"label\" >\r\n                <i className=\"icon fresh\"></i>\r\n                Fresh\r\n              </Link>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default PopularSidebar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Category extends React.Component {\r\n  render() {\r\n    return (\r\n      <li>\r\n        <div className=\"div-button\" onClick={null}>\r\n          <Link to=\"#\" className=\"label\">\r\n            <i className=\"icon hot\">\r\n              <img\r\n                className=\"icon hot\"\r\n                src={this.props.imageUrl}\r\n                alt={this.props.name}\r\n              />\r\n            </i>\r\n          </Link>\r\n          <button className=\"my-button \" onClick={this.props.iconType === \"more\" ? this.props.handleToggleVisibility : null}>\r\n            <i className={\"icon icon-right \" + `${this.props.iconType}`} />\r\n          </button>\r\n          <p className=\"test\">{this.props.name}</p>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Category;\r\n","import React from \"react\";\r\nimport Category from \"./Category/Category\";\r\nimport { categoryCache } from \"../../../common/cache/api-cache/common-cache\";\r\n\r\nimport MoreDropdown from \"../PopularSidebar/MoreDropdown/MoreDropdown\";\r\n\r\nclass CategorySection extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.setWrapperRef = this.setWrapperRef.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.handleToggleVisibility = this.handleToggleVisibility.bind(this);\r\n    this.state = {\r\n      name: \"\",\r\n      visibility: false\r\n    };\r\n\r\n    const cachedCategory = categoryCache.syncGet();\r\n    this.categories = cachedCategory ? cachedCategory : [];\r\n  }\r\n\r\n  setWrapperRef(node) {\r\n    this.wrapperRef = node;\r\n  }\r\n\r\n  handleToggleVisibility(event) {\r\n    if (!this.state.visibility) {\r\n      document.addEventListener(\"click\", this.handleClickOutside, false);\r\n    } else {\r\n      document.removeEventListener(\"click\", this.handleClickOutside, false);\r\n    }\r\n    this.setState(prevState => ({ visibility: !prevState.visibility }));\r\n  }\r\n\r\n  handleClickOutside(event) {\r\n    if (this.wrapperRef && this.wrapperRef.contains(event.target)) {\r\n      return;\r\n    }\r\n    this.handleToggleVisibility();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"category-div\">\r\n        <header>\r\n          <h3>Sections</h3>\r\n        </header>\r\n        <ul className=\"nav\">\r\n          <Category\r\n            name=\"Vietnam \"\r\n            description=\"Everything about Vietnam\"\r\n            imageUrl=\"https://localhost:6969/assets/0_country_100.jpg\"\r\n            iconType=\"more\"\r\n            handleToggleVisibility={this.handleToggleVisibility}\r\n          />\r\n          {this.state.visibility && <MoreDropdown />}\r\n          {this.categories.map(category => {\r\n            if (\r\n              category.imageUrl !==\r\n              \"https://localhost:6969/assets/0_country_100.jpg\"\r\n            )\r\n              return (\r\n                <Category\r\n                  key={category.name}\r\n                  name={category.name}\r\n                  description={category.description}\r\n                  imageUrl={category.imageUrl}\r\n                  iconType=\"star\"\r\n                />\r\n              );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CategorySection;\r\n","import React from \"react\";\r\nimport PopularSidebar from \"./PopularSidebar/PopularSidebar\";\r\nimport CategorySection from \"./CategorySection/CategorySection\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nconst Sidebar = props => {\r\n  return (\r\n    <div className=\"section-sidebar\">\r\n      <div className=\"stealthy-scroll-container\">\r\n        <div className=\"inside-section\">\r\n          <PopularSidebar />\r\n          <CategorySection />\r\n          <section className=\"footer\">\r\n            <p className=\"static\">\r\n              <Link to=\"#\">Advertise</Link>\r\n              <Link to=\"#\">Rules</Link>\r\n              <Link to=\"#\">Tips</Link>\r\n              <Link to=\"#\">FAQ</Link>\r\n              <Link to=\"#\">Terms</Link>\r\n              <Link to=\"#\">Privacy</Link>\r\n              <Link to=\"#\">Jobs</Link>\r\n              <Link to=\"#\">Contact</Link>\r\n              <Link to=\"#\">Feedback</Link>\r\n              <Link to=\"#\">Report Bad Ads</Link>\r\n            </p>\r\n            <p className=\"static\">9GAG  2019</p>\r\n          </section>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Article extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n  render() {\r\n    return (\r\n      <li>\r\n        <Link to=\"/\">\r\n          <div className=\"article-img\">\r\n            <img src={this.props.img} alt=\"article-img\" />\r\n          </div>\r\n          <div className=\"article-info\">\r\n            <h3>{this.props.info}</h3>\r\n          </div>\r\n        </Link>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Article;\r\n","import React from \"react\";\r\nimport Article from \"./Article/Article\";\r\n\r\nclass ContentSidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"content-sidebar\">\r\n        <div className=\"stealthy-scroll-container padding-top \">\r\n          <div className=\"content\">\r\n            <div className=\"block-feature-cover\">\r\n              <ul>\r\n                <Article\r\n                  img=\"https://miscmedia-9gag-fun.9cache.com/images/featured/1562507503.3532_vEBADE_300.jpg\"\r\n                  info=\"Florida Hunter Shoots Pool Worker After Mistaking Him For Green Iguana\"\r\n                />\r\n                <Article\r\n                  img=\"https://miscmedia-9gag-fun.9cache.com/images/featured/1562507503.3532_vEBADE_300.jpg\"\r\n                  info=\"Florida Hunter Shoots Pool Worker After Mistaking Him For Green Iguana\"\r\n                />\r\n                <Article\r\n                  img=\"https://miscmedia-9gag-fun.9cache.com/images/featured/1562507503.3532_vEBADE_300.jpg\"\r\n                  info=\"Florida Hunter Shoots Pool Worker After Mistaking Him For Green Iguana\"\r\n                />\r\n                <Article\r\n                  img=\"https://miscmedia-9gag-fun.9cache.com/images/featured/1562507503.3532_vEBADE_300.jpg\"\r\n                  info=\"Florida Hunter Shoots Pool Worker After Mistaking Him For Green Iguana\"\r\n                />\r\n                <Article\r\n                  img=\"https://miscmedia-9gag-fun.9cache.com/images/featured/1562507503.3532_vEBADE_300.jpg\"\r\n                  info=\"Florida Hunter Shoots Pool Worker After Mistaking Him For Green Iguana\"\r\n                />\r\n                <Article\r\n                  img=\"https://miscmedia-9gag-fun.9cache.com/images/featured/1562507503.3532_vEBADE_300.jpg\"\r\n                  info=\"Florida Hunter Shoots Pool Worker After Mistaking Him For Green Iguana\"\r\n                />\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContentSidebar;\r\n","import { withRouter } from \"react-router-dom\";\r\nimport { KComponent } from \"../KComponent\";\r\nimport { userInfo } from \"../../common/states/user-info\";\r\n\r\nclass AuthenCheck extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.onUnmount(\r\n      userInfo.onChange((newState, oldState) => {\r\n        if (!newState || !oldState) {\r\n          props.history.push(\"/\");\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default withRouter(AuthenCheck);\r\n","import React, { Component, Fragment } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport Toolbar from \"../../components/Navigation/Toolbar/Toolbar\";\r\nimport Sidebar1 from \"../../components/Sidebar/Sidebar\";\r\nimport ContentSidebar from \"../../components/Sidebar/ContentSidebar/ContentSidebar\";\r\nimport AuthenCheck from \"../../components/AuthenCheck/AuthenCheck\";\r\nimport { userInfo } from \"../../common/states/user-info\";\r\nimport { authenCache } from \"../../common/cache/authen-cache\";\r\n\r\nclass Layout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  handleLogOut = async () => {\r\n    await authenCache.clearAuthen();\r\n    await userInfo.setState(null);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <AuthenCheck>\r\n          <Toolbar\r\n            history={this.props.history}\r\n            handleLogOut={this.handleLogOut}\r\n          />\r\n          <div id=\"container\" className=\"space-navbar\">\r\n            <div className=\"sidebar-left\">\r\n              <Sidebar1 />\r\n            </div>\r\n            <div className=\"page\">{this.props.children}</div>\r\n            <div className=\"sidebar-right\">\r\n              <ContentSidebar />\r\n            </div>\r\n          </div>\r\n        </AuthenCheck>\r\n      </Fragment>\r\n      // Add toolbar here\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Layout);\r\n","import React, { Component } from \"react\";\nimport classnames from \"classnames\";\n\nclass profileTag extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTag: \"Hot\"\n    };\n  }\n\n  render() {\n    let { currentTag } = this.state;\n    return (\n      <div className=\"profile\">\n        <section className=\"profile-header\">\n          <header>\n            <h1>{this.props.title}</h1>\n          </header>\n        </section>\n        <div className=\"tab-bar\">\n          <ul className=\"menu\">\n            <li\n              onClick={() => {\n                this.setState({ currentTag: \"Hot\" });\n                // this.props.handleClick(\"Hot\");\n              }}\n            >\n              <div\n                className={classnames({\n                  selected: currentTag === \"Hot\"\n                })}\n              >\n                Hot\n              </div>\n            </li>\n            <li\n              onClick={() => {\n                this.setState({\n                  currentTag: \"Fresh\"\n                });\n                // this.props.handleClick(\"Fresh\");\n              }}\n            >\n              <div\n                className={classnames({\n                  selected: currentTag === \"Fresh\"\n                })}\n              >\n                Fresh\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default profileTag;\n","import React, { Component } from \"react\";\r\nimport classnames from \"classnames\";\r\nimport { Waypoint } from \"react-waypoint\";\r\n\r\nimport { convertSecToMinSec } from \"../../common/utils/common-util\";\r\n\r\nlet hidden = null;\r\nlet visibilityChange = null;\r\nif (typeof document.hidden !== \"undefined\") {\r\n  // Opera 12.10 and Firefox 18 and later support\r\n  hidden = \"hidden\";\r\n  visibilityChange = \"visibilitychange\";\r\n} else if (typeof document.msHidden !== \"undefined\") {\r\n  hidden = \"msHidden\";\r\n  visibilityChange = \"msvisibilitychange\";\r\n} else if (typeof document.webkitHidden !== \"undefined\") {\r\n  hidden = \"webkitHidden\";\r\n  visibilityChange = \"webkitvisibilitychange\";\r\n}\r\n\r\n//@TODO: Video handle click: (show length, click to play when switch tab)\r\nclass VideoPlayer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      firstTime: true,\r\n      showLength: true,\r\n      playing: false,\r\n      sound: false\r\n    };\r\n    this.videoElement = null;\r\n    this.lengthTimeOut = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.video.image460sv.hasAudio) {\r\n      document.addEventListener(\r\n        visibilityChange,\r\n        this.handleVisibilityChange,\r\n        false\r\n      );\r\n    }\r\n  }\r\n\r\n  handleVisibilityChange = () => {\r\n    if (document[hidden]) {\r\n      this.videoElement && this.videoElement.pause();\r\n      this.setState({ showLength: true, firstTime: true, playing: false });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.lengthTimeOut);\r\n    if (this.props.video.image460sv.hasAudio) {\r\n      document.removeEventListener(\r\n        visibilityChange,\r\n        this.handleVisibilityChange\r\n      );\r\n    }\r\n  }\r\n\r\n  handlePlay = () => {\r\n    this.videoElement && this.videoElement.play();\r\n    if (this.state.firstTime) {\r\n      this.lengthTimeOut = setTimeout(() => {\r\n        this.setState({ showLength: false });\r\n      }, 2000);\r\n    }\r\n    this.setState({\r\n      firstTime: false,\r\n      playing: true\r\n    });\r\n  };\r\n\r\n  handlePause = () => {\r\n    this.videoElement && this.videoElement.pause();\r\n    this.setState({ playing: false });\r\n  };\r\n\r\n  togglePlay = (hasAudio, playing) => {\r\n    if (hasAudio && !this.state.firstTime) {\r\n      this.toggleSound(this.state.sound);\r\n    } else {\r\n      if (playing) {\r\n        this.handlePause();\r\n      } else {\r\n        this.handlePlay();\r\n      }\r\n    }\r\n  };\r\n\r\n  toggleSound = sound => {\r\n    if (sound) {\r\n      this.setState({ sound: false });\r\n      this.videoElement.muted = true;\r\n    } else {\r\n      this.setState({ sound: true });\r\n      this.videoElement.muted = false;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { video, videoStyle, containerStyle } = this.props;\r\n    const { hasAudio, duration } = video.image460sv;\r\n    let length = convertSecToMinSec(duration);\r\n    const { playing, sound } = this.state;\r\n\r\n    return (\r\n      <Waypoint\r\n        onEnter={this.handlePlay}\r\n        onLeave={this.handlePause}\r\n        topOffset={\"40%\"}\r\n        bottomOffset={\"50%\"}\r\n      >\r\n        <div style={containerStyle} className=\"video-player\">\r\n          <div className=\"video-container\" style={videoStyle}>\r\n            <video\r\n              preload=\"auto\"\r\n              poster={video.image460.url ? video.image460.url : \"\"}\r\n              loop=\"loop\"\r\n              style={videoStyle}\r\n              autoPlay={playing === true}\r\n              ref={element => (this.videoElement = element)}\r\n              onClick={() => this.togglePlay(hasAudio, playing)}\r\n              muted\r\n            >\r\n              {video.image460sv.vp9Url ? (\r\n                <source src={video.image460sv.vp9Url} type=\"video/webm\" />\r\n              ) : null}\r\n              {video.image460svwm && video.image460svwm.url ? (\r\n                <source src={video.image460svwm.url} type=\"video/webm\" />\r\n              ) : null}\r\n              {video.image460sv.h265Url ? (\r\n                <source src={video.image460sv.h265Url} type=\"video/mp4\" />\r\n              ) : null}\r\n              {video.image460sv.url ? (\r\n                <source src={video.image460sv.url} type=\"video/mp4\" />\r\n              ) : null}\r\n            </video>\r\n            {hasAudio ? (\r\n              <div\r\n                className=\"sound-toggle\"\r\n                onClick={() => this.toggleSound(sound)}\r\n              >\r\n                <span\r\n                  className={classnames({\r\n                    on: sound === true,\r\n                    off: sound === false\r\n                  })}\r\n                />\r\n              </div>\r\n            ) : null}\r\n            {hasAudio ? (\r\n              <p\r\n                className={classnames(\"length\", {\r\n                  hide: !this.state.showLength\r\n                })}\r\n              >\r\n                {length}\r\n              </p>\r\n            ) : null}\r\n            <div\r\n              className={classnames({\r\n                hide: playing === true,\r\n                presenting: playing === false\r\n              })}\r\n            >\r\n              {!hasAudio ? (\r\n                <span\r\n                  className=\"play\"\r\n                  onClick={() => this.togglePlay(hasAudio, playing)}\r\n                >\r\n                  GIF\r\n                </span>\r\n              ) : null}\r\n              {hasAudio ? (\r\n                <span\r\n                  className=\"playVideo\"\r\n                  onClick={() => this.togglePlay(hasAudio, playing)}\r\n                >\r\n                  Play\r\n                </span>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Waypoint>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoPlayer;\r\n","import React from \"react\";\nimport { KComponent } from \"../../KComponent\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport { FacebookShareButton, PinterestShareButton } from \"react-share\";\n\nimport { userInfo } from \"../../../common/states/user-info\";\nimport { postApi } from \"../../../common/api/common/post-api\";\nimport { registerModal } from \"../../../common/react/modals/register/register\";\nimport { timeDifference } from \"../../../common/utils/common-util\";\nimport VideoPlayer from \"../../../components/VideoPlayer/VideoPlayer\";\nimport {\n  FacebookSharingButton,\n  PinterestSharingButton\n} from \"../../../common/react/social-buttons/social-button\";\n\nclass Post extends KComponent {\n  constructor(props) {\n    super(props);\n\n    const info = userInfo.getState();\n    let currentVoteState = \"\";\n    if (info) {\n      const postId = this.props.post._id;\n      let upIndex = info.upVotes.findIndex(each => each === postId);\n      let downIndex = info.downVotes.findIndex(each => each === postId);\n      if (upIndex !== -1) {\n        currentVoteState = \"UP\";\n      } else if (downIndex !== -1) {\n        currentVoteState = \"DOWN\";\n      }\n    }\n\n    this.state = {\n      upVoteCount: this.props.post.upVoteCount,\n      downVoteCount: this.props.post.downVoteCount,\n      currentVote: currentVoteState,\n      error: null,\n      showMore: false\n    };\n    this.pictureStyle = {};\n    this.videoStyle = {};\n    this.videoContainerStyle = {};\n    this.timeout = null;\n\n    this.onUnmount(\n      userInfo.onChange((newState, oldState) => {\n        if (!newState) {\n          this.setState({ currentVote: \"\" });\n        } else if (!oldState) {\n          const { upVotes, downVotes } = newState;\n          const postId = this.props.post._id;\n          let index = upVotes.findIndex(each => each === postId);\n          if (index !== -1) {\n            this.setState({ currentVote: \"UP\" });\n          } else {\n            index = downVotes.findIndex(each => each === postId);\n            if (index !== -1) {\n              this.setState({ currentVote: \"DOWN\" });\n            }\n          }\n        }\n      })\n    );\n  }\n\n  handleVote = async upVote => {\n    const info = userInfo.getState();\n    if (!info) {\n      registerModal.open(\n        () => this.props.history.push(\"/\"),\n        () => {\n          this.handleVote(upVote);\n        }\n      );\n    } else {\n      const { currentVote, upVoteCount, downVoteCount } = this.state;\n      if (currentVote === \"UP\") {\n        let upVoteC = upVoteCount - 1 < 0 ? 0 : upVoteCount - 1;\n        if (upVote) {\n          this.setState({ currentVote: \"\", upVoteCount: upVoteC });\n        } else {\n          let downVote = downVoteCount + 1;\n          this.setState({\n            currentVote: \"DOWN\",\n            upVoteCount: upVoteC,\n            downVoteCount: downVote\n          });\n        }\n      } else if (currentVote === \"DOWN\") {\n        let downVote = downVoteCount - 1 < 0 ? 0 : downVoteCount - 1;\n\n        if (upVote) {\n          let upVoteC = upVoteCount + 1;\n          this.setState({\n            currentVote: \"UP\",\n            downVoteCount: downVote,\n            upVoteCount: upVoteC\n          });\n        } else {\n          this.setState({ currentVote: \"\", downVoteCount: downVote });\n        }\n      } else {\n        if (upVote) {\n          let upVoteC = upVoteCount + 1;\n          this.setState({ currentVote: \"UP\", upVoteCount: upVoteC });\n        } else {\n          let downVote = downVoteCount + 1;\n          this.setState({ currentVote: \"DOWN\", downVoteCount: downVote });\n        }\n      }\n      let result = null;\n\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(async () => {\n        try {\n          if (upVote) {\n            result = await postApi.updateVotePost(this.props.post._id, 1);\n          } else {\n            result = await postApi.updateVotePost(this.props.post._id, 0);\n          }\n          let { upVoteCount, downVoteCount } = result.data;\n          this.setState({\n            upVoteCount: upVoteCount,\n            downVoteCount: downVoteCount\n          });\n        } catch (err) {\n          this.setState({ error: err });\n        }\n      }, 1000);\n    }\n  };\n\n  componentWillMount() {\n    const { post } = this.props;\n    const { images, type } = post;\n    const { image460, image460sv } = images;\n    if (type === \"Photo\") {\n      if (image460.width === image460.height) {\n        this.pictureStyle = {\n          minHeight: 500\n        };\n      } else {\n        this.pictureStyle = {\n          minHeight: (500 / image460.width) * image460.height\n        };\n      }\n    } else if (type === \"Animated\") {\n      if (image460sv.width === image460sv.height) {\n        this.videoStyle = {\n          minHeight: 500\n        };\n      } else if (image460sv.width > image460sv.height) {\n        this.videoStyle = {\n          minHeight: (500 / image460sv.width) * image460sv.height\n        };\n      } else {\n        let realWidth = (500 / image460sv.height) * image460sv.width;\n        this.videoStyle = {\n          width: realWidth,\n          height: 500,\n          maxWidth: 500\n        };\n        this.videoContainerStyle = {\n          paddingLeft: (500 - realWidth) / 2\n        };\n      }\n    }\n  }\n\n  componentDidMount() {}\n\n  render() {\n    const { post, firstPost } = this.props;\n    const { images, type, createdAt } = post;\n    const { image460 } = images;\n    const { downVoteCount, upVoteCount, showMore } = this.state;\n\n    const time = timeDifference(new Date(createdAt));\n    let media = (\n      <picture style={this.pictureStyle}>\n        {image460.webpUrl ? (\n          <source srcSet={image460.webpUrl} type=\"image/webp\" />\n        ) : null}\n        <img src={image460.url} alt={post.name} style={this.pictureStyle} />\n      </picture>\n    );\n    if (type === \"Animated\") {\n      media = (\n        <VideoPlayer\n          video={images}\n          videoStyle={this.videoStyle}\n          containerStyle={this.videoContainerStyle}\n        />\n      );\n    }\n    return (\n      <article\n        className={classnames(\"post\", {\n          \"no-pd-t\": firstPost\n        })}\n      >\n        <header className=\"post-header\">\n          <div className=\"post-section\">\n            <img\n              className=\"post-section__category-icon\"\n              src={post.images.image460.url}\n              alt=\"category-icon\"\n            />\n            <p className=\"post-section__message\">\n              <span>{post.title}</span>\n              {\"  \" + time}\n            </p>\n          </div>\n          <h1\n            className=\"linked-title\"\n            onClick={() => this.props.history.push(`/gag/${post._id}`)}\n          >\n            {post.title}\n          </h1>\n        </header>\n        <div className=\"post-containter\">{media}</div>\n        <p className=\"post-meta\">\n          <Link to={`/gag/${post._id}`} className=\"post-meta__text\">\n            {upVoteCount - downVoteCount + \" points\"}\n          </Link>\n          {\"  \"}\n          <Link to=\"/\" className=\"post-meta__text\">\n            {post.comments.length + \" comments\"}\n          </Link>\n        </p>\n        <div className=\"post-after-bar\">\n          <ul className=\"btn-vote left\">\n            <li>\n              <div\n                className={classnames(\"btn-border up\", {\n                  selected: this.state.currentVote === \"UP\"\n                })}\n                onClick={() => this.handleVote(true)}\n              />\n            </li>\n            <li>\n              <div\n                className={classnames(\"btn-border down\", {\n                  selected: this.state.currentVote === \"DOWN\"\n                })}\n                onClick={() => this.handleVote(false)}\n              />\n            </li>\n            <li>\n              <div className=\"btn-border comment\" />\n            </li>\n          </ul>\n          <div>\n            <ul className=\"btn-vote left\">\n              <li>\n                <div\n                  className=\"btn-border more\"\n                  onClick={() => {\n                    this.setState((prevState, props) => ({\n                      showMore: !prevState.showMore\n                    }));\n                  }}\n                />\n              </li>\n            </ul>\n            <div\n              className={classnames(\"popup-viewshare\", {\n                hide: !showMore\n              })}\n            >\n              <ul>\n                <li>Twitter</li>\n                <li>Email</li>\n                <li>Report</li>\n                <li>I just don't like it</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"btn-border share right\">\n            <ul>\n              <li>\n                <FacebookShareButton url={\"https://github.com\"}>\n                  <FacebookSharingButton text={\"Facebook\"} />\n                </FacebookShareButton>{\" \"}\n              </li>\n              <li>\n                <PinterestShareButton\n                  url={\"https://github.com\"}\n                  media={post.images.image700.url}\n                >\n                  <PinterestSharingButton text={\"Pinterest\"} />\n                </PinterestShareButton>\n              </li>\n            </ul>\n          </div>\n          <div className=\"clearfix\" />\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default Post;\n","import React, { Component } from \"react\";\nimport classnames from \"classnames\";\nimport InfiniteScroll from \"react-infinite-scroller\";\n\nimport { postApi } from \"../../common/api/common/post-api\";\nimport ProfileTag from \"./ProfileTag/ProfileTag\";\nimport Post from \"./Post/Post\";\n\nclass Feed extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTag: \"Hot\",\n      loading: false,\n      error: null,\n      posts: [],\n      nextLink: 0,\n      hasMoreItems: true\n    };\n  }\n\n  loadItems(page) {\n    if (this.state.nextLink !== null) {\n      postApi.getPosts(page).then(data => {\n        let newPosts = [...this.state.posts, ...data.post];\n        if (data.nextLink !== null) {\n          this.setState({\n            posts: newPosts,\n            loading: false,\n            error: null,\n            nextLink: data.nextLink,\n            hasMoreItems: data.hasMoreItems\n          });\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true });\n    postApi\n      .getPosts()\n      .then(data => {\n        console.log(data);\n        this.setState({ posts: data.post, loading: false, error: null });\n      })\n      .catch(err => {\n        this.setState({ loading: false, error: null });\n        console.log(err);\n      });\n  }\n\n  render() {\n    const { className, hasProfile } = this.props;\n    const { posts } = this.state;\n    let items = [];\n    items = posts.map((each, i) => {\n      return (\n        <Post\n          firstPost={i === 0}\n          key={each._id}\n          post={each}\n          history={this.props.history}\n        />\n      );\n    });\n    return (\n      <div className={classnames(\"feed\", className)}>\n        {hasProfile ? <ProfileTag title=\"Area 51\" /> : null}\n        <InfiniteScroll\n          pageStart={0}\n          loadMore={this.loadItems.bind(this)}\n          hasMore={this.state.hasMoreItems}\n          loader={\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\"\n              }}\n              key={\"0\"}\n            >\n              <div className=\"lds-ripple\">\n                <div />\n                <div />\n              </div>\n            </div>\n          }\n        >\n          {items}\n        </InfiniteScroll>\n      </div>\n    );\n  }\n}\n\nexport default Feed;\n","import React, { Component } from \"react\";\r\n// import classnames from \"classnames\";\r\n\r\nimport Layout from \"../../hoc/Layout/Layout\";\r\nimport Feed from \"../../components/Feed/Feed\";\r\n// import { userInfo } from \"../../common/states/user-info\";\r\n\r\nclass MainPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Feed hasProfile={false} history={this.props.history} />\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\nexport default MainPage;\r\n","import React, { Component } from \"react\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      focusingImage: true\r\n    };\r\n  }\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    return (\r\n      // <Layout>\r\n      //   <div className=\"App\">\r\n      //     <main className={classnames(\"App-header\", loginCSS)}>\r\n      //       <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n      //       {info ? (\r\n      //         `Welcome back, ${info.username}`\r\n      //       ) : (\r\n      //         <p>\r\n      //           Edit <code>src/App.js</code> and save to reload.\r\n      //         </p>\r\n      //       )}\r\n      //       <a\r\n      //         className=\"App-link\"\r\n      //         href=\"https://reactjs.org\"\r\n      //         target=\"_blank\"\r\n      //         rel=\"noopener noreferrer\"\r\n      //       >\r\n      //         Learn React\r\n      //       </a>\r\n      //     </main>\r\n      //   </div>\r\n      // </Layout>\r\n      <div>hehe</div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nclass ErrorPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"error-page\">\r\n        <div className=\"background-404\" />\r\n        <header className=\"top-nav\">\r\n          <Link className=\"logo-9gag\" to=\"/\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"64px\"\r\n              height=\"48px\"\r\n              viewBox=\"0 0 64 48\"\r\n              version=\"1.1\"\r\n            >\r\n              <title>logo</title>\r\n              <desc>Created with Sketch.</desc>\r\n              <g\r\n                id=\"Asset\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"1\"\r\n                fill=\"none\"\r\n                fillRule=\"evenodd\"\r\n              >\r\n                <g id=\"logo\" fill=\"#FFFFFF\">\r\n                  <path\r\n                    d=\"M32 12L21 18.25 21 20.75 32 27 38.6 23.25 38.6 28.25 32 32 25.4 28.25 21 30.75 32 37 43 30.75 43 18.25 32 12ZM27.6 19.5L32 17 36.4 19.5 32 22 27.6 19.5 27.6 19.5Z\"\r\n                    id=\"Icon\"\r\n                  />\r\n                </g>\r\n              </g>\r\n            </svg>\r\n          </Link>\r\n        </header>\r\n        <div className=\"message-404\">\r\n          <h1>404</h1>\r\n          <h2>There's nothing here.</h2>\r\n          <h3>Find what you're looking for with our app.</h3>\r\n          <button className=\"btn-download-app\">Download app</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ErrorPage;\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Selector extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.selectVal = null;\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <select name={this.props.name} value={this.props.optionValue} onChange={this.props.handleSelector}>\r\n        {this.props.data.map(each => (\r\n          <option key={each.key} value={each.value}>{each.key}</option>\r\n        ))}\r\n      </select>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { KComponent } from \"../KComponent\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nimport * as yup from \"yup\";\r\nimport { createFormWithValidator } from \"../../common/react/form-validator/form-validator\";\r\nimport { InputBase } from \"../../common/react/input-base/input-base\";\r\nimport { userInfo } from \"../../common/states/user-info\"\r\nimport { userApi } from \"../../common/api/common/user-api\";\r\n\r\nimport Selector from \"./Selector/Selector\"\r\n\r\n\r\nclass Account extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: userInfo.getState(),\r\n      optionMaskNSFW: userInfo.getState().maskNSFW,\r\n      optionShowNSFW: userInfo.getState().showNSFW,\r\n      email: \"\",\r\n      checkingUsername: false,\r\n      checkingEmail: false,\r\n      loadingUsername: false,\r\n      loadingEmail: false,\r\n      error: \"\",\r\n      loading: false\r\n    };\r\n\r\n    this.accountSchema = yup.object().shape({\r\n      newUsername: yup\r\n        .string()\r\n        .min(4, \"Username must be at least 6-char long.\")\r\n        .max(15, \"Username max length is 15.\"),\r\n      newEmail: yup\r\n        .string()\r\n        .email(\"Email is not valid.\")\r\n        .required(\"Email should not be null.\"),\r\n    });\r\n\r\n\r\n    this.form = createFormWithValidator(this.accountSchema, {\r\n      initData: {\r\n        newUsername: this.state.data.username,\r\n        newEmail: this.state.data.email,\r\n      }\r\n    });\r\n\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n\r\n    this.form.validateData();\r\n  }\r\n\r\n  handleUpdateAccount = (e) => {\r\n    const { newUsername, newEmail } = this.form.getData();\r\n    const newShowNSFW = this.state.optionShowNSFW;\r\n    const newMaskNSFW = this.state.optionMaskNSFW;\r\n    userApi\r\n      .updateAccount({ newUsername, newEmail, newShowNSFW, newMaskNSFW })\r\n      .then(res => {\r\n        if (res.data.message === \"update_account_successfully\") {\r\n          this.setState({ loading: false });\r\n          this.props.history.push(\"/\");\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            loading: false,\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleChangeUsername = username => {\r\n    if (!this.state.checkingUsername) {\r\n      this.setState({ checkingUsername: true });\r\n    }\r\n    this.setState({ error: \"\", newUsername: username });\r\n    console.log(username)\r\n    if (this.accountSchema.isValidSync({ newUsername: username, newEmail: this.state.data.email })) {\r\n\r\n      this.debounceCheckUsernameExisted(username);\r\n    } else {\r\n      this.setState({ loadingUsername: false });\r\n    }\r\n  };\r\n\r\n  checkUsernameExisted = username => {\r\n    console.log(\"imasd\")\r\n\r\n    const currentUsername = userInfo.getState().username;\r\n    if (currentUsername === username) return;\r\n    this.setState({ loadingUsername: true });\r\n    userApi\r\n      .checkUsername({ username })\r\n      .then(res => {\r\n        console.log(res);\r\n        if (res.data.message === \"account_found\") {\r\n          this.setState({\r\n            error: { message: \"user_account_found\" },\r\n            checkingUsername: false,\r\n            loadingUsername: false,\r\n          });\r\n        } else if (res.data.message === \"account_not_found\") {\r\n          this.setState({\r\n            error: \"\",\r\n            checkingUsername: false,\r\n            loadingUsername: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            checkingUsername: false,\r\n            loadingUsername: false,\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          checkingUsername: false,\r\n          loadingUsername: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  handleChangeEmail = email => {\r\n    if (!this.state.checkingEmail) {\r\n      this.setState({ checkingEmail: true });\r\n    }\r\n    this.setState({ error: \"\", newEmail: email });\r\n    if (this.accountSchema.isValidSync({ newEmail: email, newUsername: this.state.data.username })) {\r\n      console.log(\"Start querying\");\r\n      this.debounceCheckEmailExisted(email);\r\n    } else {\r\n      this.setState({ loadingEmail: false });\r\n    }\r\n  };\r\n\r\n\r\n  checkEmailExisted = email => {\r\n    const currentEmail = userInfo.getState().email;\r\n    if (email === currentEmail) return;\r\n    this.setState({ loadingEmail: true });\r\n    userApi\r\n      .checkEmail({ email })\r\n      .then(res => {\r\n        console.log(res);\r\n        if (res.data.message === \"account_found\") {\r\n          this.setState({\r\n            error: { message: \"email_account_found\" },\r\n            checkingEmail: false,\r\n            loadingEmail: false,\r\n          });\r\n        } else if (res.data.message === \"account_not_found\") {\r\n          this.setState({\r\n            error: \"\",\r\n            checkingEmail: false,\r\n            loadingEmail: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            checkingEmail: false,\r\n            loadingEmail: false,\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          checkingEmail: false,\r\n          loadingEmail: false,\r\n        });\r\n      });\r\n  };\r\n  debounceCheckUsernameExisted = debounce(this.checkUsernameExisted, 500);\r\n  debounceCheckEmailExisted = debounce(this.checkEmailExisted, 500);\r\n\r\n  handleSelectorMaskNSFW = (e) => {\r\n    this.setState({\r\n      optionMaskNSFW: e.target.value\r\n    })\r\n    console.log(this.state.optionMaskNSFW)\r\n  }\r\n\r\n  handleSelectorShowNSFW = (e) => {\r\n    this.setState({\r\n      optionShowNSFW: e.target.value\r\n    })\r\n  }\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const { newEmail } = this.form.getData();\r\n    const { newUsername } = this.form.getData();\r\n    const message = error.message;\r\n    let errorMatcher = {\r\n      email_account_found: `Email ${newEmail} have been used `,\r\n      network_error: \"Database is ded\",\r\n      user_account_found: `Username ${newUsername} have been used `,\r\n      account_not_found: \"This user is not valid.\",\r\n\r\n    };\r\n    return errorMatcher.hasOwnProperty(message)\r\n      ? errorMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  render() {\r\n\r\n    console.log(this.form.getInvalidPaths())\r\n\r\n    const isSubmittable =\r\n      this.form.getInvalidPaths().length === 0 &&\r\n      this.state.error === \"\" &&\r\n      !this.state.checking &&\r\n      !this.state.loading &&\r\n      !this.state.loadingEmail &&\r\n      !this.state.loadingUsername;\r\n    console.log(this.state.data)\r\n    console.log(this.state)\r\n    return (\r\n      <form id=\"setting-form\">\r\n        <h2>Account</h2>\r\n\r\n        <div className=\"field\">\r\n          {this.state.error && (\r\n            <div className=\"server-error\">{this.handleServerError()}</div>\r\n          )}\r\n        </div>\r\n        <div className=\"field width440px\">\r\n          <label>Username</label>\r\n          {this.form.enhancedComponent(\r\n            \"newUsername\",\r\n            ({ error, onChange, onEnter, ...others }) => (\r\n              <InputBase\r\n                maxLength=\"15\"\r\n                className=\"\"\r\n                error={error}\r\n                onChange={e => {\r\n                  const username = e.target.value;\r\n                  onChange(e);\r\n                  this.handleChangeUsername(username);\r\n                }}\r\n                onKeyDown={onEnter}\r\n                type={\"text\"}\r\n                icon={\r\n                  this.state.loadingUsername ? (\r\n                    <i className=\"fas fa-spinner spin\" />\r\n                  ) : null\r\n                }\r\n                {...others}\r\n\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n          <p className=\"tips\">https://9gag.com/u/{this.state.data.username}</p>\r\n        </div>\r\n        <div className=\"field width440px\">\r\n          <label>Email</label>\r\n          {this.form.enhancedComponent(\r\n            \"newEmail\",\r\n            ({ error, onChange, onEnter, ...others }) => (\r\n              <InputBase\r\n                maxLength=\"200\"\r\n                className=\"\"\r\n                error={error}\r\n                id={\"email\"}\r\n                onKeyDown={onEnter}\r\n                onChange={e => {\r\n                  const email = e.target.value;\r\n                  onChange(e);\r\n                  this.handleChangeEmail(email);\r\n                }}\r\n                type={\"email\"}\r\n                icon={\r\n                  this.state.loadingEmail ? (\r\n                    <i className=\"fas fa-spinner spin\" />\r\n                  ) : null\r\n                }\r\n                {...others}\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n          <p className=\"tips\">Email will not be displayed publicly</p>\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Mask Sensitive Content</label>\r\n          <Selector name=\"saveMode\" data={[\r\n            {\r\n              value: \"true\",\r\n              key: \"On\"\r\n            }, {\r\n              value: \"false\",\r\n              key: \"Off\"\r\n            }\r\n          ]} optionValue={this.state.optionMaskNSFW} handleSelector={this.handleSelectorMaskNSFW} />\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Show Sensitive Content</label>\r\n          <Selector name=\"nsfwMode\" data={[\r\n            {\r\n              value: \"true\",\r\n              key: \"On\"\r\n            }, {\r\n              value: \"false\",\r\n              key: \"Off\"\r\n            }\r\n          ]}\r\n            optionValue={this.state.optionShowNSFW} handleSelector={this.handleSelectorShowNSFW} />\r\n        </div>\r\n\r\n        <div className=\"btn-setting-container\">\r\n          <button className=\"my-blue-button\" disabled={!isSubmittable} onClick={this.handleUpdateAccount}>Save Changes</button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Account;\r\n","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { userInfo } from \"../../common/states/user-info\"\r\nimport { userApi } from \"../../common/api/common/user-api\";\r\n\r\nimport { KComponent } from \"../KComponent\";\r\n\r\nimport * as yup from \"yup\";\r\nimport { createFormWithValidator } from \"../../common/react/form-validator/form-validator\";\r\nimport { InputBase } from \"../../common/react/input-base/input-base\";\r\n\r\nimport Selector from \"./Selector/Selector\";\r\nimport { statusCache, countryCache } from \"../../common/cache/api-cache/common-cache\";\r\n\r\nclass Profile extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: userInfo.getState(),\r\n      loading: false,\r\n      error: \"\",\r\n      optionStatus: userInfo.getState().statusId,\r\n      optionCountry: userInfo.getState().country,\r\n      optionGender: userInfo.getState().gender\r\n    };\r\n\r\n    const cachedStatus = statusCache.syncGet();\r\n    this.status = cachedStatus.map(status => {\r\n      return {\r\n        key: `${status.alt} ${status.name}`,\r\n        value: `${status._id}`\r\n      }\r\n    })\r\n\r\n    const cachedCountry = countryCache.syncGet();\r\n    this.countries = cachedCountry.map(country => {\r\n      return {\r\n        key: country.name,\r\n        value: country._id\r\n      }\r\n    })\r\n\r\n    this.profileSchema = yup.object().shape({\r\n      name: yup\r\n        .string()\r\n        .min(2, \"Username must be at least 2-char long.\")\r\n        .max(15, \"Username max length is 15.\"),\r\n      birthdayYear: yup\r\n        .number()\r\n        .integer(),\r\n      birthdayMonth: yup\r\n        .number()\r\n        .integer(),\r\n      birthdayDay: yup\r\n        .number()\r\n        .integer(),\r\n      blogText: yup\r\n        .string()\r\n        .max(120, \"Max length id 120\")\r\n    })\r\n\r\n    const bd = new Date(this.state.data.birthday);\r\n    const birthday = {\r\n      year: bd !== null ? bd.getFullYear() : null,\r\n      date: bd !== null ? bd.getDate() : null,\r\n      month: bd !== null ? bd.getMonth() : null\r\n    }\r\n\r\n    console.log(birthday);\r\n    this.form = createFormWithValidator(this.profileSchema, {\r\n      initData: {\r\n        name: this.state.data.name,\r\n        birthdayYear: birthday.year,\r\n        birthdayMonth: birthday.month,\r\n        birthdayDay: birthday.date,\r\n        blogText: \"My funny collection\"\r\n      }\r\n    });\r\n    console.log(this.form.getData())\r\n\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n\r\n    this.form.validateData();\r\n  }\r\n\r\n  handleUpdateProfile = () => {\r\n    const avatarUrl = userInfo.getState.avatarURL;\r\n    const { name, birthdayYear, birthdayDay, birthdayMonth, blogText } = this.form.getData();\r\n    const birthday = new Date(birthdayYear, birthdayMonth, birthdayDay);\r\n    const status = this.state.optionStatus;\r\n    const country = this.state.optionCountry;\r\n    const gender = this.state.optionGender;\r\n\r\n    userApi\r\n      .updateProfile({ avatarUrl, name, status: status, country: country, gender: gender, birthday: birthday, description: blogText })\r\n      .then(res => {\r\n        if (res.data.message === \"update_account_successfully\") {\r\n          this.setState({ loading: false });\r\n          this.props.history.push(\"/\");\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            loading: false,\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectorStatus = (e) => {\r\n    this.setState({\r\n      optionStatus: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSelectorCountry = (e) => {\r\n    this.setState({\r\n      optionCountry: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSelectorGender = (e) => {\r\n    this.setState({\r\n      optionGender: e.target.value\r\n    })\r\n  }\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errorMatcher = {\r\n      network_error: \"Database is ded\",\r\n      account_not_found: \"This user is not valid.\",\r\n\r\n    };\r\n    return errorMatcher.hasOwnProperty(message)\r\n      ? errorMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.data.birthday)\r\n    const isSubmittable =\r\n      this.form.getInvalidPaths().length === 0 &&\r\n      this.state.error === \"\" &&\r\n      !this.state.checking &&\r\n      !this.state.loading\r\n    return (\r\n      <form id=\"setting-form\">\r\n        <h2>Profile</h2>\r\n\r\n        <div className=\"field\">\r\n          {this.state.error && (\r\n            <div className=\"server-error\">{this.handleServerError()}</div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"field avatar\">\r\n          <label>Avatar</label>\r\n          <div className=\"avatar-content\">\r\n            <div className=\"avatar-container\">\r\n              <div>\r\n                <img\r\n                  src={this.state.data.avatarURL}\r\n                  alt=\"avatar\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"control\">\r\n              <input type=\"file\" name=\"avatar\" accept=\".jpg, .gif, .png\" />\r\n              <p className=\"tips\">JPG, GIF or PNG, Max size: 2MB</p>\r\n              <Link to=\"#\">Random</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label>Your Name</label>\r\n          {this.form.enhancedComponent(\r\n            \"name\",\r\n            ({ error, onChange, onEnter, ...others }) => (\r\n              <InputBase\r\n                maxLength=\"20\"\r\n                className=\"\"\r\n                error={error}\r\n                onChange={e => {\r\n                  onChange(e)\r\n                }}\r\n                type={\"text\"}\r\n                icon={\r\n                  this.state.loadingEmail ? (\r\n                    <i className=\"fas fa-spinner spin\" />\r\n                  ) : null\r\n                }\r\n                {...others}\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n          <p className=\"tips\">\r\n            This is the name that will be visible to other users on 9GAG.\r\n          </p>\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Status</label>\r\n          <Selector name=\"emojiStatus\" data={this.status} optionValue={this.state.optionStatus} handleSelector={this.handleSelectorStatus} />\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label>Gender</label>\r\n          <Selector name=\"saveMode\" data={[\r\n            {\r\n              value: \"NULL\",\r\n              key: \"Select Gender...\"\r\n            }, {\r\n              value: \"FEMALE\",\r\n              key: \"Female\"\r\n            }, {\r\n              value: \"MALE\",\r\n              key: \"Male\"\r\n            }, {\r\n              value: \"UNSPECIFIED\",\r\n              key: \"Unspecified\"\r\n            }\r\n          ]} optionValue={this.state.optionGender} handleSelector={this.handleSelectorGender} />\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label>Birthday</label>\r\n          <div className=\"date-picker\">\r\n            {this.form.enhancedComponent(\r\n              \"birthdayYear\",\r\n              ({ error, onChange, onEnter, ...others }) => (\r\n                <InputBase\r\n                  placeholder=\"YYYY\"\r\n                  className=\"year\"\r\n                  error={error}\r\n                  onChange={e => {\r\n                    onChange(e)\r\n                  }}\r\n                  type={\"number\"}\r\n                  icon={\r\n                    this.state.loadingEmail ? (\r\n                      <i className=\"fas fa-spinner spin\" />\r\n                    ) : null\r\n                  }\r\n                  {...others}\r\n                />\r\n              ),\r\n              true\r\n            )}\r\n            {this.form.enhancedComponent(\r\n              \"birthdayMonth\",\r\n              ({ error, onChange, onEnter, ...others }) => (\r\n                <InputBase\r\n                  placeholder=\"MM\"\r\n                  className=\"month\"\r\n                  error={error}\r\n                  onChange={e => {\r\n                    onChange(e)\r\n                  }}\r\n                  type={\"number\"}\r\n                  min=\"1\"\r\n                  max=\"12\"\r\n                  icon={\r\n                    this.state.loadingEmail ? (\r\n                      <i className=\"fas fa-spinner spin\" />\r\n                    ) : null\r\n                  }\r\n                  {...others}\r\n                />\r\n              ),\r\n              true\r\n            )}\r\n            {this.form.enhancedComponent(\r\n              \"birthdayDay\",\r\n              ({ error, onChange, onEnter, ...others }) => (\r\n                <InputBase\r\n                  placeholder=\"DD\"\r\n                  className=\"day\"\r\n                  min=\"1\"\r\n                  max=\"31\"\r\n                  error={error}\r\n                  onChange={e => {\r\n                    onChange(e)\r\n                  }}\r\n                  type={\"number\"}\r\n                  icon={\r\n                    this.state.loadingEmail ? (\r\n                      <i className=\"fas fa-spinner spin\" />\r\n                    ) : null\r\n                  }\r\n                  {...others}\r\n                />\r\n              ),\r\n              true\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label>Country</label>\r\n          <Selector name=\"country\" id=\"country_selector\" data={this.countries} optionValue={this.state.optionCountry} handleSelector={this.handleSelectorCountry} />\r\n          <p className=\"tips\">Tell us where you're from so we can provide better service for you.</p>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label>Tell people who you are</label>\r\n          {this.form.enhancedComponent(\r\n            \"blogText\",\r\n            ({ error, onChange, onEnter, ...others }) => (\r\n              <InputBase\r\n                maxLength=\"120\"\r\n                type={\"text-area\"}\r\n                className=\"my-txt-area\"\r\n                error={error}\r\n                onChange={e => {\r\n                  onChange(e)\r\n                }}\r\n                {...others}\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"setting-social-connect\">\r\n          <label>Social Networks</label>\r\n\r\n          <div className=\"connection\">\r\n            <div className=\"field social\">\r\n              <p className=\"label\">Facebook connected</p>\r\n              <button className=\"my-blue-button\">Connect now</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"connection\">\r\n            <div className=\"field\">\r\n              <p className=\"label\">Google not connected</p>\r\n              <button className=\"my-blue-button\">Connect now</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label>Your 9GAG Data</label>\r\n          <p className=\"tips\">You can <Link to=\"#\">request</Link> a PDF with your 9GAG data. Well send it to your email once ready.</p>\r\n        </div>\r\n\r\n        <div className=\"my-btn-container\">\r\n          <button className=\"my-blue-button\" disabled={!isSubmittable} onClick={this.handleUpdateProfile}>Save Changes</button>\r\n        </div>\r\n\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { KComponent } from \"../KComponent\";\r\n\r\nimport * as yup from \"yup\";\r\nimport { createFormWithValidator } from \"../../common/react/form-validator/form-validator\";\r\nimport { InputBase } from \"../../common/react/input-base/input-base\";\r\n\r\nimport { userInfo } from \"../../common/states/user-info\"\r\nimport { userApi } from \"../../common/api/common/user-api\";\r\n\r\n\r\nclass Password extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      error: \"\",\r\n      data: userInfo.getState()\r\n    };\r\n    this.passwordSchema = yup.object().shape({\r\n      currentPassword: yup\r\n        .string()\r\n        .min(6, \"Password must be at least 6-char long.\")\r\n        .required(\"Password should not be empty\"),\r\n      newPassword: yup\r\n        .string()\r\n        .min(6, \"New password must be at least 6-char long.\")\r\n        .required(\"New password should not be empty\"),\r\n      comfirmNewPassword: yup\r\n        .string()\r\n        .equalTo(yup.ref(\"newPassword\"), \"New password must match\")\r\n        .required(\"Confirmed new password should not be empty\"),\r\n    });\r\n\r\n    this.form = createFormWithValidator(this.passwordSchema, {\r\n      initData: {\r\n        currentPassword: \"\",\r\n        newPassword: \"\",\r\n        comfirmNewPassword: \"\"\r\n      }\r\n    });\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n\r\n    this.form.validateData();\r\n  }\r\n\r\n  handleChangePassword = (e) => {\r\n    const { currentPassword, newPassword } = this.form.getData();\r\n    userApi\r\n      .putChangePassword({ currentPassword: currentPassword, newPassword: newPassword })\r\n      .then(res => {\r\n        if (res.data.message === \"changed_password_successfully\" || res.data.message === \"changed_password_the_1st_time_successfully\") {\r\n          this.setState({ loading: false });\r\n          this.props.history.push(\"/\");\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            loading: false\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errorMatcher = {\r\n      network_error: \"Database is ded.\",\r\n      user_validation_faied: \"Password is not valid.\",\r\n      incorrect_password: \"Current password is wrong\",\r\n      account_not_found: \"This user is not valid.\"\r\n    };\r\n    return errorMatcher.hasOwnProperty(message)\r\n      ? errorMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n\r\n  render() {\r\n    console.log(userInfo.getState())\r\n    return (\r\n      <form id=\"setting-form\">\r\n        <h2>Password</h2>\r\n        {((this.state.data.social.length === 1 && this.state.data.isChangePassword)\r\n          || (this.state.data.social.length !== 1))\r\n          && (\r\n            <div className=\"field\">\r\n              <label>Current Password</label>\r\n              {this.form.enhancedComponent(\r\n                \"currentPassword\",\r\n                ({ error, onChange, ...other }) => (\r\n                  <InputBase\r\n                    maxLength=\"32\"\r\n                    className=\"\"\r\n                    error={error}\r\n                    onChange={e => {\r\n                      onChange(e)\r\n                    }}\r\n                    type={\"password\"}\r\n                  />\r\n                ),\r\n                true\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n\r\n        <div className=\"field\">\r\n          <label>New Password</label>\r\n          {this.form.enhancedComponent(\r\n            \"newPassword\",\r\n            ({ error, onChange, ...other }) => (\r\n              <InputBase\r\n                maxLength=\"32\"\r\n                className=\"\"\r\n                error={error}\r\n                onChange={e => {\r\n                  onChange(e)\r\n                }}\r\n                type={\"password\"}\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Re-type New Password</label>\r\n          {this.form.enhancedComponent(\r\n            \"comfirmNewPassword\",\r\n            ({ error, onChange, ...other }) => (\r\n              <InputBase\r\n                maxLength=\"32\"\r\n                className=\"\"\r\n                error={error}\r\n                onChange={e => {\r\n                  onChange(e)\r\n                }}\r\n                type={\"password\"}\r\n              />\r\n            ),\r\n            true\r\n          )}\r\n        </div>\r\n        {this.state.error && (\r\n          <div className=\"field\">\r\n            <div className=\"server-error\">{this.handleServerError()}</div>\r\n          </div>\r\n        )}\r\n        <div className=\"btn-setting-container\">\r\n          <button className=\"my-blue-button\" disabled={this.state.loading} onClick={this.handleChangePassword}>Save Changes</button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Password;\r\n","import React, { Component } from \"react\";\r\nimport Account from \"./Account\";\r\nimport Profile from \"./Profile\";\r\nimport Password from \"./Password\";\r\n\r\nclass Setting extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    return (\r\n      <div>\r\n        {this.props.match.params.settingId === \"account\" && <Account />}\r\n        {this.props.match.params.settingId === \"password\" && <Password />}\r\n        {this.props.match.params.settingId === \"profile\" && <Profile />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Setting;\r\n","import React, { Component, Fragment } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport Toolbar from \"../../components/Navigation/Toolbar/Toolbar\";\r\nimport Sidebar1 from \"../../components/Sidebar/Sidebar\";\r\nimport AuthenCheck from \"../../components/AuthenCheck/AuthenCheck\";\r\nimport { userInfo } from \"../../common/states/user-info\";\r\nimport { authenCache } from \"../../common/cache/authen-cache\";\r\n// import ContentSidebar from \"../../components/Sidebar/ContentSidebar/ContentSidebar\"\r\n\r\nclass LayoutWithoutSidebarRight extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  handleLoginSuccess = () => {\r\n    this.forceUpdate();\r\n  };\r\n\r\n  handleLogOut = async () => {\r\n    await authenCache.clearAuthen();\r\n    await userInfo.setState(null);\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <AuthenCheck>\r\n          <Toolbar\r\n            history={this.props.history}\r\n            handleLogOut={this.handleLogOut}\r\n          />\r\n          <div id=\"container\" className=\"space-navbar\">\r\n            <div className=\"sidebar-left\">\r\n              <Sidebar1 />\r\n            </div>\r\n            <div className=\"page-container\">{this.props.children}</div>\r\n          </div>\r\n        </AuthenCheck>\r\n      </Fragment>\r\n      // Add toolbar here\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LayoutWithoutSidebarRight);\r\n","import React, { Component } from \"react\";\r\nimport Setting from \"../../components/SettingsPage/Setting\";\r\nimport Account from \"../../components/SettingsPage/Account\";\r\n\r\nimport LayoutWithoutSidebarRight from \"../../hoc/Layout/LayoutWithoutSidebarRight\";\r\n\r\nimport { Route, Link, Switch } from \"react-router-dom\";\r\n\r\nclass SettingsPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: 'account'\r\n    };\r\n  }\r\n\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    return (\r\n      <LayoutWithoutSidebarRight>\r\n        <div id=\"settings\">\r\n          <ul className=\"form-nav\">\r\n            <li key=\"Account\" onClick={() => { this.setState({ name: 'account' }) }}>\r\n              <Link className={this.state.name === 'account' ? 'selected' : ''} to={`${this.props.match.url}/account`}>Account</Link>\r\n            </li>\r\n            <li key=\"Password\" onClick={() => { this.setState({ name: 'password' }) }}>\r\n              <Link className={this.state.name === 'password' ? 'selected' : ''} to={`${this.props.match.url}/password`}>Password</Link>\r\n            </li>\r\n            <li key=\"Profile\" onClick={() => { this.setState({ name: 'profile' }) }}>\r\n              <Link className={this.state.name === 'profile' ? 'selected' : ''} to={`${this.props.match.url}/profile`}>Profile</Link>\r\n            </li>\r\n          </ul>\r\n          <Switch>\r\n            <Route\r\n              path={`${this.props.match.path}/:settingId`}\r\n              component={Setting}\r\n            />\r\n            <Route path={`${this.props.match.path}`} component={Account} />\r\n          </Switch>\r\n        </div>\r\n      </LayoutWithoutSidebarRight>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SettingsPage;\r\n","import React from \"react\";\r\nimport * as yup from \"yup\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nimport { KComponent } from \"../../components/KComponent\";\r\nimport { createFormWithValidator } from \"../../common/react/form-validator/form-validator\";\r\nimport { InputBase } from \"../../common/react/input-base/input-base\";\r\nimport Layout from \"../../hoc/Layout/Layout\";\r\n\r\nimport { userApi } from \"../../common/api/common/user-api\";\r\n\r\nexport default class ForgotPassword extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      checking: false,\r\n      loading: false,\r\n      validated: false,\r\n      sentPassword: false,\r\n      error: \"\"\r\n    };\r\n\r\n    this.forgotPasswordSchema = yup.object().shape({\r\n      email: yup\r\n        .string()\r\n        .email(\"Email is not valid.\")\r\n        .required(\"Email should not be null.\")\r\n    });\r\n\r\n    this.form = createFormWithValidator(this.forgotPasswordSchema, {\r\n      initData: {\r\n        email: \"\"\r\n      }\r\n    });\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n    this.onUnmount(this.form.on(\"enter\", () => this.handleForgotPassword()));\r\n    this.form.validateData();\r\n  }\r\n\r\n  handleForgotPassword = () => {\r\n    let { email } = this.state;\r\n    this.setState({ error: \"\", loading: true });\r\n    userApi\r\n      .postForgotPassword({ email })\r\n      .then(res => {\r\n        if (res.data.message === \"reset_email_sent\") {\r\n          this.setState({ sentPassword: true, loading: false });\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            loading: false,\r\n            sentPassword: true\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          loading: false\r\n        });\r\n      });\r\n  };\r\n\r\n  checkEmailExisted = email => {\r\n    this.setState({ loading: true });\r\n    userApi\r\n      .checkEmail({ email })\r\n      .then(res => {\r\n        console.log(res);\r\n        if (res.data.message === \"account_found\") {\r\n          this.setState({\r\n            error: \"\",\r\n            checking: false,\r\n            loading: false,\r\n            validated: true\r\n          });\r\n        } else if (res.data.message === \"account_not_found\") {\r\n          this.setState({\r\n            error: { message: \"account_not_found\" },\r\n            checking: false,\r\n            loading: false,\r\n            validated: false\r\n          });\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            checking: false,\r\n            loading: false,\r\n            validated: false\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          checking: false,\r\n          loading: false,\r\n          validated: false\r\n        });\r\n      });\r\n  };\r\n\r\n  debounceCheckEmailExisted = debounce(this.checkEmailExisted, 1500);\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const { email } = this.form.getData();\r\n    const message = error.message;\r\n    let errorMatcher = {\r\n      account_not_found: `Email ${email} is not used for any user!`,\r\n      network_error: \"Database is ded\"\r\n    };\r\n    return errorMatcher.hasOwnProperty(message)\r\n      ? errorMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  handleChange = email => {\r\n    if (!this.state.checking) {\r\n      this.setState({ checking: true });\r\n    }\r\n    this.setState({ error: \"\", email });\r\n    if (this.forgotPasswordSchema.isValidSync({ email })) {\r\n      console.log(\"Start querying\");\r\n      this.debounceCheckEmailExisted(email);\r\n    } else {\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const isSubmittable =\r\n      this.form.getPathData(\"email\") !== \"\" &&\r\n      this.state.error === \"\" &&\r\n      !this.state.checking &&\r\n      !this.state.loading &&\r\n      this.state.validated;\r\n    return (\r\n      <Layout>\r\n        <div className=\"forgot-password-page\">\r\n          <h1 className=\"forgot-password-title\">Forgot Password</h1>\r\n          {this.state.sentPassword ? (\r\n            <div className=\"forgot-password-res\">\r\n              <p className=\"forgot-password-res-text\">\r\n                You should receive an email shortly.\r\n              </p>\r\n              <p className=\"forgot-password-res-text\">\r\n                If you still need assistance, contant me.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"forgot-password-action\">\r\n              <div className=\"forgot-password-form\">\r\n                {this.form.enhancedComponent(\r\n                  \"email\",\r\n                  ({ error, onChange, onEnter, ...others }) => (\r\n                    <InputBase\r\n                      className=\"forgot-password-input\"\r\n                      error={error}\r\n                      success={this.state.validated}\r\n                      id={\"email\"}\r\n                      onKeyDown={onEnter}\r\n                      onChange={e => {\r\n                        const email = e.target.value;\r\n                        onChange(e);\r\n                        this.handleChange(email);\r\n                      }}\r\n                      type=\"email\"\r\n                      label={\"Your email address\"}\r\n                      placeholder={\"name@email.com\"}\r\n                      icon={\r\n                        this.state.loading ? (\r\n                          <i className=\"fas fa-spinner spin\" />\r\n                        ) : null\r\n                      }\r\n                      {...others}\r\n                    />\r\n                  ),\r\n                  true\r\n                )}\r\n                {this.state.error && (\r\n                  <div className=\"server-error\">{this.handleServerError()}</div>\r\n                )}\r\n              </div>\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                disabled={!isSubmittable}\r\n                onClick={this.handleForgotPassword}\r\n              >\r\n                Send Information\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { KComponent } from \"../../components/KComponent\";\r\nimport { createFormWithValidator } from \"../../common/react/form-validator/form-validator\";\r\nimport { InputBase } from \"../../common/react/input-base/input-base\";\r\nimport Layout from \"../../hoc/Layout/Layout\";\r\n\r\nimport { userApi } from \"../../common/api/common/user-api\";\r\n\r\nimport logo from \"../../assets/img/logo.png\";\r\n\r\nexport default class ForgotPassword extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      error: \"\"\r\n    };\r\n\r\n    const search = new URLSearchParams(this.props.location.search);\r\n    this.token = search.get(\"token\");\r\n\r\n    this.passwordSchema = yup.object().shape({\r\n      password: yup\r\n        .string()\r\n        .min(6, \"Password must be at least 6-char long.\")\r\n        .required(\"Password should not be empty\"),\r\n      confirmPassword: yup\r\n        .string()\r\n        .equalTo(yup.ref(\"password\"), \"Passwords must match\")\r\n        .required(\"Confirmed password should not be empty\")\r\n    });\r\n\r\n    this.form = createFormWithValidator(this.passwordSchema, {\r\n      initData: {\r\n        password: \"\",\r\n        confirmPassword: \"\"\r\n      }\r\n    });\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n    this.onUnmount(this.form.on(\"enter\", () => this.handleForgotPassword()));\r\n    this.form.validateData();\r\n    console.log(this.props);\r\n  }\r\n\r\n  handleResetPassword = () => {\r\n    const { password } = this.form.getData();\r\n    console.log(this.token);\r\n    this.setState({ error: \"\", loading: true });\r\n    userApi\r\n      .postUpdatePassword({ password: password, token: this.token })\r\n      .then(res => {\r\n        if (res.data.message === \"change_password_successfully\") {\r\n          this.setState({ loading: false });\r\n          this.props.history.push(\"/\");\r\n        } else {\r\n          this.setState({\r\n            error: { message: \"bad_error\" },\r\n            loading: false\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          error: err,\r\n          loading: false\r\n        });\r\n      });\r\n  };\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errorMatcher = {\r\n      network_error: \"Database is ded.\",\r\n      user_validation_faied: \"Password is not valid.\",\r\n      token_expired: \"Reset password token is expired.\",\r\n      account_not_found: \"This user is not valid.\"\r\n    };\r\n    return errorMatcher.hasOwnProperty(message)\r\n      ? errorMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <div className=\"reset-password-page\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <div className=\"logo-center\">\r\n                <img src={logo} alt=\"Logo\" height=\"125\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-8 col-center-block\">\r\n              <div className=\"reset-pw-form-title\">\r\n                <h3>Reset Password</h3>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <p className=\"help-block\">\r\n                  Enter your new password for your account\r\n                </p>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {this.form.enhancedComponent(\r\n                  \"password\",\r\n                  ({ error, onChange, onEnter, ...others }) => (\r\n                    <InputBase\r\n                      className=\"reset-password-input\"\r\n                      autoFocus\r\n                      error={error}\r\n                      id={\"password\"}\r\n                      onChange={e => {\r\n                        onChange(e);\r\n                      }}\r\n                      type=\"password\"\r\n                      label={\"New password\"}\r\n                      {...others}\r\n                    />\r\n                  ),\r\n                  true\r\n                )}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {this.form.enhancedComponent(\r\n                  \"confirmPassword\",\r\n                  ({ error, onChange, onEnter, ...others }) => (\r\n                    <InputBase\r\n                      className=\"reset-password-input\"\r\n                      error={error}\r\n                      id={\"confirmPassword\"}\r\n                      onKeyDown={onEnter}\r\n                      onChange={e => {\r\n                        onChange(e);\r\n                      }}\r\n                      type=\"password\"\r\n                      label={\"Confirm new password\"}\r\n                      {...others}\r\n                    />\r\n                  ),\r\n                  true\r\n                )}\r\n              </div>\r\n              {this.state.error && (\r\n                <div className=\"server-error\">{this.handleServerError()}</div>\r\n              )}\r\n              <div className=\"btn-container\">\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  disabled={this.state.loading}\r\n                  onClick={this.handleResetPassword}\r\n                >\r\n                  Reset Password\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { userApi } from \"../../common/api/common/user-api\";\r\nimport { authenCache } from \"../../common/cache/authen-cache\";\r\nimport { userInfo } from \"../../common/states/user-info\";\r\n\r\nexport default class VerifyAccount extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    const search = new URLSearchParams(this.props.location.search);\r\n    const token = search.get(\"token\");\r\n    userApi.getVerifyUser(token).then(data => {\r\n      authenCache.setAuthen(data.data.token, { expire: 1 });\r\n      userInfo\r\n        .setState(data.data.user)\r\n        .then(() => {\r\n          this.props.history.push(\"/\");\r\n        })\r\n        .catch(err => {});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return <div />;\r\n  }\r\n}\r\n","import React, { Fragment } from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { KComponent } from \"../../../../components/KComponent\";\r\nimport SectionPicker from \"../../../react/section-picker/section-picker\";\r\nimport { modals } from \"../modals\";\r\n\r\nimport { LoadingInline } from \"../../loading-inline/loading-inline\";\r\n\r\nexport class ReportModal extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      error: null,\r\n      currentReason: null,\r\n      proceed: false\r\n    };\r\n\r\n    this.reportData = [\r\n      {\r\n        name: \"Spam\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content: \"Report as spam?\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content: \"We remove:\"\r\n          },\r\n          {\r\n            type: \"ul\",\r\n            content: [\"Clickbait\", \"Advertising\", \"Scam\", \"Script bot\"]\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you report someone's post, 9GAG doesn't tell them who reported it.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: \"Pornography\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content: \"Report as spam?\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content: \"We remove:\"\r\n          },\r\n          {\r\n            type: \"ul\",\r\n            content: [\r\n              \"Photos or videos of sexual intercourse\",\r\n              \"Posts showing sexual intercourse, genitals or close-ups of fully-nude buttocks\"\r\n            ]\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you report someone's post, 9GAG doesn't tell them who reported it.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: \"Hatred and bullying\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content: \"Report as hatred and bullying?\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content: \"We remove:\"\r\n          },\r\n          {\r\n            type: \"ul\",\r\n            content: [\r\n              \"Posts that contain credible threat\",\r\n              \"Posts that target people to degrade or shame them\",\r\n              \"Personal information shared to blackmail or harass\",\r\n              \"Posts or threats to post nude photo of you\"\r\n            ]\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you report someone's post, 9GAG doesn't tell them who reported it.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: \"Self-Harm\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content: \"Report as self injury?\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content: \"We remove:\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"We remove posts encouraging or promoting self injury, which includes suicide, cutting and eating disorders. We may also remove posts identifying victims of self injury if the post attacks or makes fun of them.\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you report someone's post, 9GAG doesn't tell them who reported it.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: \"Violent, gory and harmful content\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content: \"Report as violent, gory and harmful content?\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content: \"We remove:\"\r\n          },\r\n          {\r\n            type: \"ul\",\r\n            content: [\r\n              \"Photos or videos of extreme graphic violence\",\r\n              \"Posts that encourage violence or attack anyone based on their religious, ethnic or sexual background\",\r\n              \"Specific threats of physical harm, theft, vandalism or financial harm.\"\r\n            ]\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you report someone's post, 9GAG doesn't tell them who reported it.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: \"Child Porn\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content: \"Report as child porn?\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content: \"We remove:\"\r\n          },\r\n          {\r\n            type: \"ul\",\r\n            content: [\r\n              \"Photos or videos of sexual intercourse with children\",\r\n              \"Posts of nude or partially nude children\"\r\n            ]\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you report someone's post, 9GAG doesn't tell them who reported it.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: \"Illegal activities e.g. Drug Uses\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content: \"Report as illegal activities?\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content: \"We remove and may report to legal entity about:\"\r\n          },\r\n          {\r\n            type: \"ul\",\r\n            content: [\r\n              \"Posts promoting illegal activities, e.g. the use of hard drugs\",\r\n              \"Posts intended to sell or distribute drugs\"\r\n            ]\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you report someone's post, 9GAG doesn't tell them who reported it.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: \"Deceptive content\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content: \"Report as deceptive content?\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content: \"We remove:\"\r\n          },\r\n          {\r\n            type: \"ul\",\r\n            content: [\r\n              \"Purposefully fake or deceitful news\",\r\n              \"Hoax disproved by a reputable source\"\r\n            ]\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you report someone's post, 9GAG doesn't tell them who reported it.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: \"Copyright and trademark infringement\",\r\n        description: [\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"We provides an online platform to allows users to upload and share images, videos, and other content. We take the rights of intellectual property owners very seriously and comply as a service provider with all applicable provisions of the United States Digital Millennium Copyright Act.\"\r\n          },\r\n          {\r\n            type: \"p\",\r\n            content:\r\n              \"If you want to report content that you believe violates or infringes your copyright, please tap continue and fill out the 9GAG DMCA Copyright Infringement Notification form. Note that a report alleging infringement or violation of legal rights must come from the rights owner or someone authorized to report on their behalf (e.g. attorney, agent). If you are not the rights owner or their authorized representative, we will not be able to process your report.\"\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    this.reasons = this.reportData.map(each => {\r\n      return {\r\n        name: each.name\r\n      };\r\n    });\r\n  }\r\n\r\n  handleServerError = () => {\r\n    const { error } = this.state;\r\n    const message = error.message;\r\n    let errMatcher = {\r\n      invalid_url: \"Invalid URL.\",\r\n      network_error: \"Database is ded.\"\r\n    };\r\n    return errMatcher.hasOwnProperty(message)\r\n      ? errMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  handleSectionClick = section => {\r\n    this.setState({ currentReason: section.name });\r\n  };\r\n\r\n  handleCancelClicked = () => {\r\n    if (!this.state.proceed) {\r\n      this.props.onClose();\r\n    } else {\r\n      this.setState({ currentReason: null, proceed: false });\r\n    }\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState({ proceed: true });\r\n  };\r\n\r\n  render() {\r\n    let { onClose } = this.props;\r\n    let { loading, currentReason, proceed } = this.state;\r\n    let reportContent = null;\r\n    if (proceed) {\r\n      console.log(currentReason);\r\n      let reportDescription = this.reportData.filter(\r\n        each => each.name === currentReason\r\n      );\r\n      reportContent = reportDescription[0].description.map((each, index) => {\r\n        if (each.type === \"p\") {\r\n          return <p key={\"p\" + index}>{each.content}</p>;\r\n        } else if (each.type === \"ul\") {\r\n          let listContent = each.content.map(list => {\r\n            return <li key={list}>{list}</li>;\r\n          });\r\n          return <ul key={\"ul\" + index}>{listContent}</ul>;\r\n        } else {\r\n          return null;\r\n        }\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={classnames(\"report-modal\", {\r\n          shorter: proceed\r\n        })}\r\n        style={{\r\n          height:\r\n            proceed && currentReason === \"Copyright and trademark infringement\"\r\n              ? \"530px\"\r\n              : \"\"\r\n        }}\r\n      >\r\n        <Fragment>\r\n          <div className=\"modal-header report-modal-header no-border\">\r\n            <div className=\"modal-title \">\r\n              <h4 className=\"modal-title-text\">Report</h4>\r\n              <p className=\"modal-subtitle-text\">\r\n                Choosing the right reason help us process the report as soon as\r\n                possible.\r\n              </p>\r\n            </div>\r\n            <i className=\"fas fa-times close-modal\" onClick={() => onClose()} />\r\n          </div>\r\n          <div className=\"modal-body report-modal-body\">\r\n            {loading ? <LoadingInline /> : null}\r\n            {!proceed ? (\r\n              <SectionPicker\r\n                data={this.reasons}\r\n                handleClick={this.handleSectionClick}\r\n                defaultSection={currentReason}\r\n              />\r\n            ) : null}\r\n            {this.state.error && (\r\n              <div className=\"server-error\">{this.handleServerError()}</div>\r\n            )}\r\n            {proceed ? (\r\n              <div className=\"reason-explain\">{reportContent}</div>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"modal-footer report-modal-footer no-border\">\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={this.handleCancelClicked}\r\n            >\r\n              {proceed ? \"Back \" : \"Cancel\"}\r\n            </button>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              disabled={currentReason === null || this.state.loading}\r\n              onClick={this.handleNext}\r\n            >\r\n              {loading ? \"Loading\" : \"Next\"}\r\n            </button>\r\n          </div>\r\n        </Fragment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const reportModal = {\r\n  open() {\r\n    const modal = modals.openModal({\r\n      content: <ReportModal onClose={() => modal.close()} />\r\n    });\r\n    return modal.result;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst avatar = props => (\r\n  <div className=\"image-container\">\r\n    <Link to={props.redirect}>\r\n      <img src={props.src} alt=\"avatar\" />\r\n    </Link>\r\n  </div>\r\n);\r\n\r\nexport default avatar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { statusCache } from \"../../../../common/cache/api-cache/common-cache\";\r\nimport { timeDifference } from \"../../../../common/utils/common-util\";\r\n\r\nconst commentInfo = props => {\r\n  const { user, points, createdAt } = props;\r\n  let date = new Date(createdAt);\r\n  const time = timeDifference(date);\r\n  let redirect = `${process.env.REACT_APP_APP_URL}/u/${user.username}`;\r\n  let status = statusCache.syncGet();\r\n  let statusObject = status.find(each => each._id === user.statusId);\r\n  let showStatus = statusObject && statusObject.name !== \"None\";\r\n  return (\r\n    <p className=\"comment-info\">\r\n      <Link className=\"username\" to={redirect}>\r\n        {user.username}\r\n      </Link>\r\n      {showStatus ? (\r\n        <span className=\"status\">\r\n          <img\r\n            draggable=\"false\"\r\n            className=\"emoji\"\r\n            alt={statusObject.alt}\r\n            src={statusObject.src}\r\n          />\r\n        </span>\r\n      ) : null}\r\n      {user.isPro ? <span className=\"pro-badge\">Pro</span> : null}\r\n      <span className=\"meta\">\r\n        {user.username === props.postCreatedBy ? (\r\n          <span title=\"Original Poster\" className=\"role-op\">\r\n            OP\r\n          </span>\r\n        ) : null}\r\n        {points ? <span className=\"points\">{points} points</span> : null}\r\n        {points ? <span>  </span> : null}\r\n        <span className=\"time\">\r\n          <a href=\"/\" target=\"_blank\" className=\"comment-link\">\r\n            {time}\r\n          </a>\r\n        </span>\r\n      </span>\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default commentInfo;\r\n","import React, { Component } from \"react\";\r\nimport classnames from \"classnames\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nimport Avatar from \"../../Avatar/Avatar\";\r\nimport CommentInfo from \"./CommentInfo/CommentInfo\";\r\nimport { postApi } from \"../../../common/api/common/post-api\";\r\nimport { userInfo } from \"../../../common/states/user-info\";\r\nimport { registerModal } from \"../../../common/react/modals/register/register\";\r\n\r\nclass Comment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let currentVote = \"\";\r\n    this.info = userInfo.getState();\r\n    const info = this.info;\r\n    const { upVotes, downVotes, points } = this.props.comment;\r\n    console.log(this.props.comment)\r\n    const upVoteFind = upVotes.find(each => {\r\n      return each.toString() === info._id.toString();\r\n    });\r\n    const downVoteFind = downVotes.find(each => {\r\n      return each.toString() === info._id.toString();\r\n    });\r\n    if (upVoteFind) {\r\n      currentVote = \"UP\";\r\n    } else if (downVoteFind) {\r\n      currentVote = \"DOWN\";\r\n    }\r\n    this.state = {\r\n      points: points,\r\n      currentVote: currentVote\r\n    };\r\n    this.avatarStyle = null;\r\n    if (this.props.isSubComment) {\r\n      this.avatarStyle = { width: \"30px\", height: \"30px\", overflow: \"hidden\" };\r\n    }\r\n  }\r\n\r\n  requestVoteApi = async isUpvote => {\r\n    const { isSubComment, postId, comment, parentComment } = this.props;\r\n\r\n    if (isSubComment) {\r\n      await postApi.updateVoteReply(\r\n        postId,\r\n        parentComment,\r\n        comment._id,\r\n        isUpvote\r\n      );\r\n    } else {\r\n      await postApi.updateVoteComment(postId, comment._id, isUpvote);\r\n    }\r\n  };\r\n\r\n  requestVoteApi = debounce(this.requestVoteApi, 1000);\r\n\r\n  handleVoteClicked = async isUpvote => {\r\n    let points = this.state.points;\r\n    let currentVote = this.state.currentVote;\r\n    if (isUpvote && currentVote === \"UP\") {\r\n      points -= 1;\r\n      currentVote = \"\";\r\n    } else if (!isUpvote && currentVote === \"DOWN\") {\r\n      points += 1;\r\n      currentVote = \"\";\r\n    } else if (isUpvote && currentVote === \"DOWN\") {\r\n      points += 2;\r\n      currentVote = \"UP\";\r\n    } else if (!isUpvote && currentVote === \"UP\") {\r\n      points -= 2;\r\n      currentVote = \"DOWN\";\r\n    } else if (isUpvote) {\r\n      points += 1;\r\n      currentVote = \"UP\";\r\n    } else if (!isUpvote) {\r\n      points -= 1;\r\n      currentVote = \"DOWN\";\r\n    }\r\n    this.setState({ points: points, currentVote: currentVote });\r\n    this.requestVoteApi(isUpvote);\r\n  };\r\n\r\n  render() {\r\n    const { comment, isSubComment } = this.props;\r\n    const { points, currentVote } = this.state;\r\n    const user = comment.createdBy;\r\n    let media = null;\r\n    let content = null;\r\n    if (comment.imageUrl) {\r\n      media = (\r\n        <div className=\"media\">\r\n          <img src={comment.imageUrl} alt=\"comment-embed\" />\r\n        </div>\r\n      );\r\n    }\r\n    if (comment.content) {\r\n      content = <div className=\"content\">{comment.content}</div>;\r\n    }\r\n    return (\r\n      <div className=\"comment\">\r\n        <div className=\"avatar\" style={this.avatarStyle}>\r\n          <Avatar\r\n            redirect={`${process.env.REACT_APP_APP_URL}/u/${user.username}`}\r\n            src={user.avatarURL}\r\n          />\r\n        </div>\r\n        <div className=\"comment-content\">\r\n          <div className=\"info\">\r\n            <CommentInfo\r\n              user={user}\r\n              points={points}\r\n              createdAt={comment.createdAt}\r\n              postCreatedBy={this.props.postCreatedBy}\r\n            />\r\n          </div>\r\n          {content}\r\n          {media}\r\n          <div className=\"action\">\r\n            <span\r\n              className=\"action-text\"\r\n              onClick={() => {\r\n                if (!this.info) {\r\n                  registerModal.open();\r\n                } else {\r\n                  if (!isSubComment) {\r\n                    this.props.handleReplyClicked(user.username, comment._id);\r\n                  } else {\r\n                    this.props.handleReplyClicked(user.username);\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              Reply\r\n            </span>\r\n            <div className=\"vote-btn\">\r\n              <span\r\n                className={classnames(\"vote\", {\r\n                  active: currentVote === \"UP\"\r\n                })}\r\n                onClick={() => {\r\n                  if (!this.info) {\r\n                    registerModal.open();\r\n                  } else {\r\n                    this.handleVoteClicked(true);\r\n                  }\r\n                }}\r\n              >\r\n                <i className=\"fas fa-arrow-up\" />\r\n              </span>\r\n              <span\r\n                className={classnames(\"vote\", {\r\n                  active: currentVote === \"DOWN\"\r\n                })}\r\n                onClick={() => {\r\n                  if (!this.info) {\r\n                    registerModal.open();\r\n                  } else {\r\n                    this.handleVoteClicked(false);\r\n                  }\r\n                }}\r\n              >\r\n                <i className=\"fas fa-arrow-down\" />\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"extra-menu\">\r\n          <i className=\"fas fa-chevron-down extra-arrow\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comment;\r\n","import React from \"react\";\r\nimport { LoadingInline } from \"../../common/react/loading-inline/loading-inline\";\r\n\r\nconst imagePreview = props => (\r\n  <div className=\"image-preview\">\r\n    {props.src ? <img src={props.src} alt=\"comment\" /> : <LoadingInline />}\r\n    <div className=\"ip-overlay\">\r\n      {props.src ? (\r\n        <i className=\"fas fa-times\" onClick={props.onClose} />\r\n      ) : null}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default imagePreview;\r\n","import React, { Fragment } from \"react\";\r\nimport * as yup from \"yup\";\r\n\r\nimport { KComponent } from \"../KComponent\";\r\nimport { createFormWithValidator } from \"../../common/react/form-validator/form-validator\";\r\nimport { InputBase } from \"../../common/react/input-base/input-base\";\r\nimport UploadButton from \"../../common/react/upload-btn/upload-btn\";\r\nimport ImagePreview from \"../ImagePreview/ImagePreview\";\r\nimport { utilApi } from \"../../common/api/common/util-api\";\r\nimport { postApi } from \"../../common/api/common/post-api\";\r\nimport { userInfo } from \"../../common/states/user-info\";\r\n\r\nclass CommentInput extends KComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      uploadError: null,\r\n      isPostMemeful: false,\r\n      imagePreviewSrc: \"\",\r\n      loadingPreview: false\r\n    };\r\n\r\n    const schema = yup.object().shape({\r\n      content: yup\r\n        .string()\r\n        .min(5, \"Comment should be at least 5-char long.\")\r\n        .max(1000, \"Comment should not longer than 1000 characters.\"),\r\n      url: yup\r\n        .string()\r\n        .notRequired()\r\n        .url(\"This should be a Freaking memeful URL.\")\r\n        .matches(/memeful\\.com/),\r\n      picture: yup.mixed().notRequired()\r\n    });\r\n    this.form = createFormWithValidator(schema, {\r\n      initData: {\r\n        content: \"\",\r\n        picture: null,\r\n        url: \"\"\r\n      }\r\n    });\r\n    this.taggedUser = null;\r\n    this.commentId = null;\r\n    this.info = userInfo.getState();\r\n\r\n    this.onUnmount(this.form.on(\"change\", () => this.forceUpdate()));\r\n    this.onUnmount(this.form.on(\"enter\", () => null));\r\n    this.form.validateData();\r\n  }\r\n\r\n  handleServerError = () => {\r\n    const { uploadError } = this.state;\r\n    const message = uploadError.message;\r\n    let errMatcher = {\r\n      invalid_picture: \"Unsupported dimension\",\r\n      network_error: \"Database is ded.\"\r\n    };\r\n    return errMatcher.hasOwnProperty(message)\r\n      ? errMatcher[message]\r\n      : \"Something bad happened.\";\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (\r\n      this.props.taggedUser &&\r\n      (this.props.taggedUser !== this.taggedUser ||\r\n        this.commentId !== this.props.commentId)\r\n    ) {\r\n      this.taggedUser = this.props.taggedUser;\r\n      this.commentId = this.props.commentId;\r\n      this.form.updatePathData(\"content\", `@${this.taggedUser} `);\r\n    }\r\n  }\r\n\r\n  handlePostComment = () => {\r\n    let sendData = new FormData();\r\n    let { content, picture, url } = this.form.getData();\r\n    const info = userInfo.getState();\r\n\r\n    const newComment = {\r\n      _id: Math.floor(Math.random() * 100) + 1,\r\n      content: content,\r\n      imageUrl: picture ? picture.src : url,\r\n      points: 0,\r\n      subcommentsLength: 0,\r\n      createdBy: {\r\n        avatarURL: info.avatarURL,\r\n        username: info.username,\r\n        isPro: info.isPro,\r\n        statusId: info.statusId\r\n      },\r\n      upVotes: [],\r\n      downVotes: [],\r\n      createdAt: Date.now()\r\n    };\r\n\r\n    // Client-rendering\r\n    if (!this.props.commentId) {\r\n      this.props.handlePostComment(newComment);\r\n    } else {\r\n      this.props.handlePostReply(newComment);\r\n    }\r\n\r\n    // POST-API\r\n    sendData.append(\"content\", content);\r\n    sendData.append(\"file\", picture ? picture.file : null);\r\n    sendData.append(\"imageUrl\", url ? url : \"\");\r\n    let apiFunction = () => postApi.postComment(this.props.postId, sendData);\r\n    if (this.props.commentId) {\r\n      apiFunction = () =>\r\n        postApi.postSubcomment(\r\n          this.props.postId,\r\n          this.props.commentId,\r\n          sendData\r\n        );\r\n    }\r\n    apiFunction()\r\n      .then(response => {\r\n        this.form.resetData();\r\n        this.setState({\r\n          uploadError: null,\r\n          isPostMemeful: false,\r\n          imagePreviewSrc: \"\",\r\n          loadingPreview: false\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ uploadError: err });\r\n      });\r\n  };\r\n\r\n  handleFileChange = async (file, defaultOnChange) => {\r\n    this.setState({ loadingPreview: true, uploadError: null });\r\n    let sendData = new FormData();\r\n    sendData.append(\"file\", file.file);\r\n    try {\r\n      const response = await utilApi.getCommentPreview(sendData);\r\n      if (response) {\r\n        const { data } = response;\r\n        this.setState({ imagePreviewSrc: data.data, loadingPreview: false });\r\n        defaultOnChange(file);\r\n      }\r\n    } catch (err) {\r\n      this.setState({\r\n        uploadError: err,\r\n        imagePreviewSrc: \"\",\r\n        loadingPreview: false\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let text = this.form.getPathData(\"content\");\r\n    const {\r\n      isPostMemeful,\r\n      imagePreviewSrc,\r\n      loadingPreview,\r\n      uploadError\r\n    } = this.state;\r\n    let invalidForms = this.form.getInvalidPaths();\r\n    let isFormInvalid = false;\r\n    if (isPostMemeful) {\r\n      isFormInvalid = invalidForms.findIndex(each => each === \"url\") !== -1;\r\n    } else {\r\n      isFormInvalid = invalidForms.findIndex(each => each === \"content\") !== -1;\r\n    }\r\n    let isDisable = loadingPreview || uploadError !== null || isFormInvalid;\r\n    if (!this.info) {\r\n      isDisable = true;\r\n    }\r\n    return (\r\n      <Fragment>\r\n        {uploadError && (\r\n          <div className=\"error-notice-message\">\r\n            <p>{this.handleServerError()}</p>\r\n            <i\r\n              className=\"fas fa-times\"\r\n              onClick={() => this.setState({ uploadError: \"\" })}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"ci-textarea-container\">\r\n          {!isPostMemeful\r\n            ? this.form.enhancedComponent(\r\n                \"content\",\r\n                ({ error, onChange, onEnter, ...others }) => (\r\n                  <InputBase\r\n                    className=\"ci-input\"\r\n                    inputType=\"text-area\"\r\n                    error={error}\r\n                    id={\"content\"}\r\n                    type={\"text\"}\r\n                    placeholder={\"Write comments...\"}\r\n                    onChange={e => {\r\n                      onChange(e);\r\n                    }}\r\n                    maxLength=\"1000\"\r\n                    {...others}\r\n                  />\r\n                ),\r\n                true\r\n              )\r\n            : this.form.enhancedComponent(\r\n                \"url\",\r\n                ({ error, onChange, onEnter, ...others }) => (\r\n                  <InputBase\r\n                    className=\"ci-input\"\r\n                    error={error}\r\n                    id={\"url\"}\r\n                    type={\"url\"}\r\n                    placeholder={\"Paste URL here\"}\r\n                    onChange={e => {\r\n                      onChange(e);\r\n                    }}\r\n                    {...others}\r\n                  />\r\n                ),\r\n                true\r\n              )}\r\n        </div>\r\n        {loadingPreview || imagePreviewSrc ? (\r\n          <div className=\"ci-image-container\">\r\n            <div className=\"image-prev-container\">\r\n              <ImagePreview\r\n                src={imagePreviewSrc}\r\n                onClose={() => {\r\n                  this.setState({ imagePreviewSrc: \"\" });\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        <div className=\"ci-action\">\r\n          <div className=\"action-left\">\r\n            {!isPostMemeful ? (\r\n              <Fragment>\r\n                <a\r\n                  href=\"https://memeful.com/\"\r\n                  className=\"icon\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  onClick={() => {\r\n                    this.form.resetData();\r\n                    this.setState({ isPostMemeful: true });\r\n                  }}\r\n                >\r\n                  <i className=\"far fa-grin\" />\r\n                </a>\r\n                {this.form.enhancedComponent(\r\n                  \"picture\",\r\n                  ({ error, onChange, value, ...other }) => (\r\n                    <UploadButton\r\n                      renderBtn={({ onClick }) => {\r\n                        return (\r\n                          <i className=\"fas fa-camera icon\" onClick={onClick} />\r\n                        );\r\n                      }}\r\n                      onError={error => {\r\n                        this.setState({\r\n                          uploadError: error\r\n                        });\r\n                      }}\r\n                      onChange={files => {\r\n                        this.handleFileChange(files, () => onChange(files));\r\n                        // this.handlePost(files);\r\n                      }}\r\n                      uploadImageOnly\r\n                      value={value}\r\n                    />\r\n                  )\r\n                )}\r\n              </Fragment>\r\n            ) : (\r\n              <div\r\n                className=\"cancel-text\"\r\n                onClick={() => {\r\n                  this.form.resetData();\r\n                  this.setState({ isPostMemeful: false });\r\n                }}\r\n              >\r\n                Cancel\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"action-right\">\r\n            {!isPostMemeful ? (\r\n              <p className=\"word-count\">{1000 - text.length}</p>\r\n            ) : null}\r\n            <button\r\n              className=\"btn btn-primary post-btn\"\r\n              onClick={this.handlePostComment}\r\n              disabled={isDisable}\r\n            >\r\n              Post\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentInput;\r\n","import React, { Component } from \"react\";\r\nimport { userInfo } from \"../../common/states/user-info\";\r\nimport Avatar from \"../Avatar/Avatar\";\r\nimport CommentInput from \"../CommentInput/CommentInput\";\r\n\r\nclass CommentInputWithAvatar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n\r\n    this.avatarStyle = null;\r\n    if (this.props.isReply) {\r\n      this.avatarStyle = {\r\n        width: \"30px\",\r\n        height: \"30px\",\r\n        overflow: \"hidden\"\r\n      };\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const info = userInfo.getState();\r\n    const { handlePostComment, handlePostReply } = this.props;\r\n    return (\r\n      <div className=\"comment-section\">\r\n        <div className=\"avatar\" style={this.avatarStyle}>\r\n          <Avatar\r\n            redirect={\r\n              info ? `${process.env.REACT_APP_APP_URL}/u/${info.username}` : \"/\"\r\n            }\r\n            src={\r\n              info\r\n                ? info.avatarURL\r\n                : `${process.env.REACT_APP_ASSETS_URL}/1_0_100_v0.jpg`\r\n            }\r\n          />\r\n        </div>\r\n        <div className=\"comment-full\">\r\n          <CommentInput\r\n            postId={this.props.postId}\r\n            commentId={this.props.commentId}\r\n            taggedUser={this.props.taggedUser}\r\n            handlePostComment={handlePostComment}\r\n            handlePostReply={handlePostReply}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentInputWithAvatar;\r\n","import React, { Component, Fragment } from \"react\";\r\nimport Comment from \"../Comment/Comment\";\r\nimport CommentInputWithAvatar from \"../../CommentInputWithAvatar/CommentInputWithAvatar\";\r\nimport { postApi } from \"../../../common/api/common/post-api\";\r\n\r\nclass FullComment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { comment } = this.props;\r\n\r\n    this.state = {\r\n      showReplyInput: false,\r\n      subcomments: [],\r\n      subcommentsLength: comment.subcommentsLength,\r\n      error: null,\r\n      loading: false\r\n    };\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.showReplyInput !== this.state.showReplyInput) {\r\n      this.setState({ showReplyInput: this.props.showReplyInput });\r\n    }\r\n  }\r\n\r\n  handleLoadReply = async () => {\r\n    this.setState({ error: null, loading: true });\r\n    try {\r\n      const response = await postApi.getSubcomments(\r\n        this.props.postId,\r\n        this.props.comment._id\r\n      );\r\n      const { data } = response;\r\n      this.setState({ error: null, loading: false, subcomments: data });\r\n    } catch (err) {\r\n      this.setState({ error: err, loading: false });\r\n    }\r\n  };\r\n\r\n  handlePostReply = reply => {\r\n    let newSub = [...this.state.subcomments];\r\n    newSub.unshift(reply);\r\n    this.setState((prevState, props) => ({\r\n      subcommentsLength: prevState.subcommentsLength + 1,\r\n      subcomments: newSub\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { comment, handleReplyClicked } = this.props;\r\n    const {\r\n      showReplyInput,\r\n      subcommentsLength,\r\n      subcomments,\r\n      loading\r\n    } = this.state;\r\n    const hasMore = subcommentsLength - subcomments.length > 0;\r\n    return (\r\n      <Fragment>\r\n        <Comment\r\n          postId={this.props.postId}\r\n          comment={comment}\r\n          postCreatedBy={this.props.postCreatedBy}\r\n          handleReplyClicked={handleReplyClicked}\r\n        />\r\n        {/* SubCommentArray here */}\r\n        {subcomments.length !== 0\r\n          ? subcomments.map(subcomment => (\r\n              <div\r\n                style={{ marginLeft: \"20px\" }}\r\n                key={subcomment._id.toString()}\r\n              >\r\n                <Comment\r\n                  postId={this.props.postId}\r\n                  parentComment={comment._id}\r\n                  comment={subcomment}\r\n                  postCreatedBy={this.props.postCreatedBy}\r\n                  isSubComment\r\n                  handleReplyClicked={username => {\r\n                    handleReplyClicked(username, comment._id);\r\n                  }}\r\n                />\r\n              </div>\r\n            ))\r\n          : null}\r\n        {subcommentsLength !== 0 && hasMore ? (\r\n          <div className=\"collasped-comment\" onClick={this.handleLoadReply}>\r\n            {loading\r\n              ? \"Loading...\"\r\n              : subcomments.length === 0\r\n              ? `View ${subcommentsLength} replies`\r\n              : \"Load more replies\"}\r\n          </div>\r\n        ) : null}\r\n        {showReplyInput ? (\r\n          <div\r\n            style={{\r\n              marginLeft: \"20px\",\r\n              marginTop: \"5px\",\r\n              marginBottom: \"20px\"\r\n            }}\r\n          >\r\n            <CommentInputWithAvatar\r\n              postId={this.props.postId}\r\n              commentId={comment._id}\r\n              taggedUser={this.props.taggedUser}\r\n              handlePostReply={this.handlePostReply}\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FullComment;\r\n","import React, { Component } from \"react\";\r\n\r\nimport FullComment from \"./FullComment/FullComment\";\r\n\r\nclass CommentList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      comments: this.props.comments,\r\n      loading: false,\r\n      error: null,\r\n      focusedReply: {\r\n        username: null,\r\n        commentId: null\r\n      }\r\n    };\r\n    this.postId = this.props.postId;\r\n  }\r\n\r\n  handleReplyClicked = (username, commentId) => {\r\n    this.setState({\r\n      focusedReply: {\r\n        username: username,\r\n        commentId: commentId\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.comments !== this.state.comments) {\r\n      this.setState({ comments: this.props.comments });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { comments, focusedReply } = this.state;\r\n    return (\r\n      <div>\r\n        {comments.map(comment => (\r\n          <FullComment\r\n            key={comment._id}\r\n            postCreatedBy={this.props.postCreatedBy}\r\n            comment={comment}\r\n            postId={this.postId}\r\n            showReplyInput={comment._id === focusedReply.commentId}\r\n            handleReplyClicked={this.handleReplyClicked}\r\n            taggedUser={focusedReply.username}\r\n            handlePostComment={this.handlePostComment}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentList;\r\n","import React, { Component, Fragment } from \"react\";\r\nimport CommentList from \"../CommentList/CommentList\";\r\nimport CommentInputWithAvatar from \"../CommentInputWithAvatar/CommentInputWithAvatar\";\r\nimport { postApi } from \"../../common/api/common/post-api\";\r\n\r\nclass CommentSection extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      comments: [],\r\n      loading: false,\r\n      error: null\r\n    };\r\n    this.postId = this.props.postId;\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ loading: true, error: null });\r\n    postApi\r\n      .getComments(this.postId)\r\n      .then(res => {\r\n        const { data } = res;\r\n        // console.log(data);\r\n        this.setState({ loading: true, error: null, comments: data });\r\n      })\r\n      .catch(err => this.setState({ loading: false, error: err }));\r\n  }\r\n  handlePostComment = comment => {\r\n    let newArray = [...this.state.comments];\r\n    newArray.unshift(comment);\r\n    this.setState({ comments: newArray });\r\n  };\r\n\r\n  render() {\r\n    const { comments } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <CommentInputWithAvatar\r\n          postId={this.props.postId}\r\n          handlePostComment={this.handlePostComment}\r\n        />\r\n        <div style={{ marginTop: \"20px\" }}>\r\n          <CommentList\r\n            postId={this.props.postId}\r\n            postCreatedBy={this.props.createdBy}\r\n            comments={comments}\r\n          />\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentSection;\r\n","import React from \"react\";\nimport { KComponent } from \"../KComponent\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport { FacebookShareButton, PinterestShareButton } from \"react-share\";\n\nimport {\n  FacebookSharingButton,\n  PinterestSharingButton\n} from \"../../common/react/social-buttons/social-button\";\n\nimport { userInfo } from \"../../common/states/user-info\";\nimport { postApi } from \"../../common/api/common/post-api\";\nimport { registerModal } from \"../../common/react/modals/register/register\";\nimport { timeDifference } from \"../../common/utils/common-util\";\nimport VideoPlayer from \"../../components/VideoPlayer/VideoPlayer\";\nimport { reportModal } from \"../../common/react/modals/report/report\";\nimport CommentSection from \"../CommentSection/CommentSection\";\n\nclass FullPost extends KComponent {\n  constructor(props) {\n    super(props);\n\n    const info = userInfo.getState();\n    let currentVoteState = \"\";\n    if (info) {\n      const postId = this.props.post._id;\n      let upIndex = info.upVotes.findIndex(each => each === postId);\n      let downIndex = info.downVotes.findIndex(each => each === postId);\n      if (upIndex !== -1) {\n        currentVoteState = \"UP\";\n      } else if (downIndex !== -1) {\n        currentVoteState = \"DOWN\";\n      }\n    }\n\n    this.state = {\n      upVoteCount: this.props.post.upVoteCount,\n      downVoteCount: this.props.post.downVoteCount,\n      currentVote: currentVoteState,\n      error: null\n    };\n    this.pictureStyle = {};\n    this.videoStyle = {};\n    this.videoContainerStyle = {};\n    this.timeout = null;\n\n    this.onUnmount(\n      userInfo.onChange((newState, oldState) => {\n        if (!newState) {\n          this.setState({ currentVote: \"\" });\n        } else if (!oldState) {\n          const { upVotes, downVotes } = newState;\n          const postId = this.props.post._id;\n          let index = upVotes.findIndex(each => each === postId);\n          if (index !== -1) {\n            this.setState({ currentVote: \"UP\" });\n          } else {\n            index = downVotes.findIndex(each => each === postId);\n            if (index !== -1) {\n              this.setState({ currentVote: \"DOWN\" });\n            }\n          }\n        }\n      })\n    );\n  }\n\n  handleVote = async upVote => {\n    const info = userInfo.getState();\n    if (!info) {\n      registerModal.open(\n        () => this.props.history.push(\"/\"),\n        () => {\n          this.handleVote(upVote);\n        }\n      );\n    } else {\n      const { currentVote, upVoteCount, downVoteCount } = this.state;\n      if (currentVote === \"UP\") {\n        let upVoteC = upVoteCount - 1 < 0 ? 0 : upVoteCount - 1;\n        if (upVote) {\n          this.setState({ currentVote: \"\", upVoteCount: upVoteC });\n        } else {\n          let downVote = downVoteCount + 1;\n          this.setState({\n            currentVote: \"DOWN\",\n            upVoteCount: upVoteC,\n            downVoteCount: downVote\n          });\n        }\n      } else if (currentVote === \"DOWN\") {\n        let downVote = downVoteCount - 1 < 0 ? 0 : downVoteCount - 1;\n\n        if (upVote) {\n          let upVoteC = upVoteCount + 1;\n          this.setState({\n            currentVote: \"UP\",\n            downVoteCount: downVote,\n            upVoteCount: upVoteC\n          });\n        } else {\n          this.setState({ currentVote: \"\", downVoteCount: downVote });\n        }\n      } else {\n        if (upVote) {\n          let upVoteC = upVoteCount + 1;\n          this.setState({ currentVote: \"UP\", upVoteCount: upVoteC });\n        } else {\n          let downVote = downVoteCount + 1;\n          this.setState({ currentVote: \"DOWN\", downVoteCount: downVote });\n        }\n      }\n      let result = null;\n\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(async () => {\n        try {\n          if (upVote) {\n            result = await postApi.updateVotePost(this.props.post._id, 1);\n          } else {\n            result = await postApi.updateVotePost(this.props.post._id, 0);\n          }\n          let { upVoteCount, downVoteCount } = result.data;\n          this.setState({\n            upVoteCount: upVoteCount,\n            downVoteCount: downVoteCount\n          });\n        } catch (err) {\n          this.setState({ error: err });\n        }\n      }, 1000);\n    }\n  };\n\n  componentWillMount() {\n    const { post } = this.props;\n    const { images, type } = post;\n    const { image460sv, image700 } = images;\n    if (type === \"Photo\") {\n      if (image700.width === image700.height) {\n        this.pictureStyle = {\n          width: 600,\n          minHeight: 600\n        };\n      } else {\n        this.pictureStyle = {\n          width: 600,\n          minHeight: (600 / image700.width) * image700.height\n        };\n      }\n    } else if (type === \"Animated\") {\n      if (image460sv.width === image460sv.height) {\n        this.videoStyle = {\n          minHeight: 600\n        };\n      } else if (image460sv.width > image460sv.height) {\n        this.videoStyle = {\n          minHeight: (600 / image460sv.width) * image460sv.height\n        };\n      } else {\n        let realWidth = (640 / image460sv.height) * image460sv.width;\n        this.videoStyle = {\n          width: realWidth,\n          minHeight: 640\n        };\n        this.videoContainerStyle = {\n          paddingLeft: (600 - realWidth) / 2\n        };\n      }\n    }\n  }\n\n  render() {\n    const { post } = this.props;\n    const { images, type, createdAt } = post;\n    const { image700 } = images;\n    const { downVoteCount, upVoteCount } = this.state;\n    console.log(post);\n    const time = timeDifference(new Date(createdAt));\n    let media = (\n      <div\n        style={{\n          margin: \"0 auto\",\n          width: \"600px\"\n        }}\n      >\n        <picture style={this.pictureStyle}>\n          {image700.webpUrl ? (\n            <source srcSet={image700.webpUrl} type=\"image/webp\" />\n          ) : null}\n          <img src={image700.url} alt={post.name} style={this.pictureStyle} />\n        </picture>\n      </div>\n    );\n    if (type === \"Animated\") {\n      media = (\n        <VideoPlayer\n          video={images}\n          videoStyle={this.videoStyle}\n          containerStyle={this.videoContainerStyle}\n        />\n      );\n    }\n    return (\n      <article className={classnames(\"full-post\")}>\n        <header className=\"post-header\">\n          <div className=\"post-section\">\n            <img\n              className=\"post-section__category-icon\"\n              src={post.categoryId.imageUrl}\n              alt=\"category-icon\"\n            />\n            <p className=\"post-section__message\">\n              <span>{post.categoryId.name}</span>\n              {\"  \" + time}\n            </p>\n          </div>\n          <h1>{post.title}</h1>\n          <p className=\"post-meta\">\n            <Link to=\"/\" className=\"post-meta__text\">\n              {upVoteCount - downVoteCount + \" points\"}\n            </Link>\n            {\"  \"}\n            <Link to=\"/\" className=\"post-meta__text\">\n              {post.comments.length + \" comments\"}\n            </Link>\n          </p>\n        </header>\n        <div className=\"full-post-after-bar\">\n          <ul className=\"btn-vote left\">\n            <li>\n              <div\n                className={classnames(\"btn-border up\", {\n                  selected: this.state.currentVote === \"UP\"\n                })}\n                onClick={() => this.handleVote(true)}\n              />\n            </li>\n            <li>\n              <div\n                className={classnames(\"btn-border down\", {\n                  selected: this.state.currentVote === \"DOWN\"\n                })}\n                onClick={() => this.handleVote(false)}\n              />\n            </li>\n          </ul>\n          <div>\n            <ul className=\"btn-vote left\">\n              <li>\n                <FacebookShareButton url={\"https://github.com\"}>\n                  <FacebookSharingButton text={\"Facebook\"} />\n                </FacebookShareButton>\n              </li>\n              <li>\n                <PinterestShareButton\n                  url={\"https://github.com\"}\n                  media={post.images.image700.url}\n                >\n                  <PinterestSharingButton text={\"Pinterest\"} />\n                </PinterestShareButton>\n              </li>\n              <li>\n                <div className=\"btn-border more\" />\n              </li>\n            </ul>\n            <div className=\"popup-viewshare hide\">\n              <ul>\n                <li>Twitter</li>\n                <li>Email</li>\n                <li>Report</li>\n                <li>I just don't like it</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"btn-next right\">\n            <span className=\"btn-next-body\">Next Post</span>\n            <span className=\"btn-next-arrow\" />\n          </div>\n          <div className=\"clearfix\" />\n        </div>\n        <div className=\"full-post-container\">{media}</div>\n        <div style={{ display: \"flex\", marginTop: \"16px\" }}>\n          <FacebookShareButton\n            url={\"https://github.com\"}\n            style={{ flexGrow: \"2\", display: \"flex\" }}\n          >\n            <FacebookSharingButton\n              text={\"Share on Facebook\"}\n              height={44}\n              fontSize={15}\n              marginRight={8}\n            />\n          </FacebookShareButton>{\" \"}\n          <PinterestShareButton\n            url={\"https://github.com\"}\n            media={post.images.image700.url}\n            style={{ flexGrow: \"2\", display: \"flex\" }}\n          >\n            <PinterestSharingButton\n              text={\"Share on Pinterest\"}\n              height={44}\n              fontSize={15}\n            />\n          </PinterestShareButton>\n        </div>\n        <div style={{ marginTop: \"8px\" }}>\n          <p\n            className=\"full-post-report-text\"\n            onClick={() => {\n              const info = userInfo.getState();\n              if (!info) {\n                registerModal.open();\n              } else {\n                reportModal.open();\n              }\n            }}\n          >\n            REPORT\n          </p>\n        </div>\n\n        <div className=\"full-post-comments\">\n          <div className=\"full-post-comments__top-bar\">\n            <div className=\"full-post-comments__cmts\">{`${\n              post.comments.length\n            } Comments`}</div>\n            <div className=\"full-post-comments__filter\">\n              <ul>\n                <li\n                  className={classnames({\n                    active: true\n                  })}\n                >\n                  Hot\n                </li>\n                <li\n                  className={classnames({\n                    active: false\n                  })}\n                >\n                  Fresh\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"full-post-comments__content\">\n            <CommentSection\n              postId={post._id}\n              createdBy={post.createdBy.username}\n            />\n          </div>\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default FullPost;\n","import React, { Component } from \"react\";\r\n// import classnames from \"classnames\";\r\n\r\nimport Layout from \"../../hoc/Layout/Layout\";\r\nimport FullPost from \"../../components/FullPost/FullPost\";\r\nimport { postApi } from \"../../common/api/common/post-api\";\r\n// import { userInfo } from \"../../common/states/user-info\";\r\n\r\nclass FullPostPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      post: null\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n    const { postId } = this.props.match.params;\r\n    postApi\r\n      .getPost(postId)\r\n      .then(data => {\r\n        this.setState({ post: data.data.post });\r\n      })\r\n      .catch(err => this.props.history.push(\"/not-found\"));\r\n  }\r\n\r\n  render() {\r\n    const { post } = this.state;\r\n    return (\r\n      <Layout>\r\n        {post ? <FullPost post={post} history={this.props.history} /> : null}\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\nexport default FullPostPage;\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport { ModalsRegistry } from \"./common/react/modals/modals\";\r\n\r\nimport MainPage from \"./pages/MainPage/MainPage\";\r\nimport TestPage from \"./pages/TestPage/TestPage\";\r\nimport ErrorPage from \"./pages/ErrorPage/ErrorPage\";\r\nimport SettingsPage from \"./pages/SettingsPage/SettingsPage\";\r\nimport ForgotPassword from \"./pages/ForgotPassword/ForgotPassword\";\r\nimport ConfirmResetPassword from \"./pages/ConfirmResetPassword/ConfirmResetPassword\";\r\nimport Toolbar from \"./components/Navigation/Toolbar/Toolbar\";\r\nimport VerifyAccount from \"./pages/VerifyAccount/VerifyAccount\";\r\n\r\nimport Feed from \"./components/Feed/Feed\";\r\nimport FullPostPage from \"./pages/FullPostPage/FullPostPage\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ModalsRegistry />\r\n        <Switch>\r\n          <Route path=\"/gag/:postId\" component={FullPostPage} />\r\n          <Route path=\"/test-nav-bar\" component={Toolbar} />\r\n          {/* <Route path=\"/test-feed\" component={Feed} /> */}\r\n          <Route path=\"/feed\" component={Feed} />\r\n          <Route path=\"/verify-user\" component={VerifyAccount} />\r\n          <Route\r\n            path=\"/confirm-reset-password\"\r\n            component={ConfirmResetPassword}\r\n          />\r\n          <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n          <Route path=\"/test\" exact component={TestPage} />\r\n          <Route path=\"/settings\" component={SettingsPage} />\r\n          <Route path=\"/\" exact component={MainPage} />\r\n          <Route component={ErrorPage} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { authenCache } from \"../cache/authen-cache\";\r\nimport { axiosApi } from \"../api/api\";\r\nimport { asyncParallel } from \"../utils/async-utils\";\r\nimport { initClientCache } from \"../cache/api-cache/common-cache\";\r\n\r\nexport const authenLoader = {\r\n  init() {\r\n    axiosApi.addHeader(\"Authorization\", () => {\r\n      let token = authenCache.getAuthen();\r\n      return token ? `Bearer ${token}` : null;\r\n    });\r\n\r\n    return asyncParallel([\r\n      () => authenCache.loadAuthen(),\r\n      () => initClientCache()\r\n    ])\r\n      .then(result => {\r\n        console.log(\"[Async Parallel Init: ]\", result);\r\n        Promise.resolve(result);\r\n      })\r\n      .catch(error => Promise.resolve());\r\n  }\r\n};\r\n","export const asyncParallel = asyncArr =>\n  new Promise((resolve, reject) => {\n    let result = [];\n    let invokeResolve = () => {\n      if (result.length === asyncArr.length) {\n        resolve(result);\n      }\n    };\n    for (let fnc of asyncArr) {\n      fnc()\n        .then(res => {\n          result.push(res);\n          invokeResolve();\n        })\n        .catch(err => {\n          result.push({ error: err });\n          invokeResolve();\n        });\n    }\n  });\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport { authenLoader } from \"./common/authentication/authen-loader\";\r\n\r\nauthenLoader.init().then(() =>\r\n  ReactDOM.render(\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>,\r\n    document.getElementById(\"root\")\r\n  )\r\n);\r\n\r\n// ReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}